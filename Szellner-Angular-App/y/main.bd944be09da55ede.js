(self.webpackChunkSzellner_Angular_App=self.webpackChunkSzellner_Angular_App||[]).push([[179],{2011:(pt,Ae,L)=>{"use strict";L.d(Ae,{Dh:()=>ge,GT:()=>ue,cc:()=>Ce,hO:()=>Oe,on:()=>H,pX:()=>oe,xv:()=>de});var a=L(4650),ee=L(9260),B=L(2122);pt=L.hmd(pt);const re=["ngOnDestroy"],oe=(he,et,ft,Me={})=>new Proxy(he,{get:(be,Se)=>ft.runOutsideAngular(()=>{var Ze;if(he[Se])return!(null===(Ze=Me?.spy)||void 0===Ze)&&Ze.get&&Me.spy.get(Se,he[Se]),he[Se];if(re.indexOf(Se)>-1)return()=>{};const qe=et.toPromise().then(q=>{const _e=q&&q[Se];return"function"==typeof _e?_e.bind(q):_e&&_e.then?_e.then($e=>ft.run(()=>$e)):ft.run(()=>_e)});return new Proxy(()=>{},{get:(q,_e)=>qe[_e],apply:(q,_e,$e)=>qe.then(at=>{var Ct;const nt=at&&at(...$e);return!(null===(Ct=Me?.spy)||void 0===Ct)&&Ct.apply&&Me.spy.apply(Se,$e,nt),nt})})})}),ue=(he,et)=>{et.forEach(ft=>{Object.getOwnPropertyNames(ft.prototype||ft).forEach(Me=>{Object.defineProperty(he.prototype,Me,Object.getOwnPropertyDescriptor(ft.prototype||ft,Me))})})};class X{constructor(et){return et}}const ge=new a.OlP("angularfire2.app.options"),de=new a.OlP("angularfire2.app.name");function H(he,et,ft){const be="object"==typeof ft&&ft||{};be.name=be.name||"string"==typeof ft&&ft||"[DEFAULT]";const Ze=ee.Z.apps.filter(qe=>qe&&qe.name===be.name)[0]||et.runOutsideAngular(()=>ee.Z.initializeApp(he,be));try{JSON.stringify(he)!==JSON.stringify(Ze.options)&&j("error",`${Ze.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new X(Ze)}const j=(he,...et)=>{(0,a.X6Q)()&&typeof console<"u"&&console[he](...et)},K={provide:X,useFactory:H,deps:[ge,a.R0b,[new a.FiY,de]]};let Oe=(()=>{class he{constructor(ft){ee.Z.registerVersion("angularfire",B.q4.full,"core"),ee.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ee.Z.registerVersion("angular",a.q4F.full,ft.toString())}static initializeApp(ft,Me){return{ngModule:he,providers:[{provide:ge,useValue:ft},{provide:de,useValue:Me}]}}}return he.\u0275fac=function(ft){return new(ft||he)(a.LFG(a.Lbi))},he.\u0275mod=a.oAB({type:he}),he.\u0275inj=a.cJS({providers:[K]}),he})();function Ce(he,et,ft,Me,be){const[,Se,Ze]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===he)||[];if(Se)return function Te(he,et){try{return he.toString()===et.toString()}catch{return he===et}}(be,Ze)||(ve("error",`${et} was already initialized on the ${ft} Firebase App with different settings.${it?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:be,was:Ze})),Se;{const qe=Me();return globalThis.\u0275AngularfireInstanceCache.push([he,qe,be]),qe}}const it=!!pt.hot,ve=(he,...et)=>{(0,a.X6Q)()&&typeof console<"u"&&console[he](...et)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(pt,Ae,L)=>{"use strict";L.d(Ae,{q4:()=>Fr,iC:()=>ro,HU:()=>Ac,vb:()=>fa,JM:()=>dl});var a=L(4650),ee=L(259),B=L(5861),re=L(9681),oe=L(2090),ue=L(4859),X=L(1877),ge=L(8766);const de="@firebase/installations",H="0.6.4",K=`w:${H}`,Oe="FIS_v2",et=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(T){return T instanceof oe.ZR&&T.code.includes("request-failed")}function Me({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function be(T){return{token:T.token,requestStatus:2,expiresIn:at(T.expiresIn),creationTime:Date.now()}}function Se(T,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,B.Z)(function*(T,I){const U=(yield I.json()).error;return et.create("request-failed",{requestName:T,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function qe({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function q(T,{refreshToken:I}){const O=qe(T);return O.append("Authorization",function Ct(T){return`${Oe} ${T}`}(I)),O}function _e(T){return $e.apply(this,arguments)}function $e(){return($e=(0,B.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function at(T){return Number(T.replace("s","000"))}function nt(T,I){return le.apply(this,arguments)}function le(){return(le=(0,B.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:O}){const U=Me(T),J=qe(T),se=I.getImmediate({optional:!0});if(se){const vt=yield se.getHeartbeatsHeader();vt&&J.append("x-firebase-client",vt)}const ot={method:"POST",headers:J,body:JSON.stringify({fid:O,authVersion:Oe,appId:T.appId,sdkVersion:K})},yt=yield _e(()=>fetch(U,ot));if(yt.ok){const vt=yield yt.json();return{fid:vt.fid||O,registrationStatus:2,refreshToken:vt.refreshToken,authToken:be(vt.authToken)}}throw yield Se("Create Installation",yt)})).apply(this,arguments)}function me(T){return new Promise(I=>{setTimeout(I,T)})}const Pe=/^[cdef][\w-]{21}$/;function Ie(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const O=function _t(T){return function De(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return Pe.test(O)?O:""}catch{return""}}function $t(T){return`${T.appName}!${T.appId}`}const un=new Map;function rt(T,I){const O=$t(T);Rt(O,I),function Fi(T,I){const O=function Mn(){return!Dn&&"BroadcastChannel"in self&&(Dn=new BroadcastChannel("[Firebase] FID Change"),Dn.onmessage=T=>{Rt(T.data.key,T.data.fid)}),Dn}();O&&O.postMessage({key:T,fid:I}),function Fn(){0===un.size&&Dn&&(Dn.close(),Dn=null)}()}(O,I)}function Rt(T,I){const O=un.get(T);if(O)for(const U of O)U(I)}let Dn=null;const _r="firebase-installations-store";let Zr=null;function Yo(){return Zr||(Zr=(0,ge.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(_r)}})),Zr}function st(T,I){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,B.Z)(function*(T,I){const O=$t(T),J=(yield Yo()).transaction(_r,"readwrite"),se=J.objectStore(_r),ke=yield se.get(O);return yield se.put(I,O),yield J.done,(!ke||ke.fid!==I.fid)&&rt(T,I.fid),I})).apply(this,arguments)}function rs(T){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,B.Z)(function*(T){const I=$t(T),U=(yield Yo()).transaction(_r,"readwrite");yield U.objectStore(_r).delete(I),yield U.done})).apply(this,arguments)}function Nr(T,I){return ss.apply(this,arguments)}function ss(){return(ss=(0,B.Z)(function*(T,I){const O=$t(T),J=(yield Yo()).transaction(_r,"readwrite"),se=J.objectStore(_r),ke=yield se.get(O),ot=I(ke);return void 0===ot?yield se.delete(O):yield se.put(ot,O),yield J.done,ot&&(!ke||ke.fid!==ot.fid)&&rt(T,ot.fid),ot})).apply(this,arguments)}function Ln(T){return ai.apply(this,arguments)}function ai(){return(ai=(0,B.Z)(function*(T){let I;const O=yield Nr(T.appConfig,U=>{const J=bn(U),se=Nt(T,J);return I=se.registrationPromise,se.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function bn(T){return jt(T||{fid:Ie(),registrationStatus:0})}function Nt(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(et.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function Dt(T,I){return yn.apply(this,arguments)}(T,O);return{installationEntry:O,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ei(T)}:{installationEntry:I}}function yn(){return(yn=(0,B.Z)(function*(T,I){try{const O=yield nt(T,I);return st(T.appConfig,O)}catch(O){throw ft(O)&&409===O.customData.serverCode?yield rs(T.appConfig):yield st(T.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function ei(T){return Li.apply(this,arguments)}function Li(){return(Li=(0,B.Z)(function*(T){let I=yield Bi(T.appConfig);for(;1===I.registrationStatus;)yield me(100),I=yield Bi(T.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:U}=yield Ln(T);return U||O}return I})).apply(this,arguments)}function Bi(T){return Nr(T,I=>{if(!I)throw et.create("installation-not-found");return jt(I)})}function jt(T){return function zs(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function dn(T,I){return os.apply(this,arguments)}function os(){return(os=(0,B.Z)(function*({appConfig:T,heartbeatServiceProvider:I},O){const U=hn(T,O),J=q(T,O),se=I.getImmediate({optional:!0});if(se){const vt=yield se.getHeartbeatsHeader();vt&&J.append("x-firebase-client",vt)}const ot={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:K,appId:T.appId}})},yt=yield _e(()=>fetch(U,ot));if(yt.ok)return be(yield yt.json());throw yield Se("Generate Auth Token",yt)})).apply(this,arguments)}function hn(T,{fid:I}){return`${Me(T)}/${I}/authTokens:generate`}function Ci(T){return lr.apply(this,arguments)}function lr(){return(lr=(0,B.Z)(function*(T,I=!1){let O;const U=yield Nr(T.appConfig,se=>{if(!Qt(se))throw et.create("not-registered");const ke=se.authToken;if(!I&&Yi(ke))return se;if(1===ke.requestStatus)return O=ht(T,I),se;{if(!navigator.onLine)throw et.create("app-offline");const ot=G(se);return O=Vt(T,ot),ot}});return O?yield O:U.authToken})).apply(this,arguments)}function ht(T,I){return xe.apply(this,arguments)}function xe(){return(xe=(0,B.Z)(function*(T,I){let O=yield ut(T.appConfig);for(;1===O.authToken.requestStatus;)yield me(100),O=yield ut(T.appConfig);const U=O.authToken;return 0===U.requestStatus?Ci(T,I):U})).apply(this,arguments)}function ut(T){return Nr(T,I=>{if(!Qt(I))throw et.create("not-registered");return function Q(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Vt(T,I){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,B.Z)(function*(T,I){try{const O=yield dn(T,I),U=Object.assign(Object.assign({},I),{authToken:O});return yield st(T.appConfig,U),O}catch(O){if(!ft(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield st(T.appConfig,U)}else yield rs(T.appConfig);throw O}})).apply(this,arguments)}function Qt(T){return void 0!==T&&2===T.registrationStatus}function Yi(T){return 2===T.requestStatus&&!function z(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function G(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function ne(){return(ne=(0,B.Z)(function*(T){const I=T,{installationEntry:O,registrationPromise:U}=yield Ln(I);return U?U.catch(console.error):Ci(I).catch(console.error),O.fid})).apply(this,arguments)}function Pt(){return(Pt=(0,B.Z)(function*(T,I=!1){const O=T;return yield en(O),(yield Ci(O,I)).token})).apply(this,arguments)}function en(T){return cn.apply(this,arguments)}function cn(){return(cn=(0,B.Z)(function*(T){const{registrationPromise:I}=yield Ln(T);I&&(yield I)})).apply(this,arguments)}function Zs(T){return et.create("missing-app-config-values",{valueName:T})}const Qo="installations",xn=T=>{const I=T.getProvider("app").getImmediate(),O=function Tn(T){if(!T||!T.options)throw Zs("App Configuration");if(!T.name)throw Zs("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!T.options[O])throw Zs(O);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,re._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Eo=T=>{const I=T.getProvider("app").getImmediate(),O=(0,re._getProvider)(I,Qo).getImmediate();return{getId:()=>function ce(T){return ne.apply(this,arguments)}(O),getToken:J=>function Qe(T){return Pt.apply(this,arguments)}(O,J)}};(function zl(){(0,re._registerComponent)(new ue.wA(Qo,xn,"PUBLIC")),(0,re._registerComponent)(new ue.wA("installations-internal",Eo,"PRIVATE"))})(),(0,re.registerVersion)(de,H),(0,re.registerVersion)(de,H,"esm2017");const as="@firebase/remote-config",ni=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class op{constructor(I,O,U,J){this.client=I,this.storage=O,this.storageCache=U,this.logger=J}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-O,J=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var O=this;return(0,B.Z)(function*(){const[U,J]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(J&&O.isCachedDataFresh(I.cacheMaxAgeMillis,U))return J;I.eTag=J&&J.eTag;const se=yield O.client.fetch(I),ke=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&ke.push(O.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(ke),se})()}}function To(T=navigator){return T.languages&&T.languages[0]||T.language}class wu{constructor(I,O,U,J,se,ke){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=U,this.projectId=J,this.apiKey=se,this.appId=ke}fetch(I){var O=this;return(0,B.Z)(function*(){const[U,J]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},yt={sdk_version:O.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:O.appId,language_code:To()},vt={method:"POST",headers:ot,body:JSON.stringify(yt)},Jt=fetch(ke,vt),Ut=new Promise((Gi,Xi)=>{I.signal.addEventListener(()=>{const Yr=new Error("The operation was aborted.");Yr.name="AbortError",Xi(Yr)})});let ui;try{yield Promise.race([Jt,Ut]),ui=yield Jt}catch(Gi){let Xi="fetch-client-network";throw"AbortError"===Gi?.name&&(Xi="fetch-timeout"),ni.create(Xi,{originalErrorMessage:Gi?.message})}let Kn=ui.status;const fl=ui.headers.get("ETag")||void 0;let Mc,ga;if(200===ui.status){let Gi;try{Gi=yield ui.json()}catch(Xi){throw ni.create("fetch-client-parse",{originalErrorMessage:Xi?.message})}Mc=Gi.entries,ga=Gi.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?Kn=500:"NO_CHANGE"===ga?Kn=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(Mc={}),304!==Kn&&200!==Kn)throw ni.create("fetch-status",{httpStatus:Kn});return{status:Kn,eTag:fl,config:Mc}})()}}class Fm{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,B.Z)(function*(){const U=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:U}){var J=this;return(0,B.Z)(function*(){yield function li(T,I){return new Promise((O,U)=>{const J=Math.max(I-Date.now(),0),se=setTimeout(O,J);T.addEventListener(()=>{clearTimeout(se),U(ni.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const se=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),se}catch(se){if(!function ih(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(se))throw se;const ke={throttleEndTimeMillis:Date.now()+(0,oe.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(ke),J.attemptFetch(I,ke)}})()}}class Ga{constructor(I,O,U,J,se){this.app=I,this._client=O,this._storageCache=U,this._storage=J,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Eu(T,I){const O=T.target.error||void 0;return ni.create(I,{originalErrorMessage:O&&O?.message})}const Ys="app_namespace_store";class Um{constructor(I,O,U,J=function Vm(){return new Promise((T,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=U=>{I(Eu(U,"storage-open"))},O.onsuccess=U=>{T(U.target.result)},O.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Ys,{keyPath:"compositeKey"})}}catch(O){I(ni.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=I,this.appName=O,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,B.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,se)=>{const ot=U.transaction([Ys],"readonly").objectStore(Ys),yt=O.createCompositeKey(I);try{const vt=ot.get(yt);vt.onerror=Jt=>{se(Eu(Jt,"storage-get"))},vt.onsuccess=Jt=>{const Ut=Jt.target.result;J(Ut?Ut.value:void 0)}}catch(vt){se(ni.create("storage-get",{originalErrorMessage:vt?.message}))}})})()}set(I,O){var U=this;return(0,B.Z)(function*(){const J=yield U.openDbPromise;return new Promise((se,ke)=>{const yt=J.transaction([Ys],"readwrite").objectStore(Ys),vt=U.createCompositeKey(I);try{const Jt=yt.put({compositeKey:vt,value:O});Jt.onerror=Ut=>{ke(Eu(Ut,"storage-set"))},Jt.onsuccess=()=>{se()}}catch(Jt){ke(ni.create("storage-set",{originalErrorMessage:Jt?.message}))}})})()}delete(I){var O=this;return(0,B.Z)(function*(){const U=yield O.openDbPromise;return new Promise((J,se)=>{const ot=U.transaction([Ys],"readwrite").objectStore(Ys),yt=O.createCompositeKey(I);try{const vt=ot.delete(yt);vt.onerror=Jt=>{se(Eu(Jt,"storage-delete"))},vt.onsuccess=()=>{J()}}catch(vt){se(ni.create("storage-delete",{originalErrorMessage:vt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class sh{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,B.Z)(function*(){const O=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),se=yield O;se&&(I.lastFetchStatus=se);const ke=yield U;ke&&(I.lastSuccessfulFetchTimestampMillis=ke);const ot=yield J;ot&&(I.activeConfig=ot)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Zl(){return ap.apply(this,arguments)}function ap(){return(ap=(0,B.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Qs(){(0,re._registerComponent)(new ue.wA("remote-config",function T(I,{instanceIdentifier:O}){const U=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,oe.hl)())throw ni.create("indexed-db-unavailable");const{projectId:se,apiKey:ke,appId:ot}=U.options;if(!se)throw ni.create("registration-project-id");if(!ke)throw ni.create("registration-api-key");if(!ot)throw ni.create("registration-app-id");const yt=new Um(ot,U.name,O=O||"firebase"),vt=new sh(yt),Jt=new X.Yd(as);Jt.logLevel=X.in.ERROR;const Ut=new wu(J,re.SDK_VERSION,O,se,ke,ot),ui=new Fm(Ut,yt),Kn=new op(ui,yt,vt,Jt),fl=new Ga(U,Kn,vt,yt,Jt);return function vn(T){const I=(0,oe.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(fl),fl},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(as,"0.4.4"),(0,re.registerVersion)(as,"0.4.4","esm2017")}();const ls="/firebase-messaging-sw.js",ys="/firebase-cloud-messaging-push-scope",vs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$a="google.c.a.c_id",ql="google.c.a.c_l",Cu="google.c.a.ts",lp="google.c.a.e";var bs=(()=>{return(T=bs||(bs={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",bs;var T})();function kr(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yr(T){const O=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(O),J=new Uint8Array(U.length);for(let se=0;se<U.length;++se)J[se]=U.charCodeAt(se);return J}const Xo="fcm_token_details_db",Hi="fcm_token_object_Store";function cp(T){return up.apply(this,arguments)}function up(){return up=(0,B.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(Xo))return null;let I=null;return(yield(0,ge.X3)(Xo,5,{upgrade:(U=(0,B.Z)(function*(J,se,ke,ot){var yt;if(se<2||!J.objectStoreNames.contains(Hi))return;const vt=ot.objectStore(Hi),Jt=yield vt.index("fcmSenderId").get(T);if(yield vt.clear(),Jt)if(2===se){const Ut=Jt;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;I={token:Ut.fcmToken,createTime:null!==(yt=Ut.createTime)&&void 0!==yt?yt:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:kr(Ut.vapidKey)}}}else if(3===se){const Ut=Jt;I={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:kr(Ut.auth),p256dh:kr(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:kr(Ut.vapidKey)}}}else if(4===se){const Ut=Jt;I={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:kr(Ut.auth),p256dh:kr(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:kr(Ut.vapidKey)}}}}),function(se,ke,ot,yt){return U.apply(this,arguments)})})).close(),yield(0,ge.Lj)(Xo),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),Bn(I)?I:null;var U}),up.apply(this,arguments)}function Bn(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Rr="firebase-messaging-store";let Ji=null;function Yl(){return Ji||(Ji=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Rr)}})),Ji}function Io(T){return ws.apply(this,arguments)}function ws(){return(ws=(0,B.Z)(function*(T){const I=Wr(T),U=yield(yield Yl()).transaction(Rr).objectStore(Rr).get(I);if(U)return U;{const J=yield cp(T.appConfig.senderId);if(J)return yield on(T,J),J}})).apply(this,arguments)}function on(T,I){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,B.Z)(function*(T,I){const O=Wr(T),J=(yield Yl()).transaction(Rr,"readwrite");return yield J.objectStore(Rr).put(I,O),yield J.done,I})).apply(this,arguments)}function Ao(T){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,B.Z)(function*(T){const I=Wr(T),U=(yield Yl()).transaction(Rr,"readwrite");yield U.objectStore(Rr).delete(I),yield U.done})).apply(this,arguments)}function Wr({appConfig:T}){return T.appId}const Pn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ht(T,I){return ec.apply(this,arguments)}function ec(){return(ec=(0,B.Z)(function*(T,I){const O=yield Tu(T),U=Ne(I),J={method:"POST",headers:O,body:JSON.stringify(U)};let se;try{se=yield(yield fetch(Es(T.appConfig),J)).json()}catch(ke){throw Pn.create("token-subscribe-failed",{errorInfo:ke?.toString()})}if(se.error)throw Pn.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw Pn.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function hp(T,I){return tc.apply(this,arguments)}function tc(){return(tc=(0,B.Z)(function*(T,I){const O=yield Tu(T),U=Ne(I.subscriptionOptions),J={method:"PATCH",headers:O,body:JSON.stringify(U)};let se;try{se=yield(yield fetch(`${Es(T.appConfig)}/${I.token}`,J)).json()}catch(ke){throw Pn.create("token-update-failed",{errorInfo:ke?.toString()})}if(se.error)throw Pn.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw Pn.create("token-update-no-token");return se.token})).apply(this,arguments)}function nc(T,I){return Du.apply(this,arguments)}function Du(){return(Du=(0,B.Z)(function*(T,I){const U={method:"DELETE",headers:yield Tu(T)};try{const se=yield(yield fetch(`${Es(T.appConfig)}/${I}`,U)).json();if(se.error)throw Pn.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(J){throw Pn.create("token-unsubscribe-failed",{errorInfo:J?.toString()})}})).apply(this,arguments)}function Es({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function Tu(T){return za.apply(this,arguments)}function za(){return(za=(0,B.Z)(function*({appConfig:T,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function Ne({p256dh:T,auth:I,endpoint:O,vapidKey:U}){const J={web:{endpoint:O,auth:I,p256dh:T}};return U!==vs&&(J.web.applicationPubKey=U),J}const tn=6048e5;function ic(T){return rc.apply(this,arguments)}function rc(){return(rc=(0,B.Z)(function*(T){const I=yield Su(T.swRegistration,T.vapidKey),O={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:kr(I.getKey("auth")),p256dh:kr(I.getKey("p256dh"))},U=yield Io(T.firebaseDependencies);if(U){if(lh(U.subscriptionOptions,O))return Date.now()>=U.createTime+tn?ea(T,{token:U.token,createTime:Date.now(),subscriptionOptions:O}):U.token;try{yield nc(T.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Za(T.firebaseDependencies,O)}return Za(T.firebaseDependencies,O)})).apply(this,arguments)}function Vn(T){return sc.apply(this,arguments)}function sc(){return(sc=(0,B.Z)(function*(T){const I=yield Io(T.firebaseDependencies);I&&(yield nc(T.firebaseDependencies,I.token),yield Ao(T.firebaseDependencies));const O=yield T.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function ea(T,I){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,B.Z)(function*(T,I){try{const O=yield hp(T.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield on(T.firebaseDependencies,U),O}catch(O){throw yield Vn(T),O}})).apply(this,arguments)}function Za(T,I){return qa.apply(this,arguments)}function qa(){return(qa=(0,B.Z)(function*(T,I){const U={token:yield Ht(T,I),createTime:Date.now(),subscriptionOptions:I};return yield on(T,U),U.token})).apply(this,arguments)}function Su(T,I){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,B.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yr(I)})})).apply(this,arguments)}function lh(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function Wa(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Un(T,I){if(!I.notification)return;T.notification={};const O=I.notification.title;O&&(T.notification.title=O);const U=I.notification.body;U&&(T.notification.body=U);const J=I.notification.image;J&&(T.notification.image=J);const se=I.notification.icon;se&&(T.notification.icon=se)}(I,T),function cs(T,I){!I.data||(T.data=I.data)}(I,T),function Au(T,I){var O,U,J,se,ke;if(!(I.fcmOptions||null!==(O=I.notification)&&void 0!==O&&O.click_action))return;T.fcmOptions={};const ot=null!==(J=null===(U=I.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==J?J:null===(se=I.notification)||void 0===se?void 0:se.click_action;ot&&(T.fcmOptions.link=ot);const yt=null===(ke=I.fcmOptions)||void 0===ke?void 0:ke.analytics_label;yt&&(T.fcmOptions.analyticsLabel=yt)}(I,T),I}function Mo(T){return"object"==typeof T&&!!T&&$a in T}function Cs(T,I){const O=[];for(let U=0;U<T.length;U++)O.push(T.charAt(U)),U<I.length&&O.push(I.charAt(U));return O.join("")}function Ka(T){return Pn.create("missing-app-config-values",{valueName:T})}Cs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class jm{constructor(I,O,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Hm(T){if(!T||!T.options)throw Ka("App Configuration Object");if(!T.name)throw Ka("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=T;for(const U of I)if(!O[U])throw Ka(U);return{appName:T.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:O,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Mu(T){return oc.apply(this,arguments)}function oc(){return(oc=(0,B.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(ls,{scope:ys}),T.swRegistration.update().catch(()=>{})}catch(I){throw Pn.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Ya(T,I){return xu.apply(this,arguments)}function xu(){return(xu=(0,B.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield Mu(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Pn.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function Qa(T,I){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,B.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=vs)})).apply(this,arguments)}function lc(){return(lc=(0,B.Z)(function*(T,I){if(!navigator)throw Pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pn.create("permission-blocked");return yield Qa(T,I?.vapidKey),yield Ya(T,I?.serviceWorkerRegistration),ic(T)})).apply(this,arguments)}function Ou(T,I,O){return ku.apply(this,arguments)}function ku(){return(ku=(0,B.Z)(function*(T,I,O){const U=Ru(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:O[$a],message_name:O[ql],message_time:O[Cu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ru(T){switch(T){case bs.NOTIFICATION_CLICKED:return"notification_open";case bs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function xo(){return(xo=(0,B.Z)(function*(T,I){const O=I.data;if(!O.isFirebaseMessaging)return;T.onMessageHandler&&O.messageType===bs.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(Wa(O)):T.onMessageHandler.next(Wa(O)));const U=O.data;Mo(U)&&"1"===U[lp]&&(yield Ou(T,O.messageType,U))})).apply(this,arguments)}const No="@firebase/messaging",ci=T=>{const I=new jm(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function ch(T,I){return xo.apply(this,arguments)}(I,O)),I},vr=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:U=>function ac(T,I){return lc.apply(this,arguments)}(I,U)}};function Pu(){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,B.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function wn(){(0,re._registerComponent)(new ue.wA("messaging",ci,"PUBLIC")),(0,re._registerComponent)(new ue.wA("messaging-internal",vr,"PRIVATE")),(0,re.registerVersion)(No,"0.12.4"),(0,re.registerVersion)(No,"0.12.4","esm2017")}();const na="analytics",hh="firebase_id",ko="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hc="https://www.googletagmanager.com/gtag/js",Hn=new X.Yd("@firebase/analytics");function fc(T){return Promise.all(T.map(I=>I.catch(O=>O)))}function pc(T,I){const O=document.createElement("script");O.src=`${hc}?l=${T}&id=${I}`,O.async=!0,document.head.appendChild(O)}function pp(T,I,O,U,J,se){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,B.Z)(function*(T,I,O,U,J,se){const ke=U[J];try{if(ke)yield I[ke];else{const yt=(yield fc(O)).find(vt=>vt.measurementId===J);yt&&(yield I[yt.appId])}}catch(ot){Hn.error(ot)}T("config",J,se)})).apply(this,arguments)}function ia(T,I,O,U,J){return Po.apply(this,arguments)}function Po(){return(Po=(0,B.Z)(function*(T,I,O,U,J){try{let se=[];if(J&&J.send_to){let ke=J.send_to;Array.isArray(ke)||(ke=[ke]);const ot=yield fc(O);for(const yt of ke){const vt=ot.find(Ut=>Ut.measurementId===yt),Jt=vt&&I[vt.appId];if(!Jt){se=[];break}se.push(Jt)}}0===se.length&&(se=Object.values(I)),yield Promise.all(se),T("event",U,J||{})}catch(se){Hn.error(se)}})).apply(this,arguments)}function ph(T){const I=window.document.getElementsByTagName("script");for(const O of Object.values(I))if(O.src&&O.src.includes(hc)&&O.src.includes(T))return O;return null}const Ti=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),tl=new class us{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function mh(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function nl(T){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,B.Z)(function*(T){var I;const{appId:O,apiKey:U}=T,J={method:"GET",headers:mh(U)},se=ko.replace("{app-id}",O),ke=yield fetch(se,J);if(200!==ke.status&&304!==ke.status){let ot="";try{const yt=yield ke.json();null!==(I=yt.error)&&void 0!==I&&I.message&&(ot=yt.error.message)}catch{}throw Ti.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:ot})}return ke.json()})).apply(this,arguments)}function qn(T){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,B.Z)(function*(T,I=tl,O){const{appId:U,apiKey:J,measurementId:se}=T.options;if(!U)throw Ti.create("no-app-id");if(!J){if(se)return{measurementId:se,appId:U};throw Ti.create("no-api-key")}const ke=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new yc;return setTimeout((0,B.Z)(function*(){ot.abort()}),void 0!==O?O:6e4),mc({appId:U,apiKey:J,measurementId:se},ke,ot,I)})).apply(this,arguments)}function mc(T,I,O){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,B.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:O},U,J=tl){var se;const{appId:ke,measurementId:ot}=T;try{yield il(U,I)}catch(yt){if(ot)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${yt?.message}]`),{appId:ke,measurementId:ot};throw yt}try{const yt=yield nl(T);return J.deleteThrottleMetadata(ke),yt}catch(yt){const vt=yt;if(!_c(vt)){if(J.deleteThrottleMetadata(ke),ot)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ot} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:ke,measurementId:ot};throw yt}const Jt=503===Number(null===(se=vt?.customData)||void 0===se?void 0:se.httpStatus)?(0,oe.$s)(O,J.intervalMillis,30):(0,oe.$s)(O,J.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+Jt,backoffCount:O+1};return J.setThrottleMetadata(ke,Ut),Hn.debug(`Calling attemptFetch again in ${Jt} millis`),mc(T,Ut,U,J)}})).apply(this,arguments)}function il(T,I){return new Promise((O,U)=>{const J=Math.max(I-Date.now(),0),se=setTimeout(O,J);T.addEventListener(()=>{clearTimeout(se),U(Ti.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function _c(T){if(!(T instanceof oe.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class yc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let eo,sl;function to(){return(to=(0,B.Z)(function*(T,I,O,U,J){if(J&&J.global)T("event",O,U);else{const se=yield I;T("event",O,Object.assign(Object.assign({},U),{send_to:se}))}})).apply(this,arguments)}function Bo(T){sl=T}function Uu(T){eo=T}function Ts(){return wc.apply(this,arguments)}function wc(){return(wc=(0,B.Z)(function*(){if(!(0,oe.hl)())return Hn.warn(Ti.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(T){return Hn.warn(Ti.create("indexeddb-unavailable",{errorInfo:T?.toString()}).message),!1}return!0})).apply(this,arguments)}function oa(){return(oa=(0,B.Z)(function*(T,I,O,U,J,se,ke){var ot;const yt=qn(T);yt.then(Kn=>{O[Kn.measurementId]=Kn.appId,T.options.measurementId&&Kn.measurementId!==T.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${Kn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kn=>Hn.error(Kn)),I.push(yt);const vt=Ts().then(Kn=>{if(Kn)return U.getId()}),[Jt,Ut]=yield Promise.all([yt,vt]);ph(se)||pc(se,Jt.measurementId),sl&&(J("consent","default",sl),Bo(void 0)),J("js",new Date);const ui=null!==(ot=ke?.config)&&void 0!==ot?ot:{};return ui.origin="firebase",ui.update=!0,null!=Ut&&(ui[hh]=Ut),J("config",Jt.measurementId,ui),eo&&(J("set",eo),Uu(void 0)),Jt.measurementId})).apply(this,arguments)}class Ec{constructor(I){this.app=I}_delete(){return delete br[this.app.options.appId],Promise.resolve()}}let br={},no=[];const aa={};let ca,Vo,la="dataLayer",ol=!1;function Mv(T,I,O){!function Gm(){const T=[];if((0,oe.ru)()&&T.push("This is a browser extension environment."),(0,oe.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((U,J)=>`(${J+1}) ${U}`).join(" "),O=Ti.create("invalid-analytics-context",{errorInfo:I});Hn.warn(O.message)}}();const U=T.options.appId;if(!U)throw Ti.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Ti.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=br[U])throw Ti.create("already-exists",{id:U});if(!ol){!function fh(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(la);const{wrappedGtag:se,gtagCore:ke}=function Ja(T,I,O,U,J){let se=function(...ke){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(se=window[J]),window[J]=function gc(T,I,O,U){function se(){return(se=(0,B.Z)(function*(ke,ot,yt){try{"event"===ke?yield ia(T,I,O,ot,yt):"config"===ke?yield pp(T,I,O,U,ot,yt):"consent"===ke?T("consent","update",yt):T("set",ot)}catch(vt){Hn.error(vt)}})).apply(this,arguments)}return function J(ke,ot,yt){return se.apply(this,arguments)}}(se,T,I,O),{gtagCore:se,wrappedGtag:window[J]}}(br,no,aa,la,"gtag");Vo=se,ca=ke,ol=!0}return br[U]=function sa(T,I,O,U,J,se,ke){return oa.apply(this,arguments)}(T,no,aa,I,ca,la,O),new Ec(T)}function Nv(){return gp.apply(this,arguments)}function gp(){return(gp=(0,B.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const Ss="@firebase/analytics";!function Ii(){(0,re._registerComponent)(new ue.wA(na,(I,{options:O})=>Mv(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,re._registerComponent)(new ue.wA("analytics-internal",function T(I){try{const O=I.getProvider(na).getImmediate();return{logEvent:(U,J,se)=>function Dc(T,I,O,U){T=(0,oe.m9)(T),function _h(T,I,O,U,J){return to.apply(this,arguments)}(Vo,br[T.app.options.appId],I,O,U).catch(J=>Hn.error(J))}(O,U,J,se)}}catch(O){throw Ti.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,re.registerVersion)(Ss,"0.9.4"),(0,re.registerVersion)(Ss,"0.9.4","esm2017")}();var ds=L(4408),ji=L(7565);const ju=new class wr extends ji.v{}(class Hu extends ds.o{constructor(I,O){super(I,O),this.scheduler=I,this.work=O}schedule(I,O=0){return O>0?super.schedule(I,O):(this.delay=O,this.state=I,this.scheduler.flush(this),this)}execute(I,O){return O>0||this.closed?super.execute(I,O):this._execute(I,O)}requestAsyncId(I,O,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,O,U):(I.flush(this),0)}});var vh=L(4986),Tc=L(8505),ll=L(9468),Sc=L(5363);const Fr=new a.GfV("7.5.0"),ha="__angularfire_symbol__analyticsIsSupportedValue",Lr="__angularfire_symbol__analyticsIsSupported",cl="__angularfire_symbol__remoteConfigIsSupportedValue",Ho="__angularfire_symbol__remoteConfigIsSupported",bh="__angularfire_symbol__messagingIsSupportedValue",Ic="__angularfire_symbol__messagingIsSupported";function dl(T,I,O){if(I){if(1===I.length)return I[0];const se=I.filter(ke=>ke.app===O);if(1===se.length)return se[0]}return O.container.getProvider(T).getImmediate({optional:!0})}globalThis[Lr]||(globalThis[Lr]=Nv().then(T=>globalThis[ha]=T).catch(()=>globalThis[ha]=!1)),globalThis[Ic]||(globalThis[Ic]=Pu().then(T=>globalThis[bh]=T).catch(()=>globalThis[bh]=!1)),globalThis[Ho]||(globalThis[Ho]=Zl().then(T=>globalThis[cl]=T).catch(()=>globalThis[cl]=!1));const fa=(T,I)=>{const O=I?[I]:(0,ee.C6)(),U=[];return O.forEach(J=>{J.container.getProvider(T).instances.forEach(ke=>{U.includes(ke)||U.push(ke)})}),U};function hl(){}class hs{constructor(I,O=ju){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,U){const J=this.zone;return this.delegate.schedule(function(ke){J.runGuarded(()=>{I.apply(this,[ke])})},O,U)}}class Gu{constructor(I){this.zone=I,this.task=null}call(I,O){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hl,{},hl,hl)),O.pipe((0,Tc.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ac=(()=>{class T{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new hs(Zone.current)),this.insideAngular=O.run(()=>new hs(Zone.current,vh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(O){return new(O||T)(a.LFG(a.R0b))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function io(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function ro(T){return io(),function Eh(T){return function(O){return(O=O.lift(new Gu(T.ngZone))).pipe((0,ll.R)(T.outsideAngular),(0,Sc.Q)(T.insideAngular))}}(io())(T)}},2090:(pt,Ae,L)=>{"use strict";L.d(Ae,{$s:()=>Vt,BH:()=>Se,G6:()=>Pe,L:()=>de,LL:()=>rt,Pz:()=>be,Sg:()=>Ze,UG:()=>_e,US:()=>ue,ZB:()=>K,ZR:()=>un,aH:()=>Me,b$:()=>Ct,eu:()=>Ie,hl:()=>Le,jU:()=>$e,m9:()=>Yi,ne:()=>bn,pd:()=>Ln,r3:()=>_r,ru:()=>at,tV:()=>H,uI:()=>q,vZ:()=>Ki,w1:()=>le,xO:()=>Nr,xb:()=>Yo,z$:()=>qe,zI:()=>_t,zd:()=>ss});const re=function(z){const G=[];let Q=0;for(let ce=0;ce<z.length;ce++){let ne=z.charCodeAt(ce);ne<128?G[Q++]=ne:ne<2048?(G[Q++]=ne>>6|192,G[Q++]=63&ne|128):55296==(64512&ne)&&ce+1<z.length&&56320==(64512&z.charCodeAt(ce+1))?(ne=65536+((1023&ne)<<10)+(1023&z.charCodeAt(++ce)),G[Q++]=ne>>18|240,G[Q++]=ne>>12&63|128,G[Q++]=ne>>6&63|128,G[Q++]=63&ne|128):(G[Q++]=ne>>12|224,G[Q++]=ne>>6&63|128,G[Q++]=63&ne|128)}return G},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,G){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let ne=0;ne<z.length;ne+=3){const Qe=z[ne],Pt=ne+1<z.length,en=Pt?z[ne+1]:0,cn=ne+2<z.length,He=cn?z[ne+2]:0;let Rn=(15&en)<<2|He>>6,Vi=63&He;cn||(Vi=64,Pt||(Rn=64)),ce.push(Q[Qe>>2],Q[(3&Qe)<<4|en>>4],Q[Rn],Q[Vi])}return ce.join("")},encodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(z):this.encodeByteArray(re(z),G)},decodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(z):function(z){const G=[];let Q=0,ce=0;for(;Q<z.length;){const ne=z[Q++];if(ne<128)G[ce++]=String.fromCharCode(ne);else if(ne>191&&ne<224){const Qe=z[Q++];G[ce++]=String.fromCharCode((31&ne)<<6|63&Qe)}else if(ne>239&&ne<365){const cn=((7&ne)<<18|(63&z[Q++])<<12|(63&z[Q++])<<6|63&z[Q++])-65536;G[ce++]=String.fromCharCode(55296+(cn>>10)),G[ce++]=String.fromCharCode(56320+(1023&cn))}else{const Qe=z[Q++],Pt=z[Q++];G[ce++]=String.fromCharCode((15&ne)<<12|(63&Qe)<<6|63&Pt)}}return G.join("")}(this.decodeStringToByteArray(z,G))},decodeStringToByteArray(z,G){this.init_();const Q=G?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let ne=0;ne<z.length;){const Qe=Q[z.charAt(ne++)],en=ne<z.length?Q[z.charAt(ne)]:0;++ne;const He=ne<z.length?Q[z.charAt(ne)]:64;++ne;const Et=ne<z.length?Q[z.charAt(ne)]:64;if(++ne,null==Qe||null==en||null==He||null==Et)throw new X;ce.push(Qe<<2|en>>4),64!==He&&(ce.push(en<<4&240|He>>2),64!==Et&&ce.push(He<<6&192|Et))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class X extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(z){return function(z){const G=re(z);return ue.encodeByteArray(G,!0)}(z).replace(/\./g,"")},H=function(z){try{return ue.decodeString(z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function K(z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return G}for(const Q in G)!G.hasOwnProperty(Q)||!Oe(Q)||(z[Q]=K(z[Q],G[Q]));return z}function Oe(z){return"__proto__"!==z}const he=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=z&&H(z[1]);return G&&JSON.parse(G)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Me=()=>{var z;return null===(z=he())||void 0===z?void 0:z.config},be=z=>{var G;return null===(G=he())||void 0===G?void 0:G[`_${z}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Q)=>{this.resolve=G,this.reject=Q})}wrapCallback(G){return(Q,ce)=>{Q?this.reject(Q):this.resolve(ce),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Q):G(Q,ce))}}}function Ze(z,G){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=G||"demo-project",ne=z.iat||0,Qe=z.sub||z.user_id;if(!Qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pt=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:ne,exp:ne+3600,auth_time:ne,sub:Qe,user_id:Qe,firebase:{sign_in_provider:"custom",identities:{}}},z);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Pt)),""].join(".")}function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function _e(){var z;const G=null===(z=he())||void 0===z?void 0:z.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function $e(){return"object"==typeof self&&self.self===self}function at(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function le(){const z=qe();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Pe(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Le(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((z,G)=>{try{let Q=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",ne=self.indexedDB.open(ce);ne.onsuccess=()=>{ne.result.close(),Q||self.indexedDB.deleteDatabase(ce),z(!0)},ne.onupgradeneeded=()=>{Q=!1},ne.onerror=()=>{var Qe;G((null===(Qe=ne.error)||void 0===Qe?void 0:Qe.message)||"")}}catch(Q){G(Q)}})}function _t(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class un extends Error{constructor(G,Q,ce){super(Q),this.code=G,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rt.prototype.create)}}class rt{constructor(G,Q,ce){this.service=G,this.serviceName=Q,this.errors=ce}create(G,...Q){const ce=Q[0]||{},ne=`${this.service}/${G}`,Qe=this.errors[G],Pt=Qe?function ln(z,G){return z.replace(Mt,(Q,ce)=>{const ne=G[ce];return null!=ne?String(ne):`<${ce}?>`})}(Qe,ce):"Error";return new un(ne,`${this.serviceName}: ${Pt} (${ne}).`,ce)}}const Mt=/\{\$([^}]+)}/g;function _r(z,G){return Object.prototype.hasOwnProperty.call(z,G)}function Yo(z){for(const G in z)if(Object.prototype.hasOwnProperty.call(z,G))return!1;return!0}function Ki(z,G){if(z===G)return!0;const Q=Object.keys(z),ce=Object.keys(G);for(const ne of Q){if(!ce.includes(ne))return!1;const Qe=z[ne],Pt=G[ne];if(rs(Qe)&&rs(Pt)){if(!Ki(Qe,Pt))return!1}else if(Qe!==Pt)return!1}for(const ne of ce)if(!Q.includes(ne))return!1;return!0}function rs(z){return null!==z&&"object"==typeof z}function Nr(z){const G=[];for(const[Q,ce]of Object.entries(z))Array.isArray(ce)?ce.forEach(ne=>{G.push(encodeURIComponent(Q)+"="+encodeURIComponent(ne))}):G.push(encodeURIComponent(Q)+"="+encodeURIComponent(ce));return G.length?"&"+G.join("&"):""}function ss(z){const G={};return z.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[ne,Qe]=ce.split("=");G[decodeURIComponent(ne)]=decodeURIComponent(Qe)}}),G}function Ln(z){const G=z.indexOf("?");if(!G)return"";const Q=z.indexOf("#",G);return z.substring(G,Q>0?Q:void 0)}function bn(z,G){const Q=new Nt(z,G);return Q.subscribe.bind(Q)}class Nt{constructor(G,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{G(this)}).catch(ce=>{this.error(ce)})}next(G){this.forEachObserver(Q=>{Q.next(G)})}error(G){this.forEachObserver(Q=>{Q.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Q,ce){let ne;if(void 0===G&&void 0===Q&&void 0===ce)throw new Error("Missing Observer.");ne=function yn(z,G){if("object"!=typeof z||null===z)return!1;for(const Q of G)if(Q in z&&"function"==typeof z[Q])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Q,complete:ce},void 0===ne.next&&(ne.next=ei),void 0===ne.error&&(ne.error=ei),void 0===ne.complete&&(ne.complete=ei);const Qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ne.error(this.finalError):ne.complete()}catch{}}),this.observers.push(ne),Qe}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,G)}sendOne(G,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Q(this.observers[G])}catch(ce){typeof console<"u"&&console.error&&console.error(ce)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ei(){}function Vt(z,G=1e3,Q=2){const ce=G*Math.pow(Q,z),ne=Math.round(.5*ce*(Math.random()-.5)*2);return Math.min(144e5,ce+ne)}function Yi(z){return z&&z._delegate?z._delegate:z}},2195:(pt,Ae,L)=>{"use strict";var a=L(4650);let ee=null;function B(){return ee}const X=new a.OlP("DocumentToken");let ge=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function de(){return(0,a.LFG)(j)}()},providedIn:"platform"}),n})();const H=new a.OlP("Location Initialized");let j=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){K()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){K()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Oe(){return new j((0,a.LFG)(X))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function Ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(et)},providedIn:"root"}),n})();const he=new a.OlP("appBaseHref");let et=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ce(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+it(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const u=this.prepareExternalUrl(r+it(s));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){const u=this.prepareExternalUrl(r+it(s));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ge),a.LFG(he,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n extends ve{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ce(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let u=this.prepareExternalUrl(r+it(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,s){let u=this.prepareExternalUrl(r+it(s));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ge),a.LFG(he,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Te(Ze(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+it(i))}normalize(t){return n.stripTrailingSlash(function Se(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=it,n.joinWithSlash=Ce,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(a.LFG(ve))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function be(){return new Me((0,a.LFG)(ve))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}function Ha(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let gn=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ja{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ja(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,u),Ks(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Ks(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ks(n,e){n.context.$implicit=e.item}let vn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new vu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Di("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Di("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class vu{constructor(){this.$implicit=null,this.ngIf=null}}function Di(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class cr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Jo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Do=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new cr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Jo,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class ih{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Fm{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const _s=new Fm,Lm=new ih;let Ga=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,a.QGY)(t))return _s;if((0,a.F4k)(t))return Lm;throw function li(n,e){return new a.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const bs="browser";function Hi(n){return"server"===n}let Kl=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new dp((0,a.LFG)(X),window)}),n})();class dp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ji(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const u=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Rr(this.window.history)||Rr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Rr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Io{}class xo extends class ch extends class ue{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){ee||(ee=n)}(new xo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function cc(){return No=No||document.querySelector("base"),No?No.getAttribute("href"):null}();return null==t?null:function vr(n){ci=ci||document.createElement("a"),ci.setAttribute("href",n);const e=ci.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){No=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ha(document.cookie,e)}}let ci,No=null;const wn=new a.OlP("TRANSITION_ID"),Fu=[{provide:a.ip1,useFactory:function Pu(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[wn,X,a.zs3],multi:!0}];let Lu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const uc=new a.OlP("EventManagerPlugins");let uh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const u=r[s];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(uc),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class dc{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Oo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ta=(()=>{class n extends Oo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const u=this._doc.createElement("style");u.textContent=s,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(dh),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dh))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function dh(n){B().remove(n)}const na={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},hh=/%COMP%/g;function pc(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?pc(n,r,t):(r=r.replace(hh,n),t.push(r))}return t}function fh(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ro=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ia(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ph(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case a.ifc.ShadowDom:return new gh(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=pc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(uh),a.LFG(ta),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ia{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(na[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ja(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Ja(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=na[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=na[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,i,r&a.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,fh(i)):this.eventManager.addEventListener(e,t,fh(i))}}function Ja(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ph extends ia{constructor(e,t,i,r){super(e),this.component=i;const s=pc(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function Hn(n){return"_ngcontent-%COMP%".replace(hh,n)}(r+"-"+i.id),this.hostAttr=function fc(n){return"_nghost-%COMP%".replace(hh,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class gh extends ia{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=pc(r.id,r.styles,[]);for(let u=0;u<s.length;u++){const h=document.createElement("style");h.textContent=s[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ti=(()=>{class n extends dc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Xa=["alt","control","meta","shift"],el={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},us={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tl=(()=>{class n extends dc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),u=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Xa.forEach(y=>{const C=i.indexOf(y);C>-1&&(i.splice(C,1),u+=y+".")}),u+=s,0!=i.length||0===s.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(t,i){let r=el[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Xa.forEach(u=>{u!==r&&(0,us[u])(t)&&(s+=u+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const yc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:bs},{provide:a.g9A,useValue:function mc(){xo.makeCurrent()},multi:!0},{provide:X,useFactory:function il(){return(0,a.RDi)(document),document},deps:[]}]),eo=new a.OlP(""),_h=[{provide:a.rWj,useClass:class fp{addToWindow(e){a.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,u=!1;const h=function(g){u=u||g,s--,0==s&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],to=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Fo(){return new a.qLn},deps:[]},{provide:uc,useClass:Ti,multi:!0,deps:[X,a.R0b,a.Lbi]},{provide:uc,useClass:tl,multi:!0,deps:[X]},{provide:Ro,useClass:Ro,deps:[uh,ta,a.AFp]},{provide:a.FYo,useExisting:Ro},{provide:Oo,useExisting:ta},{provide:ta,useClass:ta,deps:[X]},{provide:uh,useClass:uh,deps:[uc,a.R0b]},{provide:Io,useClass:Lu,deps:[]},[]];let vc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:wn,useExisting:a.AFp},Fu]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(eo,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...to,..._h],imports:[Nn,a.hGG]}),n})(),Ds=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ra(){return new Ds((0,a.LFG)(X))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):a.LFG(Zm),i},providedIn:"root"}),n})(),Zm=(()=>{class n extends ua{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,a.JVY)(t)}bypassSecurityTrustStyle(t){return(0,a.L6k)(t)}bypassSecurityTrustScript(t){return(0,a.eBb)(t)}bypassSecurityTrustUrl(t){return(0,a.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,a.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function zm(n){return new Zm(n.get(X))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();class Dc{}const Ss="*";function Uo(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ii(n,e=null){return{type:4,styles:e,timings:n}}function Hu(n,e=null){return{type:2,steps:n,options:e}}function ji(n){return{type:6,styles:n,offset:null}}function wr(n,e,t){return{type:0,name:n,styles:e,options:t}}function al(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ha(n){Promise.resolve().then(n)}class Lr{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ha(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class cl{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?ha(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==s&&this._onFinish()}),u.onDestroy(()=>{++i==s&&this._onDestroy()}),u.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function Ic(n){return new a.vHH(3e3,!1)}function Gi(){return typeof window<"u"&&typeof window.document<"u"}function Xi(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Yr(n){switch(n.length){case 0:return new Lr;case 1:return n[0];default:return new cl(n)}}function Ov(n,e,t,i,r=new Map,s=new Map){const u=[],h=[];let g=-1,y=null;if(i.forEach(C=>{const S=C.get("offset"),k=S==g,F=k&&y||new Map;C.forEach((V,$)=>{let te=$,Ee=V;if("offset"!==$)switch(te=e.normalizePropertyName(te,u),Ee){case"!":Ee=r.get($);break;case Ss:Ee=s.get($);break;default:Ee=e.normalizeStyleValue($,te,Ee,u)}F.set(te,Ee)}),k||h.push(F),y=F,g=S}),u.length)throw function J(n){return new a.vHH(3502,!1)}();return h}function Ch(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&yp(t,"start",n)));break;case"done":n.onDone(()=>i(t&&yp(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&yp(t,"destroy",n)))}}function yp(n,e,t){const s=Dh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(s._data=u),s}function Dh(n,e,t,i,r="",s=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!u}}function Qr(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function Km(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Th=(n,e)=>!1,zu=(n,e,t)=>[],xc=null;function vp(n){const e=n.parentNode||n.host;return e===xc?null:e}(Xi()||typeof Element<"u")&&(Gi()?(xc=(()=>document.documentElement)(),Th=(n,e)=>{for(;e;){if(e===n)return!0;e=vp(e)}return!1}):Th=(n,e)=>n.contains(e),zu=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let ma=null,Rv=!1;const wp=Th,Fv=zu;let Lv=(()=>{class n{validateStyleProperty(t){return function Pv(n){ma||(ma=function bp(){return typeof document<"u"?document.body:null}()||{},Rv=!!ma.style&&"WebkitAppearance"in ma.style);let e=!0;return ma.style&&!function bE(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ma.style,!e&&Rv&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ma.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return wp(t,i)}getParentElement(t){return vp(t)}query(t,i,r){return Fv(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,u,h=[],g){return new Lr(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Qm=(()=>{class n{}return n.NOOP=new Lv,n})();const Ep="ng-enter",Zu="ng-leave",Nc="ng-trigger",pl=".ng-trigger",Cp="ng-animating",Oc=".ng-animating";function $i(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sh(parseFloat(e[1]),e[2])}function Sh(n,e){return"s"===e?1e3*n:n}function Ih(n,e,t){return n.hasOwnProperty("duration")?n:function Dp(n,e,t){let r,s=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(Ic()),{duration:0,delay:0,easing:""};r=Sh(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(s=Sh(parseFloat(g),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,g=e.length;r<0&&(e.push(function ul(){return new a.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function qm(){return new a.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,Ic())}return{duration:r,delay:s,easing:u}}(n,e,t)}function kc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function qu(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function _a(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Tp(n,e,t){return t?e+":"+t+";":""}function t_(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Tp(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Tp(0,n_(t),n.style[t]));n.setAttribute("style",e)}function so(n,e,t){n.style&&(e.forEach((i,r)=>{const s=Wu(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i}),Xi()&&t_(n))}function Yn(n,e){n.style&&(e.forEach((t,i)=>{const r=Wu(i);n.style[r]=""}),Xi()&&t_(n))}function gl(n){return Array.isArray(n)?1==n.length?n[0]:Hu(n):n}const As=new RegExp("{{\\s*(.+?)\\s*}}","g");function er(n){let e=[];if("string"==typeof n){let t;for(;t=As.exec(n);)e.push(t[1]);As.lastIndex=0}return e}function jo(n,e,t){const i=n.toString(),r=i.replace(As,(s,u)=>{let h=e[u];return null==h&&(t.push(function Wm(n){return new a.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function ml(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Vv=/-+([a-z0-9])/g;function Wu(n){return n.replace(Vv,(...e)=>e[1].toUpperCase())}function n_(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function dl(n){return new a.vHH(3004,!1)}()}}function Sp(n,e){return window.getComputedStyle(n)[e]}function $v(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function zv(n,e,t){if(":"==n[0]){const g=function Ku(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function T(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function _p(n){return new a.vHH(3015,!1)}()),e;const r=i[1],s=i[2],u=i[3];e.push(Zv(r,u));"<"==s[0]&&!("*"==r&&"*"==u)&&e.push(Zv(u,r))}(i,t,e)):t.push(n),t}const ya=new Set(["true","1"]),Yu=new Set(["false","0"]);function Zv(n,e){const t=ya.has(n)||Yu.has(n),i=ya.has(e)||Yu.has(e);return(r,s)=>{let u="*"==n||n==r,h="*"==e||e==s;return!u&&t&&"boolean"==typeof r&&(u=r?ya.has(n):Yu.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?ya.has(e):Yu.has(e)),u&&h}}const Mp=new RegExp("s*:selfs*,?","g");function xh(n,e,t,i){return new Nh(n).build(e,t,i)}class Nh{constructor(e){this._driver=e}build(e,t,i){const r=new Kv(t);return this._resetContextStyleTimingState(r),Jr(this,gl(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function hl(){return new a.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,y=g.name;y.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,s.push(this.visitState(g,t))}),g.name=y}else if(1==h.type){const g=this.visitTransition(h,t);i+=g.queryCount,r+=g.depCount,u.push(g)}else t.errors.push(function hs(){return new a.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{er(g).forEach(y=>{u.hasOwnProperty(y)||s.add(y)})})}),s.size&&(ml(s.values()),t.errors.push(function Gu(n,e){return new a.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Jr(this,gl(e.animation),t);return{type:1,matchers:$v(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:_l(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Jr(this,i,t)),options:_l(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(u=>{t.currentTime=i;const h=Jr(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:_l(e.options)}}visitAnimate(e,t){const i=function Qu(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ju(Ih(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Ju(0,0,"");return s.dynamic=!0,s.strValue=t,s}const r=Ih(t,e);return Ju(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:ji({});if(5==s.type)r=this.visitKeyframes(s,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=ji(y)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,t);g.isEmptyStep=h,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Ss?i.push(h):t.errors.push(new a.vHH(3002,!1)):i.push(qu(h));let s=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!s))for(let g of h.values())if(g.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const y=t.collectedStyles.get(t.currentQuerySelector),C=y.get(g);let S=!0;C&&(s!=r&&s>=C.startTime&&r<=C.endTime&&(t.errors.push(function $u(n,e,t,i,r){return new a.vHH(3010,!1)}()),S=!1),s=C.startTime),S&&y.set(g,{startTime:s,endTime:r}),t.options&&function Bv(n,e,t){const i=e.params||{},r=er(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function wh(n){return new a.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Is(){return new a.vHH(3011,!1)}()),i;let s=0;const u=[];let h=!1,g=!1,y=0;const C=e.steps.map(Ee=>{const Be=this._makeStyleAst(Ee,t);let We=null!=Be.offset?Be.offset:function Yv(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Be.styles),Ve=0;return null!=We&&(s++,Ve=Be.offset=We),g=g||Ve<0||Ve>1,h=h||Ve<y,y=Ve,u.push(Ve),Be});g&&t.errors.push(function mp(){return new a.vHH(3012,!1)}()),h&&t.errors.push(function pa(){return new a.vHH(3200,!1)}());const S=e.steps.length;let k=0;s>0&&s<S?t.errors.push(function ro(){return new a.vHH(3202,!1)}()):0==s&&(k=1/(S-1));const F=S-1,V=t.currentTime,$=t.currentAnimateTimings,te=$.duration;return C.forEach((Ee,Be)=>{const We=k>0?Be==F?1:k*Be:u[Be],Ve=We*te;t.currentTime=V+$.delay+Ve,$.duration=Ve,this._validateStyleAst(Ee,t),Ee.offset=We,i.styles.push(Ee)}),i}visitReference(e,t){return{type:8,animation:Jr(this,gl(e.animation),t),options:_l(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:_l(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:_l(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,u]=function qv(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Mp,"")),n=n.replace(/@\*/g,pl).replace(/@\w+/g,t=>pl+"-"+t.slice(1)).replace(/:animating/g,Oc),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Qr(t.collectedStyles,t.currentQuerySelector,new Map);const h=Jr(this,gl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:_l(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Eh(){return new a.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ih(e.timings,t.errors,!0);return{type:12,animation:Jr(this,gl(e.animation),t),timings:i,options:null}}}class Kv{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function _l(n){return n?(n=kc(n)).params&&(n.params=function Wv(n){return n?kc(n):null}(n.params)):n={},n}function Ju(n,e,t){return{duration:n,delay:e,easing:t}}function Xu(n,e,t,i,r,s,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:u,subTimeline:h}}class ed{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const r_=new RegExp(":enter","g"),kh=new RegExp(":leave","g");function lo(n,e,t,i,r,s=new Map,u=new Map,h,g,y=[]){return(new s_).buildKeyframes(n,e,t,i,r,s,u,h,g,y)}class s_{buildKeyframes(e,t,i,r,s,u,h,g,y,C=[]){y=y||new ed;const S=new Np(e,t,y,r,s,C,[]);S.options=g;const k=g.delay?$i(g.delay):0;S.currentTimeline.delayNextStep(k),S.currentTimeline.setStyles([u],null,S.errors,g),Jr(this,i,S);const F=S.timelines.filter(V=>V.containsAnimation());if(F.length&&h.size){let V;for(let $=F.length-1;$>=0;$--){const te=F[$];if(te.element===t){V=te;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([h],null,S.errors,g)}return F.length?F.map(V=>V.buildKeyframes()):[Xu(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);s!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const s=r?.delay;if(s){const u="number"==typeof s?s:$i(jo(s,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const u=null!=i.duration?$i(i.duration):null,h=null!=i.delay?$i(i.delay):null;return 0!==u&&e.forEach(g=>{const y=t.appendInstructionToTimeline(g,u,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Jr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yl);const u=$i(s.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Jr(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?$i(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),Jr(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Ih(t.params?jo(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*s),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?$i(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=yl);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((y,C)=>{t.currentQueryIndex=C;const S=t.createSubContext(e.options,y);s&&S.delayNextStep(s),y===t.element&&(g=S.currentTimeline),Jr(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,u=Math.abs(s.duration),h=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const C=t.currentTimeline;g&&C.delayNextStep(g);const S=C.currentTime;Jr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const yl={};class Np{constructor(e,t,i,r,s,u,h,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Er(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=$i(i.duration)),null!=i.delay&&(r.delay=$i(i.delay));const s=i.params;if(s){let u=r.params;u||(u=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=jo(s[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new Np(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=yl,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new va(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(r_,"."+this._enterClassName)).replace(kh,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&u.push(function Wn(n){return new a.vHH(3014,!1)}()),h}}class Er{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Er(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ss),this._currentKeyframe.set(t,Ss);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const s=r&&r.params||{},u=function o_(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)t.set(s,Ss)}else _a(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of u){const y=jo(g,s,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Ss),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const y=_a(h,new Map,this._backFill);y.forEach((C,S)=>{"!"===C?e.add(S):C===Ss&&t.add(S)}),i||y.set("offset",g/this.duration),r.push(y)});const s=e.size?ml(e.values()):[],u=t.size?ml(t.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return Xu(this.element,r,s,u,this.duration,this.startTime,this.easing,!1)}}class va extends Er{constructor(e,t,i,r,s,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],u=i+t,h=t/u,g=_a(e[0]);g.set("offset",0),s.push(g);const y=_a(e[0]);y.set("offset",Op(h)),s.push(y);const C=e.length-1;for(let S=1;S<=C;S++){let k=_a(e[S]);const F=k.get("offset");k.set("offset",Op((t+F*i)/u)),s.push(k)}i=u,t=0,r="",e=s}return Xu(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function Op(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Pc{}const Rp=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Rh extends Pc{normalizePropertyName(e,t){return Wu(e)}normalizeStyleValue(e,t,i,r){let s="";const u=i.toString().trim();if(Rp.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function fa(n,e){return new a.vHH(3005,!1)}())}return u+s}}function fs(n,e,t,i,r,s,u,h,g,y,C,S,k){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:y,postStyleProps:C,totalTime:S,errors:k}}const td={};class Ph{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function Pp(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,u,h,g,y,C){const S=[],k=this.ast.options&&this.ast.options.params||td,V=this.buildStyles(i,h&&h.params||td,S),$=g&&g.params||td,te=this.buildStyles(r,$,S),Ee=new Set,Be=new Map,We=new Map,Ve="void"===r,Ke={params:Fc($,k),delay:this.ast.options?.delay},Ye=C?[]:lo(e,t,this.ast.animation,s,u,V,te,Ke,y,S);let At=0;if(Ye.forEach(On=>{At=Math.max(On.duration+On.delay,At)}),S.length)return fs(t,this._triggerName,i,r,Ve,V,te,[],[],Be,We,At,S);Ye.forEach(On=>{const kn=On.element,wi=Qr(Be,kn,new Set);On.preStyleProps.forEach(Ri=>wi.add(Ri));const ns=Qr(We,kn,new Set);On.postStyleProps.forEach(Ri=>ns.add(Ri)),kn!==t&&Ee.add(kn)});const Xt=ml(Ee.values());return fs(t,this._triggerName,i,r,Ve,V,te,Ye,Xt,Be,We,At)}}function Fc(n,e){const t=kc(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class Br{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=kc(this.defaultParams);return Object.keys(e).forEach(s=>{const u=e[s];null!==u&&(r[s]=u)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((u,h)=>{u&&(u=jo(u,r,t));const g=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,g,u,t),i.set(g,u)})}),i}}class Fp{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new Br(r.style,r.options&&r.options.params||{},i))}),Ms(this.states,"true","1"),Ms(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Ph(e,r,this.states))}),this.fallbackTransition=function Jv(n,e,t){return new Ph(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Ms(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const vl=new ed;class nd{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],s=xh(this._driver,t,i,[]);if(i.length)throw function se(n){return new a.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,i){const r=e.element,s=Ov(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations.get(e);let u;const h=new Map;if(s?(u=lo(this._driver,t,s,Ep,Zu,new Map,new Map,i,vl,r),u.forEach(C=>{const S=Qr(h,C.element,new Map);C.postStyleProps.forEach(k=>S.set(k,null))})):(r.push(function ke(){return new a.vHH(3300,!1)}()),u=[]),r.length)throw function ot(n){return new a.vHH(3504,!1)}();h.forEach((C,S)=>{C.forEach((k,F)=>{C.set(F,this._driver.computeStyle(S,F,Ss))})});const y=Yr(u.map(C=>{const S=h.get(C.element);return this._buildPlayer(C,new Map,S)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function yt(n){return new a.vHH(3301,!1)}();return t}listen(e,t,i,r){const s=Dh(t,"","","");return Ch(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const id="ng-animate-queued",rd="ng-animate-disabled",Lp=[],v={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},p={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},m="__ng_removed";class w{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Ft(n){return n??null}(i?e.value:e),i){const s=kc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const x="void",R=new w(x);class Y{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Vr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function vt(n,e){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function Jt(n){return new a.vHH(3303,!1)}();if(!function Ai(n){return"start"==n||"done"==n}(i))throw function Ut(n,e){return new a.vHH(3400,!1)}();const s=Qr(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};s.push(u);const h=Qr(this._engine.statesByElement,e,new Map);return h.has(t)||(Vr(e,Nc),Vr(e,Nc+"-"+t),h.set(t,R)),()=>{this._engine.afterFlush(()=>{const g=s.indexOf(u);g>=0&&s.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function ui(n){return new a.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),u=new ze(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Vr(e,Nc),Vr(e,Nc+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const y=new w(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&y.absorbOptions(g.options),h.set(t,y),g||(g=R),y.value!==x&&g.value===y.value){if(!function Hp(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(g.params,y.params)){const $=[],te=s.matchStyles(g.value,g.params,$),Ee=s.matchStyles(y.value,y.params,$);$.length?this._engine.reportError($):this._engine.afterFlush(()=>{Yn(e,te),so(e,Ee)})}return}const k=Qr(this._engine.playersByElement,e,[]);k.forEach($=>{$.namespaceId==this.id&&$.triggerName==t&&$.queued&&$.destroy()});let F=s.matchTransition(g.value,y.value,e,y.params),V=!1;if(!F){if(!r)return;F=s.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:g,toState:y,player:u,isFallbackTransition:V}),V||(Vr(e,id),u.onStart(()=>{wl(e,id)})),u.onDone(()=>{let $=this.players.indexOf(u);$>=0&&this.players.splice($,1);const te=this._engine.playersByElement.get(e);if(te){let Ee=te.indexOf(u);Ee>=0&&te.splice(Ee,1)}}),this.players.push(u),k.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,pl,!0);i.forEach(r=>{if(r[m])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),u=new Map;if(s){const h=[];if(s.forEach((g,y)=>{if(u.set(y,g.value),this._triggers.has(y)){const C=this.trigger(e,y,x,r);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Yr(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const u=s.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,y=i.get(u)||R,C=new w(x),S=new ze(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:y,toState:C,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[m];(!s||s===v)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Vr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,u=this._elementListeners.get(s);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=Dh(s,i.triggerName,i.fromState.value,i.toState.value);g._data=e,Ch(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==s||0==u?s-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class fe{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Y(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const g=r.get(h);if(g){const y=i.indexOf(g);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}return t}trigger(e,t,i,r){if(St(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!St(t))return;const s=t[m];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Vr(e,rd)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),wl(e,rd))}removeNode(e,t,i,r){if(St(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[m]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return St(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,pl,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Oc,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[m];if(t&&t.setForRemoval){if(e[m]=v,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(rd)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Vr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Yr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Kn(n){return new a.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new ed,r=[],s=new Map,u=[],h=new Map,g=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(tt=>{C.add(tt);const bt=this.driver.query(tt,".ng-animate-queued",!0);for(let Bt=0;Bt<bt.length;Bt++)C.add(bt[Bt])});const S=this.bodyNode,k=Array.from(this.statesByElement.keys()),F=Bp(k,this.collectedEnterElements),V=new Map;let $=0;F.forEach((tt,bt)=>{const Bt=Ep+$++;V.set(bt,Bt),tt.forEach(sn=>Vr(sn,Bt))});const te=[],Ee=new Set,Be=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const bt=this.collectedLeaveElements[tt],Bt=bt[m];Bt&&Bt.setForRemoval&&(te.push(bt),Ee.add(bt),Bt.hasAnimation?this.driver.query(bt,".ng-star-inserted",!0).forEach(sn=>Ee.add(sn)):Be.add(bt))}const We=new Map,Ve=Bp(k,Array.from(Ee));Ve.forEach((tt,bt)=>{const Bt=Zu+$++;We.set(bt,Bt),tt.forEach(sn=>Vr(sn,Bt))}),e.push(()=>{F.forEach((tt,bt)=>{const Bt=V.get(bt);tt.forEach(sn=>wl(sn,Bt))}),Ve.forEach((tt,bt)=>{const Bt=We.get(bt);tt.forEach(sn=>wl(sn,Bt))}),te.forEach(tt=>{this.processLeaveNode(tt)})});const Ke=[],Ye=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(Bt=>{const sn=Bt.player,Pi=Bt.element;if(Ke.push(sn),this.collectedEnterElements.length){const ar=Pi[m];if(ar&&ar.setForMove){if(ar.previousTriggersValues&&ar.previousTriggersValues.has(Bt.triggerName)){const $s=ar.previousTriggersValues.get(Bt.triggerName),ms=this.statesByElement.get(Bt.element);if(ms&&ms.has(Bt.triggerName)){const Av=ms.get(Bt.triggerName);Av.value=$s,ms.set(Bt.triggerName,Av)}}return void sn.destroy()}}const bo=!S||!this.driver.containsElement(S,Pi),xr=We.get(Pi),Ko=V.get(Pi),An=this._buildInstruction(Bt,i,Ko,xr,bo);if(An.errors&&An.errors.length)return void Ye.push(An);if(bo)return sn.onStart(()=>Yn(Pi,An.fromStyles)),sn.onDestroy(()=>so(Pi,An.toStyles)),void r.push(sn);if(Bt.isFallbackTransition)return sn.onStart(()=>Yn(Pi,An.fromStyles)),sn.onDestroy(()=>so(Pi,An.toStyles)),void r.push(sn);const $l=[];An.timelines.forEach(ar=>{ar.stretchStartingKeyframe=!0,this.disabledNodes.has(ar.element)||$l.push(ar)}),An.timelines=$l,i.append(Pi,An.timelines),u.push({instruction:An,player:sn,element:Pi}),An.queriedElements.forEach(ar=>Qr(h,ar,[]).push(sn)),An.preStyleProps.forEach((ar,$s)=>{if(ar.size){let ms=g.get($s);ms||g.set($s,ms=new Set),ar.forEach((Av,Rm)=>ms.add(Rm))}}),An.postStyleProps.forEach((ar,$s)=>{let ms=y.get($s);ms||y.set($s,ms=new Set),ar.forEach((Av,Rm)=>ms.add(Rm))})});if(Ye.length){const tt=[];Ye.forEach(bt=>{tt.push(function Mc(n,e){return new a.vHH(3505,!1)}())}),Ke.forEach(bt=>bt.destroy()),this.reportError(tt)}const At=new Map,Xt=new Map;u.forEach(tt=>{const bt=tt.element;i.has(bt)&&(Xt.set(bt,bt),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,At))}),r.forEach(tt=>{const bt=tt.element;this._getPreviousPlayers(bt,!1,tt.namespaceId,tt.triggerName,null).forEach(sn=>{Qr(At,bt,[]).push(sn),sn.destroy()})});const On=te.filter(tt=>Lh(tt,g,y)),kn=new Map;co(kn,this.driver,Be,y,Ss).forEach(tt=>{Lh(tt,g,y)&&On.push(tt)});const ns=new Map;F.forEach((tt,bt)=>{co(ns,this.driver,new Set(tt),g,"!")}),On.forEach(tt=>{const bt=kn.get(tt),Bt=ns.get(tt);kn.set(tt,new Map([...Array.from(bt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Ri=[],gu=[],mu={};u.forEach(tt=>{const{element:bt,player:Bt,instruction:sn}=tt;if(i.has(bt)){if(C.has(bt))return Bt.onDestroy(()=>so(bt,sn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(sn.totalTime),void r.push(Bt);let Pi=mu;if(Xt.size>1){let xr=bt;const Ko=[];for(;xr=xr.parentNode;){const An=Xt.get(xr);if(An){Pi=An;break}Ko.push(xr)}Ko.forEach(An=>Xt.set(An,Pi))}const bo=this._buildAnimation(Bt.namespaceId,sn,At,s,ns,kn);if(Bt.setRealPlayer(bo),Pi===mu)Ri.push(Bt);else{const xr=this.playersByElement.get(Pi);xr&&xr.length&&(Bt.parentPlayer=Yr(xr)),r.push(Bt)}}else Yn(bt,sn.fromStyles),Bt.onDestroy(()=>so(bt,sn.toStyles)),gu.push(Bt),C.has(bt)&&r.push(Bt)}),gu.forEach(tt=>{const bt=s.get(tt.element);if(bt&&bt.length){const Bt=Yr(bt);tt.setRealPlayer(Bt)}}),r.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<te.length;tt++){const bt=te[tt],Bt=bt[m];if(wl(bt,Zu),Bt&&Bt.hasAnimation)continue;let sn=[];if(h.size){let bo=h.get(bt);bo&&bo.length&&sn.push(...bo);let xr=this.driver.query(bt,Oc,!0);for(let Ko=0;Ko<xr.length;Ko++){let An=h.get(xr[Ko]);An&&An.length&&sn.push(...An)}}const Pi=sn.filter(bo=>!bo.destroyed);Pi.length?c_(this,bt,Pi):this.processLeaveNode(bt)}return te.length=0,Ri.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const bt=this.players.indexOf(tt);this.players.splice(bt,1)}),tt.play()}),Ri}elementContainsData(e,t){let i=!1;const r=t[m];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const g=!s||s==x;h.forEach(y=>{y.queued||!g&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const s=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const y=g.element,C=y!==s,S=Qr(i,y,[]);this._getPreviousPlayers(y,C,u,h,t.toState).forEach(F=>{const V=F.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),F.destroy(),S.push(F)})}Yn(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,u){const h=t.triggerName,g=t.element,y=[],C=new Set,S=new Set,k=t.timelines.map(V=>{const $=V.element;C.add($);const te=$[m];if(te&&te.removedBeforeQueried)return new Lr(V.duration,V.delay);const Ee=$!==g,Be=function Vp(n){const e=[];return Up(n,e),e}((i.get($)||Lp).map(At=>At.getRealPlayer())).filter(At=>!!At.element&&At.element===$),We=s.get($),Ve=u.get($),Ke=Ov(0,this._normalizer,0,V.keyframes,We,Ve),Ye=this._buildPlayer(V,Ke,Be);if(V.subTimeline&&r&&S.add($),Ee){const At=new ze(e,h,$);At.setRealPlayer(Ye),y.push(At)}return Ye});y.forEach(V=>{Qr(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function ct(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,V.element,V))}),C.forEach(V=>Vr(V,Cp));const F=Yr(k);return F.onDestroy(()=>{C.forEach(V=>wl(V,Cp)),so(g,t.toStyles)}),S.forEach(V=>{Qr(r,V,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Lr(e.duration,e.delay)}}class ze{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Lr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Ch(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Qr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function St(n){return n&&1===n.nodeType}function di(n,e){const t=n.style.display;return n.style.display=e??"none",t}function co(n,e,t,i,r){const s=[];t.forEach(g=>s.push(di(g)));const u=[];i.forEach((g,y)=>{const C=new Map;g.forEach(S=>{const k=e.computeStyle(y,S,r);C.set(S,k),(!k||0==k.length)&&(y[m]=p,u.push(y))}),n.set(y,C)});let h=0;return t.forEach(g=>di(g,s[h++])),u}function Bp(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function u(h){if(!h)return 1;let g=s.get(h);if(g)return g;const y=h.parentNode;return g=t.has(y)?y:r.has(y)?1:u(y),s.set(h,g),g}return e.forEach(h=>{const g=u(h);1!==g&&t.get(g).push(h)}),t}function Vr(n,e){n.classList?.add(e)}function wl(n,e){n.classList?.remove(e)}function c_(n,e,t){Yr(t).onDone(()=>n.processLeaveNode(e))}function Up(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof cl?Up(i.players,e):e.push(i)}}function Lh(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class sd{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new fe(e,t,i),this._timelineEngine=new nd(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],C=xh(this._driver,s,g,[]);if(g.length)throw function U(n,e){return new a.vHH(3404,!1)}();h=function Fh(n,e,t){return new Fp(n,e,t)}(r,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,u]=Km(i);this._timelineEngine.command(s,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[u,h]=Km(i);return this._timelineEngine.listen(u,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let jp=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&so(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(so(this._element,this._initialStyles),this._endStyles&&(so(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Yn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yn(this._element,this._endStyles),this._endStyles=null),so(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lc(n){let e=null;return n.forEach((t,i)=>{(function El(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class Bh{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Sp(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class TE{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return wp(e,t)}getParentElement(e){return vp(e)}query(e,t,i){return Fv(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(g.easing=s);const y=new Map,C=u.filter(F=>F instanceof Bh);(function Uv(n,e){return 0===n||0===e})(i,r)&&C.forEach(F=>{F.currentSnapshot.forEach((V,$)=>y.set($,V))});let S=function Xm(n){return n.length?n[0]instanceof Map?n:n.map(e=>qu(e)):[]}(t).map(F=>_a(F));S=function Ah(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,u)=>{i.has(u)||r.push(u),i.set(u,s)}),r.length)for(let s=1;s<e.length;s++){let u=e[s];r.forEach(h=>u.set(h,Sp(n,h)))}}return e}(e,S,y);const k=function t0(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=Lc(e[0]),e.length>1&&(i=Lc(e[e.length-1]))):e instanceof Map&&(t=Lc(e)),t||i?new jp(n,t,i):null}(e,S);return new Bh(e,S,g,k)}}let SE=(()=>{class n extends Dc{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Hu(t):t;return QT(this._renderer,null,i,"register",[r]),new IE(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class IE extends class da{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new JN(this._id,e,t||{},this._renderer)}}class JN{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return QT(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function QT(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const u_="@.disabled";let r0=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,u)=>{const h=u?.parentNode(s);h&&u.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new JT("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,C)),C}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(u,h,t,C.name,C)};return i.data.animation.forEach(g),new XN(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[u,h]=s;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(sd),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class JT{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==u_?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class XN extends JT{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==u_?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function AE(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),u="";return"@"!=s.charAt(0)&&([s,u]=function XT(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let eS=(()=>{class n extends sd{constructor(t,i,r,s){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X),a.LFG(Qm),a.LFG(Pc),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const s0=[{provide:Dc,useClass:SE},{provide:Pc,useFactory:function tS(){return new Rh}},{provide:sd,useClass:eS},{provide:a.FYo,useFactory:function nS(n,e,t){return new r0(n,e,t)},deps:[Ro,sd,a.R0b]}],Vh=[{provide:Qm,useFactory:()=>new TE},{provide:a.QbO,useValue:"BrowserAnimations"},...s0],o0=[{provide:Qm,useClass:Lv},{provide:a.QbO,useValue:"NoopAnimations"},...s0];let a0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?o0:Vh}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Vh,imports:[vc]}),n})();var Gp=L(259),hi=L(2122);class $p{constructor(e){return e}}const l0=new a.OlP("angularfire2._apps"),sS={provide:$p,useFactory:function rS(n){return n&&1===n.length?n[0]:new $p((0,Gp.Mq)())},deps:[[new a.FiY,l0]]},iO={provide:class iS{constructor(){return(0,Gp.C6)()}},deps:[[new a.FiY,l0]]};function rO(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new $p(i)}}let zp=(()=>{class n{constructor(t){(0,Gp.KN)("angularfire",hi.q4.full,"core"),(0,Gp.KN)("angularfire",hi.q4.full,"app"),(0,Gp.KN)("angular",a.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[sS,iO]}),n})();function c0(n,...e){return{ngModule:zp,providers:[{provide:l0,useFactory:rO(n),multi:!0,deps:[a.R0b,a.zs3,hi.HU,...e]}]}}var Qn=L(8996),Bc=L(3269);function lt(...n){const e=(0,Bc.yG)(n);return(0,Qn.D)(n,e)}var Wt=L(7579);class Mi extends Wt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const d_=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xi=L(9751);const{isArray:h_}=Array,{getPrototypeOf:dS,prototype:u0,keys:f_}=Object;function Vc(n){if(1===n.length){const e=n[0];if(h_(e))return{args:e,keys:null};if(function xE(n){return n&&"object"==typeof n&&dS(n)===u0}(e)){const t=f_(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Uc=L(4671),gt=L(4004);const{isArray:hS}=Array;function Hc(n){return(0,gt.U)(e=>function NE(n,e){return hS(e)?n(...e):n(e)}(n,e))}function OE(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var jn=L(5403),fS=L(9672);function Zp(...n){const e=(0,Bc.yG)(n),t=(0,Bc.jO)(n),{args:i,keys:r}=Vc(n);if(0===i.length)return(0,Qn.D)([],e);const s=new xi.y(function d0(n,e,t=Uc.y){return i=>{kE(e,()=>{const{length:r}=n,s=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)kE(e,()=>{const y=(0,Qn.D)(n[g],e);let C=!1;y.subscribe((0,jn.x)(i,S=>{s[g]=S,C||(C=!0,h--),h||i.next(t(s.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>OE(r,u):Uc.y));return t?s.pipe(Hc(t)):s}function kE(n,e,t){n?(0,fS.f)(t,n,e):e()}var Uh=L(8189);function ad(...n){return function pS(){return(0,Uh.J)(1)}()((0,Qn.D)(n,(0,Bc.yG)(n)))}var ba=L(8421);function RE(n){return new xi.y(e=>{(0,ba.Xf)(n()).subscribe(e)})}var qp=L(9635),wa=L(576);function Go(n,e){const t=(0,wa.m)(n)?n:()=>n,i=r=>r.error(t());return new xi.y(e?r=>e.schedule(i,0,r):i)}var ps=L(515),ld=L(727),tr=L(4482);function p_(){return(0,tr.e)((n,e)=>{let t=null;n._refCount++;const i=(0,jn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class PE extends xi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,tr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ld.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ld.w0.EMPTY)}return e}refCount(){return p_()(this)}}function Zi(n,e){return(0,tr.e)((t,i)=>{let r=null,s=0,u=!1;const h=()=>u&&!r&&i.complete();t.subscribe((0,jn.x)(i,g=>{r?.unsubscribe();let y=0;const C=s++;(0,ba.Xf)(n(g,C)).subscribe(r=(0,jn.x)(i,S=>i.next(e?e(g,S,C,y++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function fi(n){return n<=0?()=>ps.E:(0,tr.e)((e,t)=>{let i=0;e.subscribe((0,jn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function uo(...n){const e=(0,Bc.yG)(n);return(0,tr.e)((t,i)=>{(e?ad(n,t,e):ad(n,t)).subscribe(i)})}function Ni(n,e){return(0,tr.e)((t,i)=>{let r=0;t.subscribe((0,jn.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}var nr=L(5577);function Hh(n){return(0,tr.e)((e,t)=>{let i=!1;e.subscribe((0,jn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function FE(n=h0){return(0,tr.e)((e,t)=>{let i=!1;e.subscribe((0,jn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function h0(){return new d_}function xs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ni((r,s)=>n(r,s,i)):Uc.y,fi(1),t?Hh(e):FE(()=>new d_))}function jc(n,e){return(0,wa.m)(e)?(0,nr.z)(n,e,1):(0,nr.z)(n,1)}var Oi=L(8505);function Cl(n){return(0,tr.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,jn.x)(t,void 0,void 0,u=>{s=(0,ba.Xf)(n(u,Cl(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function gS(n,e,t,i,r){return(s,u)=>{let h=t,g=e,y=0;s.subscribe((0,jn.x)(u,C=>{const S=y++;g=h?n(g,C,S):(h=!0,C),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}function Wp(n,e){return(0,tr.e)(gS(n,e,arguments.length>=2,!0))}function f0(n){return n<=0?()=>ps.E:(0,tr.e)((e,t)=>{let i=[];e.subscribe((0,jn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function LE(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ni((r,s)=>n(r,s,i)):Uc.y,f0(1),t?Hh(e):FE(()=>new d_))}function g_(n){return(0,tr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const nn="primary",m_=Symbol("RouteTitle");class oO{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function cd(n){return new oO(n)}function aO(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const u=i[s],h=n[s];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Dl(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!p0(n[r],e[r]))return!1;return!0}function p0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function VE(n){return Array.prototype.concat.apply([],n)}function g0(n){return n.length>0?n[n.length-1]:null}function Cr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ur(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,Qn.D)(Promise.resolve(n)):lt(n)}const mS={exact:function _0(n,e,t){if(!ud(n.segments,e.segments)||!zt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!_0(n.children[i],e.children[i],t))return!1;return!0},subset:GE},HE={exact:function _S(n,e){return Dl(n,e)},subset:function yS(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>p0(n[t],e[t]))},ignored:()=>!0};function jE(n,e,t){return mS[t.paths](n.root,e.root,t.matrixParams)&&HE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function GE(n,e,t){return $E(n,e,e.segments,t)}function $E(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ud(r,t)||e.hasChildren()||!zt(r,t,i))}if(n.segments.length===t.length){if(!ud(n.segments,t)||!zt(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!GE(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ud(n.segments,r)&&zt(n.segments,r,i)&&n.children[nn])&&$E(n.children[nn],e,s,i)}}function zt(n,e,t){return e.every((i,r)=>HE[t](n[r].parameters,i.parameters))}class Gc{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cd(this.queryParams)),this._queryParamMap}toString(){return bS.serialize(this)}}class rn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Cr(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return y_(this)}}class Gh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=cd(this.parameters)),this._parameterMap}toString(){return qE(this)}}function ud(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ZE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new __},providedIn:"root"}),n})();class __{parse(e){const t=new ES(e);return new Gc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${v_(e.root,!0)}`,i=function uO(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Kp(t)}=${Kp(r)}`).join("&"):`${Kp(t)}=${Kp(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function dd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bS=new __;function y_(n){return n.segments.map(e=>qE(e)).join("/")}function v_(n,e){if(!n.hasChildren())return y_(n);if(e){const t=n.children[nn]?v_(n.children[nn],!1):"",i=[];return Cr(n.children,(r,s)=>{s!==nn&&i.push(`${s}:${v_(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function zE(n,e){let t=[];return Cr(n.children,(i,r)=>{r===nn&&(t=t.concat(e(i,r)))}),Cr(n.children,(i,r)=>{r!==nn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===nn?[v_(n.children[nn],!1)]:[`${r}:${v_(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${y_(n)}/${t[0]}`:`${y_(n)}/(${t.join("//")})`}}function y0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kp(n){return y0(n).replace(/%3B/gi,";")}function v0(n){return y0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $h(n){return decodeURIComponent(n)}function b_(n){return $h(n.replace(/\+/g,"%20"))}function qE(n){return`${v0(n.path)}${function cO(n){return Object.keys(n).map(e=>`;${v0(e)}=${v0(n[e])}`).join("")}(n.parameters)}`}const dO=/^[^\/()?;=#]+/;function w_(n){const e=n.match(dO);return e?e[0]:""}const WE=/^[^=?&#]+/,wS=/^[^&#]+/;class ES{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new rn([],{}):new rn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[nn]=new rn(e,t)),i}parseSegment(){const e=w_(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new Gh($h(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=w_(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=w_(this.remaining);r&&(i=r,this.capture(i))}e[$h(t)]=$h(i)}parseQueryParam(e){const t=function hO(n){const e=n.match(WE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function zh(n){const e=n.match(wS);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=b_(t),s=b_(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=w_(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nn);const u=this.parseChildren();t[s]=1===Object.keys(u).length?u[nn]:new rn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function E_(n){return n.segments.length>0?new rn([],{[nn]:n}):n}function hd(n){const e={};for(const i of Object.keys(n.children)){const s=hd(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function CS(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new rn(n.segments.concat(e.segments),e.children)}return n}(new rn(n.segments,e))}function $c(n){return n instanceof Gc}function SS(n,e,t,i,r){if(0===t.length)return fd(e.root,e.root,e.root,i,r);const s=function IS(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new C_(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,u)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Cr(s.outlets,(g,y)=>{h[y]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===u?(s.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new C_(t,e,i)}(t);return s.toRoot()?fd(e.root,e.root,new rn([],{}),i,r):function u(g){const y=function pO(n,e,t,i){if(n.isAbsolute)return new zc(e.root,!0,0);if(-1===i)return new zc(t,t===e.root,0);return function pd(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new zc(i,!1,r-s)}(t,i+(Zh(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,g),C=y.processChildren?Zc(y.segmentGroup,y.index,s.commands):D_(y.segmentGroup,y.index,s.commands);return fd(e.root,y.segmentGroup,C,i,r)}(n.snapshot?._lastPathIndex)}function Zh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yp(n){return"object"==typeof n&&null!=n&&n.outlets}function fd(n,e,t,i,r){let u,s={};i&&Cr(i,(g,y)=>{s[y]=Array.isArray(g)?g.map(C=>`${C}`):`${g}`}),u=n===e?t:w0(n,e,t);const h=E_(hd(u));return new Gc(h,s,r)}function w0(n,e,t){const i={};return Cr(n.children,(r,s)=>{i[s]=r===e?t:w0(r,e,t)}),new rn(n.segments,i)}class C_{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Zh(i[0]))throw new a.vHH(4003,!1);const r=i.find(Yp);if(r&&r!==g0(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zc{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function D_(n,e,t){if(n||(n=new rn([],{})),0===n.segments.length&&n.hasChildren())return Zc(n,e,t);const i=function $o(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const u=n.segments[r],h=t[i];if(Yp(h))break;const g=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&y&&"object"==typeof y&&void 0===y.outlets){if(!Ca(g,y,u))return s;i+=2}else{if(!Ca(g,{},u))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new rn(n.segments.slice(0,i.pathIndex),{});return s.children[nn]=new rn(n.segments.slice(i.pathIndex),n.children),Zc(s,0,r)}return i.match&&0===r.length?new rn(n.segments,{}):i.match&&!n.hasChildren()?T_(n,e,t):i.match?Zc(n,0,r):T_(n,e,t)}function Zc(n,e,t){if(0===t.length)return new rn(n.segments,{});{const i=function KE(n){return Yp(n[0])?n[0].outlets:{[nn]:n}}(t),r={};return Cr(i,(s,u)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[u]=D_(n.children[u],e,s))}),Cr(n.children,(s,u)=>{void 0===i[u]&&(r[u]=s)}),new rn(n.segments,r)}}function T_(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Yp(s)){const g=MS(s.outlets);return new rn(i,g)}if(0===r&&Zh(t[0])){i.push(new Gh(n.segments[e].path,S_(t[0]))),r++;continue}const u=Yp(s)?s.outlets[nn]:`${s}`,h=r<t.length-1?t[r+1]:null;u&&h&&Zh(h)?(i.push(new Gh(u,S_(h))),r+=2):(i.push(new Gh(u,{})),r++)}return new rn(i,{})}function MS(n){const e={};return Cr(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=T_(new rn([],{}),0,t))}),e}function S_(n){const e={};return Cr(n,(t,i)=>e[i]=`${t}`),e}function Ca(n,e,t){return n==t.path&&Dl(e,t.parameters)}class zo{constructor(e,t){this.id=e,this.url=t}}class I_ extends zo{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tl extends zo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class E0 extends zo{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class C0 extends zo{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gO extends zo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A_ extends zo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M_ extends zo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class D0 extends zo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T0 extends zo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S0{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mO{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NS{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OS{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kS{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I0{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=QE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=QE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=x_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return x_(e,this._root).map(t=>t.value)}}function QE(n,e){if(n===e.value)return e;for(const t of e.children){const i=QE(n,t);if(i)return i}return null}function x_(n,e){if(n===e.value)return[e];for(const t of e.children){const i=x_(n,t);if(i.length)return i.unshift(e),i}return[]}class Da{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function qh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class N_ extends YE{constructor(e,t){super(e),this.snapshot=t,JE(this,e)}toString(){return this.snapshot.toString()}}function RS(n,e){const t=function yO(n,e){const u=new A0([],{},{},"",{},nn,e,null,n.root,-1,{});return new FS("",new Da(u,[]))}(n,e),i=new Mi([new Gh("",{})]),r=new Mi({}),s=new Mi({}),u=new Mi({}),h=new Mi(""),g=new gd(i,r,u,h,s,nn,e,t.root);return g.snapshot=t.root,new N_(new Da(g,[]),t)}class gd{constructor(e,t,i,r,s,u,h,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,gt.U)(y=>y[m_]))??lt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gt.U)(e=>cd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gt.U)(e=>cd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PS(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function vO(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class A0{constructor(e,t,i,r,s,u,h,g,y,C,S,k){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=u,this.component=h,this.title=this.data?.[m_],this.routeConfig=g,this._urlSegment=y,this._lastPathIndex=C,this._correctedLastPathIndex=k??C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FS extends YE{constructor(e,t){super(t),this.url=e,JE(this,t)}toString(){return LS(this._root)}}function JE(n,e){e.value._routerState=n,e.children.forEach(t=>JE(n,t))}function LS(n){const e=n.children.length>0?` { ${n.children.map(LS).join(", ")} } `:"";return`${n.value}${e}`}function XE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Dl(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Dl(e.params,t.params)||n.params.next(t.params),function BE(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Dl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Dl(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ta(n,e){const t=Dl(n.params,e.params)&&function vS(n,e){return ud(n,e)&&n.every((t,i)=>Dl(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ta(n.parent,e.parent))}function Qp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function eC(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Qp(n,i,r);return Qp(n,i)})}(n,e,t);return new Da(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const u=s.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Qp(n,h)),u}}const i=function x0(n){return new gd(new Mi(n.url),new Mi(n.params),new Mi(n.queryParams),new Mi(n.fragment),new Mi(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Qp(n,s));return new Da(i,r)}}const O_="ngNavigationCancelingError";function k_(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=$c(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=tC(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function tC(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[O_]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Sl(n){return N0(n)&&$c(n.url)}function N0(n){return n&&n[O_]}class BS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Jp,this.attachRef=null}}let Jp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new BS,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xp=!1;let O0=(()=>{class n{constructor(t,i,r,s,u){this.parentContexts=t,this.location=i,this.changeDetector=s,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=r||nn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Xp);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Xp);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Xp);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new a.vHH(4013,Xp);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new VS(t,h,r.injector);if(i&&function R_(n){return!!n.resolveComponentFactory}(i)){const y=i.resolveComponentFactory(u);this.activated=r.createComponent(y,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Jp),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class VS{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===gd?this.route:e===Jp?this.childContexts:this.parent.get(e,t)}}let qc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,i){1&t&&a._UZ(0,"router-outlet")},dependencies:[O0],encapsulation:2}),n})();function P_(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function tg(n){const e=n.children&&n.children.map(tg),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=qc),t}function ho(n){return n.outlet||nn}function HS(n,e){const t=n.filter(i=>ho(i)===e);return t.push(...n.filter(i=>ho(i)!==e)),t}function ng(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class jS{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),XE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=qh(t);e.children.forEach(s=>{const u=s.value.outlet;this.deactivateRoutes(s,r[u],i),delete r[u]}),Cr(r,(s,u)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=qh(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=qh(e);for(const u of Object.keys(s))this.deactivateRouteAndItsChildren(s[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=qh(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new kS(s.value.snapshot))}),e.children.length&&this.forwardEvent(new NS(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(XE(r),r===s)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),XE(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=ng(r.snapshot),g=h?.get(a._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class F0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ig{constructor(e,t){this.component=e,this.route=t}}function GS(n,e,t){const i=n._root;return rg(i,e?e._root:null,t,[i.value])}function md(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:i}function rg(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=qh(e);return n.children.forEach(u=>{(function bO(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const g=function $S(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ud(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ud(n.url,e.url)||!Dl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ta(n,e)||!Dl(n.queryParams,e.queryParams);default:return!Ta(n,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new F0(i)):(s.data=u.data,s._resolvedData=u._resolvedData),rg(n,e,s.component?h?h.children:null:t,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new ig(h.outlet.component,u))}else u&&_d(e,h,r),r.canActivateChecks.push(new F0(i)),rg(n,null,s.component?h?h.children:null:t,i,r)})(u,s[u.value.outlet],t,i.concat([u.value]),r),delete s[u.value.outlet]}),Cr(s,(u,h)=>_d(u,t.getContext(h),r)),r}function _d(n,e,t){const i=qh(n),r=n.value;Cr(i,(s,u)=>{_d(s,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new ig(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Wh(n){return"function"==typeof n}function L_(n){return n instanceof d_||"EmptyError"===n?.name}const sg=Symbol("INITIAL_VALUE");function Kh(){return Zi(n=>Zp(n.map(e=>e.pipe(fi(1),uo(sg)))).pipe((0,gt.U)(e=>{for(const t of e)if(!0!==t){if(t===sg)return sg;if(!1===t||t instanceof Gc)return t}return!0}),Ni(e=>e!==sg),fi(1)))}function B_(n){return(0,qp.z)((0,Oi.b)(e=>{if($c(e))throw k_(0,e)}),(0,gt.U)(e=>!0===e))}const B0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function og(n,e,t,i,r){const s=ag(n,e,t);return s.matched?function tI(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?lt(r.map(u=>{const h=md(u,n);return ur(function oC(n){return n&&Wh(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Kh(),B_()):lt(!0)}(i=P_(e,i),e,t).pipe((0,gt.U)(u=>!0===u?s:{...B0})):lt(s)}function ag(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...B0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||aO)(t,n,e);if(!r)return{...B0};const s={};Cr(r.posParams,(h,g)=>{s[g]=h.path});const u=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function yd(n,e,t,i,r="corrected"){if(t.length>0&&function DO(n,e,t){return t.some(i=>lg(n,e,i)&&ho(i)!==nn)}(n,t,i)){const u=new rn(e,function V0(n,e,t,i){const r={};r[nn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ho(s)!==nn){const u=new rn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[ho(s)]=u}return r}(n,e,i,new rn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function lC(n,e,t){return t.some(i=>lg(n,e,i))}(n,t,i)){const u=new rn(n.segments,function CO(n,e,t,i,r,s){const u={};for(const h of i)if(lg(n,t,h)&&!r[ho(h)]){const g=new rn([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===s?n.segments.length:e.length,u[ho(h)]=g}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new rn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function lg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function U0(n,e,t,i){return!!(ho(n)===i||i!==nn&&lg(e,t,n))&&("**"===n.path||ag(e,n,t).matched)}function H0(n,e,t){return 0===e.length&&!n.children[t]}const Yh=!1;class fo{constructor(e){this.segmentGroup=e||null}}class cg{constructor(e){this.urlTree=e}}function Wc(n){return Go(new fo(n))}function Qh(n){return Go(new cg(n))}class iI{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=yd(this.urlTree.root,[],[],this.config).segmentGroup,t=new rn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,nn).pipe((0,gt.U)(s=>this.createUrlTree(hd(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Cl(s=>{if(s instanceof cg)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof fo?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,nn).pipe((0,gt.U)(r=>this.createUrlTree(hd(r),e.queryParams,e.fragment))).pipe(Cl(r=>{throw r instanceof fo?this.noMatchError(r):r}))}noMatchError(e){return new a.vHH(4002,Yh)}createUrlTree(e,t,i){const r=E_(e);return new Gc(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,gt.U)(s=>new rn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,Qn.D)(r).pipe(jc(s=>{const u=i.children[s],h=HS(t,s);return this.expandSegmentGroup(e,h,u,s).pipe((0,gt.U)(g=>({segment:g,outlet:s})))}),Wp((s,u)=>(s[u.outlet]=u.segment,s),{}),LE())}expandSegment(e,t,i,r,s,u){return(0,Qn.D)(i).pipe(jc(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,u).pipe(Cl(y=>{if(y instanceof fo)return lt(null);throw y}))),xs(h=>!!h),Cl((h,g)=>{if(L_(h))return H0(t,r,s)?lt(new rn([],{})):Wc(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,u,h){return U0(r,t,s,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u):Wc(t):Wc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Qh(s):this.lineralizeSegments(i,s).pipe((0,nr.z)(u=>{const h=new rn(u,{});return this.expandSegment(e,h,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,u){const{matched:h,consumedSegments:g,remainingSegments:y,positionalParamSegments:C}=ag(t,r,s);if(!h)return Wc(t);const S=this.applyRedirectCommands(g,r.redirectTo,C);return r.redirectTo.startsWith("/")?Qh(S):this.lineralizeSegments(r,S).pipe((0,nr.z)(k=>this.expandSegment(e,t,i,k.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=P_(i,e),i.loadChildren?(i._loadedRoutes?lt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,gt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new rn(r,{})))):lt(new rn(r,{}))):og(t,i,r,e).pipe(Zi(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,nr.z)(C=>{const S=C.injector??e,k=C.routes,{segmentGroup:F,slicedSegments:V}=yd(t,h,g,k),$=new rn(F.segments,F.children);if(0===V.length&&$.hasChildren())return this.expandChildren(S,k,$).pipe((0,gt.U)(We=>new rn(h,We)));if(0===k.length&&0===V.length)return lt(new rn(h,{}));const te=ho(i)===s;return this.expandSegment(S,$,k,V,te?nn:s,!0).pipe((0,gt.U)(Be=>new rn(h.concat(Be.segments),Be.children)))})):Wc(t)))}getChildConfig(e,t,i){return t.children?lt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?lt({routes:t._loadedRoutes,injector:t._loadedInjector}):function eI(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?lt(!0):lt(r.map(u=>{const h=md(u,n);return ur(function ZS(n){return n&&Wh(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Kh(),B_())}(e,t,i).pipe((0,nr.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,Oi.b)(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function j0(n){return Go(tC(Yh,3))}())):lt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return lt(i);if(r.numberOfChildren>1||!r.children[nn])return Go(new a.vHH(4e3,Yh));r=r.children[nn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Gc(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Cr(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let u={};return Cr(t.children,(h,g)=>{u[g]=this.createSegmentGroup(e,h,i,r)}),new rn(s,u)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new a.vHH(4001,Yh);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class sI{}class SO{constructor(e,t,i,r,s,u,h,g){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=yd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nn).pipe((0,gt.U)(t=>{if(null===t)return null;const i=new A0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Da(i,t),s=new FS(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=PS(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Qn.D)(Object.keys(i.children)).pipe(jc(r=>{const s=i.children[r],u=HS(t,r);return this.processSegmentGroup(e,u,s,r)}),Wp((r,s)=>r&&s?(r.push(...s),r):null),function jh(n,e=!1){return(0,tr.e)((t,i)=>{let r=0;t.subscribe((0,jn.x)(i,s=>{const u=n(s,r++);(u||e)&&i.next(s),!u&&i.complete()}))})}(r=>null!==r),Hh(null),LE(),(0,gt.U)(r=>{if(null===r)return null;const s=G0(r);return function aI(n){n.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return(0,Qn.D)(t).pipe(jc(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,s)),xs(u=>!!u),Cl(u=>{if(L_(u))return H0(i,r,s)?lt([]):lt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!U0(t,i,r,s))return lt(null);let u;if("**"===t.path){const h=r.length>0?g0(r).parameters:{},g=V_(i)+r.length;u=lt({snapshot:new A0(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(t),ho(t),t.component??t._loadedComponent??null,t,uC(i),g,fC(t),g),consumedSegments:[],remainingSegments:[]})}else u=og(i,t,r,e).pipe((0,gt.U)(({matched:h,consumedSegments:g,remainingSegments:y,parameters:C})=>{if(!h)return null;const S=V_(i)+g.length;return{snapshot:new A0(g,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hC(t),ho(t),t.component??t._loadedComponent??null,t,uC(i),S,fC(t),S),consumedSegments:g,remainingSegments:y}}));return u.pipe(Zi(h=>{if(null===h)return lt(null);const{snapshot:g,consumedSegments:y,remainingSegments:C}=h;e=t._injector??e;const S=t._loadedInjector??e,k=function lI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:F,slicedSegments:V}=yd(i,y,C,k.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===V.length&&F.hasChildren())return this.processChildren(S,k,F).pipe((0,gt.U)(te=>null===te?null:[new Da(g,te)]));if(0===k.length&&0===V.length)return lt([new Da(g,[])]);const $=ho(t)===s;return this.processSegment(S,k,F,V,$?nn:s).pipe((0,gt.U)(te=>null===te?null:[new Da(g,te)]))}))}}function cI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function G0(n){const e=[],t=new Set;for(const i of n){if(!cI(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=G0(i.children);e.push(new Da(i.value,r))}return e.filter(i=>!t.has(i))}function uC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function V_(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function hC(n){return n.data||{}}function fC(n){return n.resolve||{}}function dI(n,e){return(0,nr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return lt(t);let s=0;return(0,Qn.D)(r).pipe(jc(u=>function hI(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!Jh(r)&&(s[m_]=r.title),function U_(n,e,t,i){const r=function vd(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return lt({});const s={};return(0,Qn.D)(r).pipe((0,nr.z)(u=>function IO(n,e,t,i){const r=ng(e)??i,s=md(n,r);return ur(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[u],e,t,i).pipe(xs(),(0,Oi.b)(h=>{s[u]=h}))),f0(1),function Ea(n){return(0,gt.U)(()=>n)}(s),Cl(u=>L_(u)?ps.E:Go(u)))}(s,n,e,i).pipe((0,gt.U)(u=>(n._resolvedData=u,n.data=PS(n,t).resolve,r&&Jh(r)&&(n.data[m_]=r.title),null)))}(u.route,i,n,e)),(0,Oi.b)(()=>s++),f0(1),(0,nr.z)(u=>s===r.length?lt(t):ps.E))})}function Jh(n){return"string"==typeof n.title||null===n.title}function z0(n){return Zi(e=>{const t=n(e);return t?(0,Qn.D)(t).pipe((0,gt.U)(()=>e)):lt(e)})}let pC=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===nn);return i}getResolvedTitleForRoute(t){return t.data[m_]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(H_)},providedIn:"root"}),n})(),H_=(()=>{class n extends pC{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ds))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ia{}class Ur extends class ug{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wd=new a.OlP("",{providedIn:"root",factory:()=>({})}),dg=new a.OlP("ROUTES");let Yc=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return lt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=ur(t.loadComponent()).pipe((0,Oi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),g_(()=>{this.componentLoaders.delete(t)})),r=new PE(i,()=>new Wt.x).pipe(p_());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return lt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,gt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,y,C=!1;Array.isArray(h)?y=h:(g=h.create(t).injector,y=VE(g.get(dg,[],a.XFs.Self|a.XFs.Optional)));return{routes:y.map(tg),injector:g}}),g_(()=>{this.childrenLoaders.delete(i)})),u=new PE(s,()=>new Wt.x).pipe(p_());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return ur(t()).pipe((0,nr.z)(i=>i instanceof a.YKP||Array.isArray(i)?lt(i):(0,Qn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xh{}class ef{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function tf(n){throw n}function nf(n,e,t){return e.parse("/")}const rf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Z0(){const n=(0,a.f3M)(ZE),e=(0,a.f3M)(Jp),t=(0,a.f3M)(Me),i=(0,a.f3M)(a.zs3),r=(0,a.f3M)(a.Sil),s=(0,a.f3M)(dg,{optional:!0})??[],u=(0,a.f3M)(wd,{optional:!0})??{},h=(0,a.f3M)(H_),g=(0,a.f3M)(pC,{optional:!0}),y=(0,a.f3M)(Xh,{optional:!0}),C=(0,a.f3M)(Ia,{optional:!0}),S=new ir(null,n,e,t,i,r,VE(s));return y&&(S.urlHandlingStrategy=y),C&&(S.routeReuseStrategy=C),S.titleStrategy=g??h,function af(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,S),S}let ir=(()=>{class n{constructor(t,i,r,s,u,h,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wt.x,this.errorHandler=tf,this.malformedUriErrorHandler=nf,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>lt(void 0),this.urlHandlingStrategy=new ef,this.routeReuseStrategy=new Ur,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Yc),this.configLoader.onLoadEndListener=k=>this.triggerEvent(new mO(k)),this.configLoader.onLoadStartListener=k=>this.triggerEvent(new S0(k)),this.ngModule=u.get(a.h0i),this.console=u.get(a.c2e);const S=u.get(a.R0b);this.isNgZoneEnabled=S instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function UE(){return new Gc(new rn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=RS(this.currentUrlTree,this.rootComponentType),this.transitions=new Mi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ni(r=>0!==r.id),(0,gt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Zi(r=>{let s=!1,u=!1;return lt(r).pipe((0,Oi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zi(h=>{const g=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return q0(h.source)&&(this.browserUrlTree=h.extractedUrl),lt(h).pipe(Zi(S=>{const k=this.transitions.getValue();return i.next(new I_(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),k!==this.transitions.getValue()?ps.E:Promise.resolve(S)}),function rI(n,e,t,i){return Zi(r=>function cC(n,e,t,i,r){return new iI(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,gt.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Oi.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function uI(n,e,t,i,r,s){return(0,nr.z)(u=>function oI(n,e,t,i,r,s,u="emptyOnly",h="legacy"){return new SO(n,e,t,i,r,u,h,s).recognize().pipe(Zi(g=>null===g?function TO(n){return new xi.y(e=>e.error(n))}(new sI):lt(g)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,s).pipe((0,gt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Oi.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const F=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(F,S)}this.browserUrlTree=S.urlAfterRedirects}const k=new gO(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(k)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:F,source:V,restoredState:$,extras:te}=h,Ee=new I_(k,this.serializeUrl(F),V,$);i.next(Ee);const Be=RS(F,this.rootComponentType).snapshot;return lt(r={...h,targetSnapshot:Be,urlAfterRedirects:F,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),ps.E}),(0,Oi.b)(h=>{const g=new A_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,gt.U)(h=>r={...h,guards:GS(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function Sa(n,e){return(0,nr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:u}}=t;return 0===u.length&&0===s.length?lt({...t,guardsResult:!0}):function L0(n,e,t,i){return(0,Qn.D)(n).pipe((0,nr.z)(r=>function XS(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?lt(s.map(h=>{const g=ng(e)??r,y=md(h,g);return ur(function WS(n){return n&&Wh(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):g.runInContext(()=>y(n,e,t,i))).pipe(xs())})).pipe(Kh()):lt(!0)}(r.component,r.route,t,e,i)),xs(r=>!0!==r,!0))}(u,i,r,n).pipe((0,nr.z)(h=>h&&function zS(n){return"boolean"==typeof n}(h)?function YS(n,e,t,i){return(0,Qn.D)(e).pipe(jc(r=>ad(function EO(n,e){return null!==n&&e&&e(new xS(n)),lt(!0)}(r.route.parent,i),function QS(n,e){return null!==n&&e&&e(new OS(n)),lt(!0)}(r.route,i),function JS(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(u=>function Ns(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>RE(()=>lt(u.guards.map(g=>{const y=ng(u.node)??t,C=md(g,y);return ur(function sC(n){return n&&Wh(n.canActivateChild)}(C)?C.canActivateChild(i,n):y.runInContext(()=>C(i,n))).pipe(xs())})).pipe(Kh())));return lt(s).pipe(Kh())}(n,r.path,t),function aC(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return lt(!0);const r=i.map(s=>RE(()=>{const u=ng(e)??t,h=md(s,u);return ur(function qS(n){return n&&Wh(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(xs())}));return lt(r).pipe(Kh())}(n,r.route,t))),xs(r=>!0!==r,!0))}(i,s,n,e):lt(h)),(0,gt.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Oi.b)(h=>{if(r.guardsResult=h.guardsResult,$c(h.guardsResult))throw k_(0,h.guardsResult);const g=new M_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),Ni(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),z0(h=>{if(h.guards.canActivateChecks.length)return lt(h).pipe((0,Oi.b)(g=>{const y=new D0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),Zi(g=>{let y=!1;return lt(g).pipe(dI(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Oi.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Oi.b)(g=>{const y=new T0(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}))}),z0(h=>{const g=y=>{const C=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Oi.b)(S=>{y.component=S}),(0,gt.U)(()=>{})));for(const S of y.children)C.push(...g(S));return C};return Zp(g(h.targetSnapshot.root)).pipe(Hh(),fi(1))}),z0(()=>this.afterPreactivation()),(0,gt.U)(h=>{const g=function M0(n,e,t){const i=Qp(n,e._root,t?t._root:void 0);return new N_(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:g}}),(0,Oi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,gt.U)(i=>(new jS(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Oi.b)({next(){s=!0},complete(){s=!0}}),g_(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Cl(h=>{if(u=!0,N0(h)){Sl(h)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new E0(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(g),Sl(h)){const y=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||q0(r.source)};this.scheduleNavigation(y,"imperative",null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new C0(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return ps.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const h={...s};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(tg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,y=r||this.routerState.root,C=g?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...s};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=s||null}return null!==S&&(S=this.removeEmptyProps(S)),SS(y,this.currentUrlTree,t,S,C??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=$c(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function gC(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...rf}:!1===i?{...sf}:i,$c(t))return jE(this.currentUrlTree,t,r);const s=this.parseUrl(t);return jE(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Tl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,u){if(this.disposed)return Promise.resolve(!1);let h,g,y;u?(h=u.resolve,g=u.reject,y=u.promise):y=new Promise((k,F)=>{h=k,g=F});const C=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:C,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:h,reject:g,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(k=>Promise.reject(k))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new E0(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return Z0()},providedIn:"root"}),n})();function q0(n){return"imperative"!==n}let hg=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Wt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ir),a.Y36(gd),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class W0{}let yC=(()=>{class n{constructor(t,i,r,s,u){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Ni(t=>t instanceof Tl),jc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,t,`Route: ${s.path}`));const u=s._injector??t,h=s._loadedInjector??u;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(u,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(h,s.children??s._loadedRoutes))}return(0,Qn.D)(r).pipe((0,Uh.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):lt(null);const s=r.pipe((0,nr.z)(u=>null===u?lt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Qn.D)([s,u]).pipe((0,Uh.J)())}return s})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ir),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(W0),a.LFG(Yc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K0=new a.OlP("");let Y0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof I_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Tl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof I0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new I0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Al(n,e){return{\u0275kind:n,\u0275providers:e}}function cf(n){return[{provide:dg,multi:!0,useValue:n}]}function EC(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const i=n.get(ir),r=n.get(fg);1===n.get(uf)&&i.initialNavigation(),n.get(J0,null,a.XFs.Optional)?.setUpPreloading(),n.get(K0,null,a.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const fg=new a.OlP("",{factory:()=>new Wt.x}),uf=new a.OlP("",{providedIn:"root",factory:()=>1});const J0=new a.OlP("");function TC(n){return Al(0,[{provide:J0,useExisting:yC},{provide:W0,useExisting:n}])}const X0=new a.OlP("ROUTER_FORROOT_GUARD"),IC=[Me,{provide:ZE,useClass:__},{provide:ir,useFactory:Z0},Jp,{provide:gd,useFactory:function bC(n){return n.routerState.root},deps:[ir]},Yc];function AC(){return new a.PXZ("Router",ir)}let eb=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[IC,[],cf(t),{provide:X0,useFactory:tb,deps:[[ir,new a.FiY,new a.tp0]]},{provide:wd,useValue:i||{}},i?.useHash?{provide:ve,useClass:ft}:{provide:ve,useClass:et},{provide:K0,useFactory:()=>{const n=(0,a.f3M)(ir),e=(0,a.f3M)(Kl),t=(0,a.f3M)(wd);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Y0(n,e,t)}},i?.preloadingStrategy?TC(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:AC},i?.initialNavigation?G_(i):[],[{provide:nb,useFactory:EC},{provide:a.tb,multi:!0,useExisting:nb}]]}}static forChild(t){return{ngModule:n,providers:[cf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X0,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[qc]}),n})();function tb(n){return"guarded"}function G_(n){return["disabled"===n.initialNavigation?Al(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(ir);return()=>{e.setUpLocationChangeListener()}}},{provide:uf,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Al(2,[{provide:uf,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(H,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(s=>{const u=e.get(ir),h=e.get(fg);(function r(s){e.get(ir).events.pipe(Ni(h=>h instanceof Tl||h instanceof E0||h instanceof C0),(0,gt.U)(h=>h instanceof Tl||h instanceof E0&&(0===h.code||1===h.code)&&null),Ni(h=>null!==h),fi(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),u.afterPreactivation=()=>(s(!0),i||h.closed?lt(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const nb=new a.OlP("");var ib=L(4327);class rb{}class sb{}class Aa{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(u):this.headers.set(s,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Aa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Aa;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Aa?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===s.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class OO{encodeKey(e){return kC(e)}encodeValue(e){return kC(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const _I=/%(\d[a-f0-9])/gi,OC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kC(n){return encodeURIComponent(n).replace(_I,(e,t)=>OC[t]??e)}function pi(n){return`${n}`}class Ml{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new OO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mI(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[u,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],g=t.get(u)||[];g.push(h),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(pi):[pi(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ml({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pi(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(pi(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class yI{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function PC(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ob(n){return typeof Blob<"u"&&n instanceof Blob}function ab(n){return typeof FormData<"u"&&n instanceof FormData}class pg{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function RC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Aa),this.context||(this.context=new yI),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Ml,this.urlWithParams=t}serializeBody(){return null===this.body?null:PC(this.body)||ob(this.body)||ab(this.body)||function hf(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ml?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ab(this.body)?null:ob(this.body)?this.body.type||null:PC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ml?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,y=e.params||this.params;const C=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((S,k)=>S.set(k,e.setHeaders[k]),g)),e.setParams&&(y=Object.keys(e.setParams).reduce((S,k)=>S.set(k,e.setParams[k]),y)),new pg(t,i,s,{params:y,headers:g,context:C,reportProgress:h,responseType:r,withCredentials:u})}}var qi=(()=>((qi=qi||{})[qi.Sent=0]="Sent",qi[qi.UploadProgress=1]="UploadProgress",qi[qi.ResponseHeader=2]="ResponseHeader",qi[qi.DownloadProgress=3]="DownloadProgress",qi[qi.Response=4]="Response",qi[qi.User=5]="User",qi))();class $_{constructor(e,t=200,i="OK"){this.headers=e.headers||new Aa,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lb extends $_{constructor(e={}){super(e),this.type=qi.ResponseHeader}clone(e={}){return new lb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class gg extends $_{constructor(e={}){super(e),this.type=qi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new gg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vI extends $_{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function mg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Qc=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof pg)s=t;else{let g,y;g=r.headers instanceof Aa?r.headers:new Aa(r.headers),r.params&&(y=r.params instanceof Ml?r.params:new Ml({fromObject:r.params})),s=new pg(t,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=lt(s).pipe(jc(g=>this.handler.handle(g)));if(t instanceof pg||"events"===r.observe)return u;const h=u.pipe(Ni(g=>g instanceof gg));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,gt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,gt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,gt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,gt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ml).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,mg(r,i))}post(t,i,r={}){return this.request("POST",t,mg(r,i))}put(t,i,r={}){return this.request("PUT",t,mg(r,i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(rb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Zo{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const FC=new a.OlP("HTTP_INTERCEPTORS");let LC=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const cb=/^\)\]\}',?\n/;let BC=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xi.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((F,V)=>r.setRequestHeader(F,V.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const F=t.detectContentTypeHeader();null!==F&&r.setRequestHeader("Content-Type",F)}if(t.responseType){const F=t.responseType.toLowerCase();r.responseType="json"!==F?F:"text"}const s=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const F=r.statusText||"OK",V=new Aa(r.getAllResponseHeaders()),$=function _g(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return u=new lb({headers:V,status:r.status,statusText:F,url:$}),u},g=()=>{let{headers:F,status:V,statusText:$,url:te}=h(),Ee=null;204!==V&&(Ee=typeof r.response>"u"?r.responseText:r.response),0===V&&(V=Ee?200:0);let Be=V>=200&&V<300;if("json"===t.responseType&&"string"==typeof Ee){const We=Ee;Ee=Ee.replace(cb,"");try{Ee=""!==Ee?JSON.parse(Ee):null}catch(Ve){Ee=We,Be&&(Be=!1,Ee={error:Ve,text:Ee})}}Be?(i.next(new gg({body:Ee,headers:F,status:V,statusText:$,url:te||void 0})),i.complete()):i.error(new vI({error:Ee,headers:F,status:V,statusText:$,url:te||void 0}))},y=F=>{const{url:V}=h(),$=new vI({error:F,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error($)};let C=!1;const S=F=>{C||(i.next(h()),C=!0);let V={type:qi.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),"text"===t.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},k=F=>{let V={type:qi.UploadProgress,loaded:F.loaded};F.lengthComputable&&(V.total=F.total),i.next(V)};return r.addEventListener("load",g),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",S),null!==s&&r.upload&&r.upload.addEventListener("progress",k)),r.send(s),i.next({type:qi.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",g),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",S),null!==s&&r.upload&&r.upload.removeEventListener("progress",k)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Io))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const z_=new a.OlP("XSRF_COOKIE_NAME"),ub=new a.OlP("XSRF_HEADER_NAME");class db{}let VC=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ha(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X),a.LFG(a.Lbi),a.LFG(z_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ff=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(db),a.LFG(ub))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),EI=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(FC,[]);this.chain=i.reduceRight((r,s)=>new Zo(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(sb),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),hb=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ff,useClass:LC}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:z_,useValue:t.cookieName}:[],t.headerName?{provide:ub,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ff,{provide:FC,useExisting:ff,multi:!0},{provide:db,useClass:VC},{provide:z_,useValue:"XSRF-TOKEN"},{provide:ub,useValue:"X-XSRF-TOKEN"}]}),n})(),Z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Qc,{provide:rb,useClass:EI},BC,{provide:sb,useExisting:BC}],imports:[hb.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),yg=(()=>{class n{constructor(){this._loading=new Mi(!1),this.loading$=this._loading.asObservable()}show(){this._loading.next(!0)}hide(){this._loading.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pf=L(4986);function q_(){return(0,tr.e)((n,e)=>{let t,i=!1;n.subscribe((0,jn.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function gf(n,e=Uc.y){return n=n??UC,(0,tr.e)((t,i)=>{let r,s=!0;t.subscribe((0,jn.x)(i,u=>{const h=e(u);(s||!n(r,h))&&(s=!1,r=h,i.next(u))}))})}function UC(n,e){return n===e}var It,po=L(2011),II=(L(4217),L(3942)),we=L(5861),Ed=L(9681),W_=L(4859),Jc=L(1877),mn=L(2090),AI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nl={},fb=fb||{},Kt=AI||self;function K_(){}function Y_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function vg(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pb="closure_uid_"+(1e9*Math.random()>>>0),xI=0;function HC(n,e,t){return n.call.apply(n.bind,arguments)}function jC(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Dr(n,e,t){return(Dr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HC:jC).apply(null,arguments)}function bg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function dr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,s){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function Ol(){this.s=this.s,this.o=this.o}Ol.prototype.s=!1,Ol.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function MI(n){Object.prototype.hasOwnProperty.call(n,pb)&&n[pb]||(n[pb]=++xI)}(this)},Ol.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gb=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Q_(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function J_(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(Y_(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let u=0;u<s;u++)n[r+u]=i[u]}else n.push(i)}}function hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hr.prototype.h=function(){this.defaultPrevented=!0};var Cd=function(){if(!Kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Kt.addEventListener("test",K_,e),Kt.removeEventListener("test",K_,e)}catch{}return n}();function X_(n){return/^[\s\xa0]*$/.test(n)}var $C=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Xc(n,e){return n<e?-1:n>e?1:0}function mb(){var n=Kt.navigator;return n&&(n=n.userAgent)?n:""}function go(n){return-1!=mb().indexOf(n)}function zC(n){return zC[" "](n),n}zC[" "]=K_;var ey,n,qC=go("Opera"),wg=go("Trident")||go("MSIE"),Lt=go("Edge"),_b=Lt||wg,WC=go("Gecko")&&!(-1!=mb().toLowerCase().indexOf("webkit")&&!go("Edge"))&&!(go("Trident")||go("MSIE"))&&!go("Edge"),NI=-1!=mb().toLowerCase().indexOf("webkit")&&!go("Edge");function Dd(){var n=Kt.document;return n?n.documentMode:void 0}e:{var mf="",_f=(n=mb(),WC?/rv:([^\);]+)(\)|;)/.exec(n):Lt?/Edge\/([\d\.]+)/.exec(n):wg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):NI?/WebKit\/(\S+)/.exec(n):qC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_f&&(mf=_f?_f[1]:""),wg){var Jn=Dd();if(null!=Jn&&Jn>parseFloat(mf)){ey=String(Jn);break e}}ey=mf}var VO={};var QC=Kt.document&&wg&&(Dd()||parseInt(ey,10))||void 0;function yf(n,e){if(hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(WC){e:{try{zC(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yf.X.h.call(this)}}dr(yf,hr);var JC={2:"touch",3:"pen",4:"mouse"};yf.prototype.h=function(){yf.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vf="closure_listenable_"+(1e6*Math.random()|0),OI=0;function kI(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++OI,this.ba=this.ea=!1}function ny(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Td(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function XC(n){const e={};for(const t in n)e[t]=n[t];return e}const eD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tD(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<eD.length;s++)t=eD[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Sd(n){this.src=n,this.g={},this.h=0}function iy(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=gb(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(ny(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ry(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==i)return r}return-1}Sd.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var u=ry(n,e,i,r);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new kI(e,this.src,s,!!i,r)).ea=t,n.push(e)),e};var sy="closure_lm_"+(1e6*Math.random()|0),yb={};function bf(n,e,t,i,r){if(i&&i.once)return nD(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)bf(n,e[s],t,i,r);return null}return t=wb(t),n&&n[vf]?n.N(e,t,vg(i)?!!i.capture:!!i,r):wf(n,e,t,!1,i,r)}function wf(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var u=vg(r)?!!r.capture:!!r,h=bb(n);if(h||(n[sy]=h=new Sd(n)),(t=h.add(e,t,i,u,s)).proxy)return t;if(i=function RI(){const e=rD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Cd||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(vb(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function nD(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nD(n,e[s],t,i,r);return null}return t=wb(t),n&&n[vf]?n.O(e,t,vg(i)?!!i.capture:!!i,r):wf(n,e,t,!0,i,r)}function iD(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)iD(n,e[s],t,i,r);else i=vg(i)?!!i.capture:!!i,t=wb(t),n&&n[vf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ry(s=n.g[e],t,i,r))&&(ny(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=bb(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ry(e,t,i,r)),(t=-1<n?e[n]:null)&&oy(t))}function oy(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[vf])iy(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(vb(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=bb(e))?(iy(t,n),0==t.h&&(t.src=null,e[sy]=null)):ny(n)}}}function vb(n){return n in yb?yb[n]:yb[n]="on"+n}function rD(n,e){if(n.ba)n=!0;else{e=new yf(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&oy(n),n=t.call(i,e)}return n}function bb(n){return(n=n[sy])instanceof Sd?n:null}var ay="__closure_events_fn_"+(1e9*Math.random()>>>0);function wb(n){return"function"==typeof n?n:(n[ay]||(n[ay]=function(e){return n.handleEvent(e)}),n[ay])}function fr(){Ol.call(this),this.i=new Sd(this),this.P=this,this.I=null}function Hr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new hr(e,n);else if(e instanceof hr)e.target=e.target||n;else{var r=e;tD(e=new hr(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var u=e.g=t[s];r=Eb(u,i,!0,e)&&r}if(r=Eb(u=e.g=n,i,!0,e)&&r,r=Eb(u,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Eb(u=e.g=t[s],i,!1,e)&&r}function Eb(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var u=e[s];if(u&&!u.ba&&u.capture==t){var h=u.listener,g=u.ha||u.src;u.ea&&iy(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}dr(fr,Ol),fr.prototype[vf]=!0,fr.prototype.removeEventListener=function(n,e,t,i){iD(this,n,e,t,i)},fr.prototype.M=function(){if(fr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)ny(t[i]);delete n.g[e],n.h--}}this.I=null},fr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},fr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var sD=Kt.JSON.stringify;function UO(){var n=aD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Id,Eg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new PI,n=>n.reset());class PI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FI(n){Kt.setTimeout(()=>{throw n},0)}function Cb(n,e){Id||function LI(){var n=Kt.Promise.resolve(void 0);Id=function(){n.then(BI)}}(),Db||(Id(),Db=!0),aD.add(n,e)}var Db=!1,aD=new class oD{constructor(){this.h=this.g=null}add(e,t){const i=Eg.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function BI(){for(var n;n=UO();){try{n.h.call(n.g)}catch(t){FI(t)}var e=Eg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Db=!1}function ly(n,e){fr.call(this),this.h=n||1,this.g=e||Kt,this.j=Dr(this.lb,this),this.l=Date.now()}function cy(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Tb(n,e,t){if("function"==typeof n)t&&(n=Dr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Dr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Kt.setTimeout(n,e||0)}function lD(n){n.g=Tb(()=>{n.g=null,n.i&&(n.i=!1,lD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}dr(ly,fr),(It=ly.prototype).ca=!1,It.R=null,It.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hr(this,"tick"),this.ca&&(cy(this),this.start()))}},It.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},It.M=function(){ly.X.M.call(this),cy(this),delete this.g};class Cg extends Ol{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lD(this)}M(){super.M(),this.g&&(Kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dg(n){Ol.call(this),this.h=n,this.g={}}dr(Dg,Ol);var Sb=[];function cD(n,e,t,i){Array.isArray(t)||(t&&(Sb[0]=t.toString()),t=Sb);for(var r=0;r<t.length;r++){var s=bf(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Ib(n){Td(n.g,function(e,t){this.g.hasOwnProperty(t)&&oy(e)},n),n.g={}}function uy(){this.g=!0}function eu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var u=1;u<r.length;u++)r[u]=""}}}return sD(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Dg.prototype.M=function(){Dg.X.M.call(this),Ib(this)},Dg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uy.prototype.Aa=function(){this.g=!1},uy.prototype.info=function(){};var tu={},hD=null;function dy(){return hD=hD||new fr}function fD(n){hr.call(this,tu.Pa,n)}function Ad(n){const e=dy();Hr(e,new fD(e))}function pD(n,e){hr.call(this,tu.STAT_EVENT,n),this.stat=e}function jr(n){const e=dy();Hr(e,new pD(e,n))}function gD(n,e){hr.call(this,tu.Qa,n),this.size=e}function Tg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Kt.setTimeout(function(){n()},e)}tu.Pa="serverreachability",dr(fD,hr),tu.STAT_EVENT="statevent",dr(pD,hr),tu.Qa="timingevent",dr(gD,hr);var hy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},mD={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ab(){}function yD(){}Ab.prototype.h=null;var gy,Sg={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function fy(){hr.call(this,"d")}function py(){hr.call(this,"c")}function my(){}function Md(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Dg(this),this.O=HI,this.T=new ly(n=_b?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Mb}function Mb(){this.i=null,this.g="",this.h=!1}dr(fy,hr),dr(py,hr),dr(my,Ab),my.prototype.g=function(){return new XMLHttpRequest},my.prototype.i=function(){return{}},gy=new my;var HI=45e3,xb={},Ef={};function Ig(n,e,t){n.K=1,n.v=xg(Oa(e)),n.s=t,n.P=!0,Nb(n,null)}function Nb(n,e){n.F=Date.now(),xd(n),n.A=Oa(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),ID(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Mb,n.g=zb(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Cg(Dr(n.La,n,n.g),n.N)),cD(n.S,n.g,"readystatechange",n.ib),e=n.H?XC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Ad(),function uD(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var u="",h=s.split("&"),g=0;g<h.length;g++){var y=h[g].split("=");if(1<y.length){var C=y[0];y=y[1];var S=C.split("_");u=2<=S.length&&"type"==S[1]?u+(C+"=")+y+"&":u+(C+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function _y(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function vD(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=jI(n,t),r==Ef){4==e&&(n.o=4,jr(14),i=!1),eu(n.j,n.m,null,"[Incomplete Response]");break}if(r==xb){n.o=4,jr(15),eu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}eu(n.j,n.m,r,null),Ob(n,r)}_y(n)&&r!=Ef&&r!=xb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,jr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hg(e),e.K=!0,jr(11))):(eu(n.j,n.m,t,"[Invalid Chunked Response]"),nu(n),Na(n))}function jI(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ef:(t=Number(e.substring(t,i)),isNaN(t)?xb:(i+=1)+t>e.length?Ef:(e=e.substr(i,t),n.C=i+t,e))}function xd(n){n.V=Date.now()+n.O,bD(n,n.O)}function bD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tg(Dr(n.gb,n),e)}function Ag(n){n.B&&(Kt.clearTimeout(n.B),n.B=null)}function Na(n){0==n.l.G||n.I||UD(n.l,n)}function nu(n){Ag(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,cy(n.T),Ib(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ob(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Fb(t.h,n)))if(!n.J&&Fb(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Sy(t),Mf(t)}Ug(t),jr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=Tg(Dr(t.cb,t),6e3));if(1>=ND(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else iu(t,11)}else if((n.J||t.g==n)&&Sy(t),!X_(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.T=y[0],y=y[1],2==t.G)if("c"==y[0]){t.I=y[1],t.ka=y[2];const C=y[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const S=y[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const k=y[5];null!=k&&"number"==typeof k&&0<k&&(t.J=i=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const V=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var s=i.h;s.g||-1==V.indexOf("spdy")&&-1==V.indexOf("quic")&&-1==V.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Lb(s,s.h),s.h=null))}if(i.D){const $=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;$&&(i.za=$,Gn(i.F,i.D,$))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((i=t).sa=$b(i,i.H?i.ka:null,i.V),u.J){OD(i.h,u);var h=u,g=i.J;g&&h.setTimeout(g),h.B&&(Ag(h),xd(h)),i.g=u}else Gb(i);0<t.i.length&&Dy(t)}else"stop"!=y[0]&&"close"!=y[0]||iu(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?iu(t,7):Cy(t):"noop"!=y[0]&&t.l&&t.l.wa(y),t.A=0)}Ad()}catch{}}function yy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Y_(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wD(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Y_(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function HO(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Y_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}(It=Md.prototype).setTimeout=function(n){this.O=n},It.ib=function(n){n=n.target;const e=this.L;e&&3==kl(n)?e.l():this.La(n)},It.La=function(n){try{if(n==this.g)e:{const C=kl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||_b||this.g&&(this.h.h||this.g.fa()||Lg(this.g)))){this.I||4!=C||7==e||Ad(),Ag(this);var t=this.g.aa();this.Y=t;t:if(_y(this)){var i=Lg(this.g);n="";var r=i.length,s=4==kl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){nu(this),Na(this);var u="";break t}this.h.i=new Kt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function VI(n,e,t,i,r,s,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+u})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X_(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,jr(12),nu(this),Na(this);break e}eu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ob(this,t)}this.P?(vD(this,C,u),_b&&this.i&&3==C&&(cD(this.S,this.T,"tick",this.hb),this.T.start())):(eu(this.j,this.m,u,null),Ob(this,u)),4==C&&nu(this),this.i&&!this.I&&(4==C?UD(this.l,this):(this.i=!1,xd(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,jr(12)):(this.o=0,jr(13)),nu(this),Na(this)}}}catch{}},It.hb=function(){if(this.g){var n=kl(this.g),e=this.g.fa();this.C<e.length&&(Ag(this),vD(this,n,e),this.i&&4!=n&&xd(this))}},It.cancel=function(){this.I=!0,nu(this)},It.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function UI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ad(),jr(17)),nu(this),this.o=2,Na(this)):bD(this,this.V-n)};var ED=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nd(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Nd){this.h=void 0!==e?e:n.h,Cf(this,n.j),this.s=n.s,this.g=n.g,Mg(this,n.m),this.l=n.l,e=n.i;var t=new kg;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Rb(this,t),this.o=n.o}else n&&(t=String(n).match(ED))?(this.h=!!e,Cf(this,t[1]||"",!0),this.s=Ng(t[2]||""),this.g=Ng(t[3]||"",!0),Mg(this,t[4]),this.l=Ng(t[5]||"",!0),Rb(this,t[6]||"",!0),this.o=Ng(t[7]||"")):(this.h=!!e,this.i=new kg(null,this.h))}function Oa(n){return new Nd(n)}function Cf(n,e,t){n.j=t?Ng(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Rb(n,e,t){e instanceof kg?(n.i=e,function AD(n,e){e&&!n.j&&(Od(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(zI(this,i),ID(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Og(e,TD)),n.i=new kg(e,n.h))}function Gn(n,e,t){n.i.set(e,t)}function xg(n){return Gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ng(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Og(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,GI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function GI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Og(e,CD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Og(e,CD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Og(t,"/"==t.charAt(0)?jO:DD,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Og(t,$I)),n.join("")};var CD=/[#\/\?@]/g,DD=/[#\?:]/g,jO=/[#\?]/g,TD=/[#\?@]/g,$I=/#/g;function kg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Od(n){n.g||(n.g=new Map,n.h=0,n.i&&function kb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zI(n,e){Od(n),e=Df(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function SD(n,e){return Od(n),e=Df(n,e),n.g.has(e)}function ID(n,e,t){zI(n,e),0<t.length&&(n.i=null,n.g.set(Df(n,e),Q_(t)),n.h+=t.length)}function Df(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Pb(n){this.l=n||ZI,n=Kt.PerformanceNavigationTiming?0<(n=Kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Kt.g&&Kt.g.Ga&&Kt.g.Ga()&&Kt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(It=kg.prototype).add=function(n,e){Od(this),this.i=null,n=Df(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},It.forEach=function(n,e){Od(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},It.oa=function(){Od(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let s=0;s<r.length;s++)t.push(e[i])}return t},It.W=function(n){Od(this);let e=[];if("string"==typeof n)SD(this,n)&&(e=e.concat(this.g.get(Df(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},It.set=function(n,e){return Od(this),this.i=null,SD(this,n=Df(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},It.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},It.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const s=encodeURIComponent(String(i)),u=this.W(i);for(i=0;i<u.length;i++){var r=s;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var ZI=10;function xD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ND(n){return n.h?1:n.g?n.g.size:0}function Fb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Lb(n,e){n.g?n.g.add(e):n.h=e}function OD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Tf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Q_(n.i)}function vy(){}function kD(){this.g=new vy}function RD(n,e,t){const i=t||"";try{yy(n,function(r,s){let u=r;vg(r)&&(u=sD(r)),e.push(i+s+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Rg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Sf(n){this.l=n.ac||null,this.j=n.jb||!1}function by(n,e){fr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=FD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Pb.prototype.cancel=function(){if(this.i=Tf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vy.prototype.stringify=function(n){return Kt.JSON.stringify(n,void 0)},vy.prototype.parse=function(n){return Kt.JSON.parse(n,void 0)},dr(Sf,Ab),Sf.prototype.g=function(){return new by(this.l,this.j)},Sf.prototype.i=function(n){return function(){return n}}({}),dr(by,fr);var FD=0;function Bb(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Pg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Fg(n)}function Fg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(It=by.prototype).open=function(n,e){if(this.readyState!=FD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Fg(this)},It.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Kt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},It.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pg(this)),this.readyState=FD},It.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Fg(this)),this.g&&(this.readyState=3,Fg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bb(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},It.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Pg(this):Fg(this),3==this.readyState&&Bb(this)}},It.Va=function(n){this.g&&(this.response=this.responseText=n,Pg(this))},It.Ua=function(n){this.g&&(this.response=n,Pg(this))},It.ga=function(){this.g&&Pg(this)},It.setRequestHeader=function(n,e){this.v.append(n,e)},It.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},It.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(by.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qI=Kt.JSON.parse;function gi(n){fr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=If,this.K=this.L=!1}dr(gi,fr);var If="",WI=/^https?$/i,Vb=["POST","PUT"];function LD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wy(n),Ey(n)}function wy(n){n.D||(n.D=!0,Hr(n,"complete"),Hr(n,"error"))}function Af(n){if(n.h&&typeof fb<"u"&&(!n.C[1]||4!=kl(n)||2!=n.aa()))if(n.v&&4==kl(n))Tb(n.Ha,0,n);else if(Hr(n,"readystatechange"),4==kl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(ED)[1]||null;if(!r&&Kt.self&&Kt.self.location){var s=Kt.self.location.protocol;r=s.substr(0,s.length-1)}i=!WI.test(r?r.toLowerCase():"")}t=i}if(t)Hr(n,"complete"),Hr(n,"success");else{n.m=6;try{var u=2<kl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",wy(n)}}finally{Ey(n)}}}function Ey(n,e){if(n.g){BD(n);const t=n.g,i=n.C[0]?K_:null;n.g=null,n.C=null,e||Hr(n,"ready");try{t.onreadystatechange=i}catch{}}}function BD(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Kt.clearTimeout(n.A),n.A=null)}function kl(n){return n.g?n.g.readyState:0}function Lg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case If:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Bg(n){let e="";return Td(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Ub(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Bg(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Gn(n,e,t))}function Vg(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Hb(n){this.Ca=0,this.i=[],this.j=new uy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Vg("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Vg("baseRetryDelayMs",5e3,n),this.bb=Vg("retryDelaySeedMs",1e4,n),this.$a=Vg("forwardChannelMaxRetries",2,n),this.ta=Vg("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Pb(n&&n.concurrentRequestLimit),this.Fa=new kD,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Cy(n){if(jb(n),3==n.G){var e=n.U++,t=Oa(n.F);Gn(t,"SID",n.I),Gn(t,"RID",e),Gn(t,"TYPE","terminate"),kd(n,t),(e=new Md(n,n.j,e,void 0)).K=2,e.v=xg(Oa(t)),t=!1,Kt.navigator&&Kt.navigator.sendBeacon&&(t=Kt.navigator.sendBeacon(e.v.toString(),"")),!t&&Kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=zb(e.l,null),e.g.da(e.v)),e.F=Date.now(),xd(e)}Iy(n)}function Mf(n){n.g&&(Hg(n),n.g.cancel(),n.g=null)}function jb(n){Mf(n),n.u&&(Kt.clearTimeout(n.u),n.u=null),Sy(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Kt.clearTimeout(n.m),n.m=null)}function Dy(n){xD(n.h)||n.m||(n.m=!0,Cb(n.Ja,n),n.C=0)}function YI(n,e){var t;t=e?e.m:n.U++;const i=Oa(n.F);Gn(i,"SID",n.I),Gn(i,"RID",t),Gn(i,"AID",n.T),kd(n,i),n.o&&n.s&&Ub(i,n.o,n.s),t=new Md(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Ty(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Lb(n.h,t),Ig(t,i,e)}function kd(n,e){n.ia&&Td(n.ia,function(t,i){Gn(e,i,t)}),n.l&&yy({},function(t,i){Gn(e,i,t)})}function Ty(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Dr(n.l.Ra,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const u=["count="+t];-1==s?0<t?(s=r[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);let h=!0;for(let g=0;g<t;g++){let y=r[g].h;const C=r[g].g;if(y-=s,0>y)s=Math.max(0,r[g].h-100),h=!1;else try{RD(C,u,"req"+y+"_")}catch{i&&i(C)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function Gb(n){n.g||n.u||(n.Z=1,Cb(n.Ia,n),n.A=0)}function Ug(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Tg(Dr(n.Ia,n),HD(n,n.A)),n.A++,0))}function Hg(n){null!=n.B&&(Kt.clearTimeout(n.B),n.B=null)}function VD(n){n.g=new Md(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Oa(n.sa);Gn(e,"RID","rpc"),Gn(e,"SID",n.I),Gn(e,"CI",n.L?"0":"1"),Gn(e,"AID",n.T),Gn(e,"TYPE","xmlhttp"),kd(n,e),n.o&&n.s&&Ub(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=xg(Oa(e)),t.s=null,t.P=!0,Nb(t,n)}function Sy(n){null!=n.v&&(Kt.clearTimeout(n.v),n.v=null)}function UD(n,e){var t=null;if(n.g==e){Sy(n),Hg(n),n.g=null;var i=2}else{if(!Fb(n.h,e))return;t=e.D,OD(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Hr(i=dy(),new gD(i,t)),Dy(n)}else Gb(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function KI(n,e){return!(ND(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Tg(Dr(n.Ja,n,e),HD(n,n.C)),n.C++,0)))}(n,e)||2==i&&Ug(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:iu(n,5);break;case 4:iu(n,10);break;case 3:iu(n,6);break;default:iu(n,2)}}function HD(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function iu(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Dr(n.kb,n);t||(t=new Nd("//www.google.com/images/cleardot.gif"),Kt.location&&"http"==Kt.location.protocol||Cf(t,"https"),xg(t)),function PD(n,e){const t=new uy;if(Kt.Image){const i=new Image;i.onload=bg(Rg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=bg(Rg,t,i,"TestLoadImage: error",!1,e),i.onabort=bg(Rg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=bg(Rg,t,i,"TestLoadImage: timeout",!1,e),Kt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else jr(2);n.G=0,n.l&&n.l.va(e),Iy(n),jb(n)}function Iy(n){if(n.G=0,n.la=[],n.l){const e=Tf(n.h);(0!=e.length||0!=n.i.length)&&(J_(n.la,e),J_(n.la,n.i),n.h.i.length=0,Q_(n.i),n.i.length=0),n.l.ua()}}function $b(n,e,t){var i=t instanceof Nd?Oa(t):new Nd(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Mg(i,i.m);else{var r=Kt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Nd(null,void 0);i&&Cf(s,i),e&&(s.g=e),r&&Mg(s,r),t&&(s.l=t),i=s}return e=n.za,(t=n.D)&&e&&Gn(i,t,e),Gn(i,"VER",n.ma),kd(n,i),i}function zb(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gi(t&&n.Da&&!n.ra?new Sf({jb:!0}):n.ra)).Ka(n.H),e}function Zb(){}function jg(){if(wg&&!(10<=Number(QC)))throw Error("Environmental error: no available transport.")}function ks(n,e){fr.call(this),this.g=new Hb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!X_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!X_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xf(this)}function qb(n){fy.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Wb(){py.call(this),this.status=1}function xf(n){this.g=n}(It=gi.prototype).Ka=function(n){this.L=n},It.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gy.g(),this.C=function _D(n){return n.h||(n.h=n.i())}(this.u?this.u:gy),this.g.onreadystatechange=Dr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void LD(this,s)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())t.set(s,i.get(s))}i=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),r=Kt.FormData&&n instanceof Kt.FormData,!(0<=gb(Vb,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,u]of t)this.g.setRequestHeader(s,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BD(this),0<this.B&&((this.K=function ka(n){return wg&&function KC(){return function ZC(n){var e=VO;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=$C(String(ey)).split("."),t=$C("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",s=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=Xc(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Xc(0==r[2].length,0==s[2].length)||Xc(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dr(this.qa,this)):this.A=Tb(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){LD(this,s)}},It.qa=function(){typeof fb<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hr(this,"timeout"),this.abort(8))},It.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hr(this,"complete"),Hr(this,"abort"),Ey(this))},It.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ey(this,!0)),gi.X.M.call(this)},It.Ha=function(){this.s||(this.F||this.v||this.l?Af(this):this.fb())},It.fb=function(){Af(this)},It.aa=function(){try{return 2<kl(this)?this.g.status:-1}catch{return-1}},It.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},It.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qI(e)}},It.Ea=function(){return this.m},It.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(It=Hb.prototype).ma=8,It.G=1,It.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new Md(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=XC(s),tD(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ty(this,r,e),Gn(t=Oa(this.F),"RID",n),Gn(t,"CVER",22),this.D&&Gn(t,"X-HTTP-Session-Id",this.D),kd(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(Bg(s)))+"&"+e:this.o&&Ub(t,this.o,s)),Lb(this.h,r),this.Ya&&Gn(t,"TYPE","init"),this.O?(Gn(t,"$req",e),Gn(t,"SID","null"),r.Z=!0,Ig(r,t,null)):Ig(r,t,e),this.G=2}}else 3==this.G&&(n?YI(this,n):0==this.i.length||xD(this.h)||YI(this))},It.Ia=function(){if(this.u=null,VD(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Tg(Dr(this.eb,this),n)}},It.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,jr(10),Mf(this),VD(this))},It.cb=function(){null!=this.v&&(this.v=null,Mf(this),Ug(this),jr(19))},It.kb=function(n){n?(this.j.info("Successfully pinged google.com"),jr(2)):(this.j.info("Failed to ping google.com"),jr(1))},(It=Zb.prototype).xa=function(){},It.wa=function(){},It.va=function(){},It.ua=function(){},It.Ra=function(){},jg.prototype.g=function(n,e){return new ks(n,e)},dr(ks,fr),ks.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;jr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=$b(n,null,n.V),Dy(n)},ks.prototype.close=function(){Cy(this.g)},ks.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=sD(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&Dy(e)},ks.prototype.M=function(){this.g.l=null,delete this.j,Cy(this.g),delete this.g,ks.X.M.call(this)},dr(qb,fy),dr(Wb,py),dr(xf,Zb),xf.prototype.xa=function(){Hr(this.g,"a")},xf.prototype.wa=function(n){Hr(this.g,new qb(n))},xf.prototype.va=function(n){Hr(this.g,new Wb)},xf.prototype.ua=function(){Hr(this.g,"b")},jg.prototype.createWebChannel=jg.prototype.g,ks.prototype.send=ks.prototype.u,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,hy.NO_ERROR=0,hy.TIMEOUT=8,hy.HTTP_ERROR=6,mD.COMPLETE="complete",yD.EventType=Sg,Sg.OPEN="a",Sg.CLOSE="b",Sg.ERROR="c",Sg.MESSAGE="d",fr.prototype.listen=fr.prototype.N,gi.prototype.listenOnce=gi.prototype.O,gi.prototype.getLastError=gi.prototype.Oa,gi.prototype.getLastErrorCode=gi.prototype.Ea,gi.prototype.getStatus=gi.prototype.aa,gi.prototype.getResponseJson=gi.prototype.Sa,gi.prototype.getResponseText=gi.prototype.fa,gi.prototype.send=gi.prototype.da,gi.prototype.setWithCredentials=gi.prototype.Ka;var jD=Nl.createWebChannelTransport=function(){return new jg},GD=Nl.getStatEventTarget=function(){return dy()},Tr=Nl.ErrorCode=hy,Nf=Nl.EventType=mD,QI=Nl.Event=tu,$D=Nl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},GO=Nl.FetchXmlHttpFactory=Sf,Kb=Nl.WebChannel=yD,zD=Nl.XhrIo=gi;const Yb="@firebase/firestore";class mi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mi.UNAUTHENTICATED=new mi(null),mi.GOOGLE_CREDENTIALS=new mi("google-credentials-uid"),mi.FIRST_PARTY=new mi("first-party-uid"),mi.MOCK_USER=new mi("mock-user");let Of="9.17.2";const Ra=new Jc.Yd("@firebase/firestore");function Qb(){return Ra.logLevel}function Ue(n,...e){if(Ra.logLevel<=Jc.in.DEBUG){const t=e.map(Gg);Ra.debug(`Firestore (${Of}): ${n}`,...t)}}function ki(n,...e){if(Ra.logLevel<=Jc.in.ERROR){const t=e.map(Gg);Ra.error(`Firestore (${Of}): ${n}`,...t)}}function Rd(n,...e){if(Ra.logLevel<=Jc.in.WARN){const t=e.map(Gg);Ra.warn(`Firestore (${Of}): ${n}`,...t)}}function Gg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Of}) INTERNAL ASSERTION FAILED: `+n;throw ki(e),new Error(e)}function Tt(n,e){n||dt()}function Xe(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends mn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mi.UNAUTHENTICATED))}shutdown(){}}class JI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qD{constructor(e){this.t=e,this.currentUser=mi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,we.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},g=y=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Tt("string"==typeof i.accessToken),new Jb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new mi(e)}}class Xb{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=mi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class $O{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new Xb(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(mi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zO{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=s=>{null!=s.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.A;return this.A=s.token,Ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.A=t.token,new WD(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class KD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=XI(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Zt(n,e){return n<e?-1:n>e?1:0}function Pd(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function YD(n){return n+"\0"}class $n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $n.fromMillis(Date.now())}static fromDate(e){return $n.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new $n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new $n(0,0))}static max(){return new Ot(new $n(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $g{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===$g.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $g?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),u=t.get(r);if(s<u)return-1;if(s>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends $g{construct(e,t,i){return new fn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const QD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends $g{construct(e,t,i){return new _i(e,t,i)}static isValidIdentifier(e){return QD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Fe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Fe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(s(),r++)}if(s(),u)throw new Fe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(fn.fromString(e))}static fromName(e){return new Je(fn.fromString(e).popFirst(5))}static empty(){return new Je(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new fn(e.slice()))}}class zg{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function My(n){return n.fields.find(e=>2===e.kind)}function ru(n){return n.fields.filter(e=>2!==e.kind)}zg.UNKNOWN_ID=-1;class xy{constructor(e,t){this.fieldPath=e,this.kind=t}}class Rf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Rf(0,mo.min())}}function tA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ot.fromTimestamp(1e9===i?new $n(t+1,0):new $n(t,i));return new mo(r,Je.empty(),e)}function nA(n){return new mo(n.readTime,n.key,-1)}class mo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new mo(Ot.min(),Je.empty(),-1)}static max(){return new mo(Ot.max(),Je.empty(),-1)}}function JD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Fd(n){return XD.apply(this,arguments)}function XD(){return XD=(0,we.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==iA)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),XD.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,s=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++s,u&&s===r&&t()},g=>i(g))}),u=!0,s===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,r)=>{const s=e.length,u=new Array(s);let h=0;for(let g=0;g<s;g++){const y=g;t(e[y]).next(C=>{u[y]=C,++h,h===s&&i(u)},C=>r(C))}})}static doWhile(e,t){return new ae((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class ew{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new rr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Pf(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=nw(i.target.error);this.v.reject(new Pf(e,r))}}static open(e,t,i,r){try{return new ew(t,e.transaction(r,i))}catch(s){throw new Pf(t,s)}}get P(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new WO(t)}}class _o{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===_o.D((0,mn.z$)())&&ki("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Pl(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,mn.hl)())return!1;if(_o.N())return!0;const e=(0,mn.z$)(),t=_o.D(e),i=0<t&&t<10,r=_o.k(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,we.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=u=>{i(u.target.result)},s.onblocked=()=>{r(new Pf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Fe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Fe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Pf(e,h))},s.onupgradeneeded=u=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,s.transaction,u.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,we.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.F(e);const g=ew.open(s.db,e,u?"readonly":"readwrite",i),y=r(g).next(C=>(g.V(),C)).catch(C=>(g.abort(C),ae.reject(C))).toPromise();return y.catch(()=>{}),yield g.P,y}catch(g){const y=g,C="FirebaseError"!==y.name&&h<3;if(Ue("SimpleDb","Transaction failed with error:",y.message,"Retrying:",C),s.close(),!C)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ny{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Pl(this.q.delete())}}class Pf extends Fe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Rl(n){return"IndexedDbTransactionError"===n.name}class WO{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Pl(i)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Pl(this.store.add(e))}get(e){return Pl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Pl(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Pl(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(u,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ae((s,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,s)=>{i.onerror=u=>{s(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Y(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Z=!1;const r=this.cursor(i);return this.H(r,(s,u,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=s=>{const u=nw(s.target.error);r(u)},t.onsuccess=s=>{const u=s.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}H(e,t){const i=[];return new ae((r,s)=>{e.onerror=u=>{s(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new Ny(h),y=t(h.primaryKey,h.value,g);if(y instanceof ae){const C=y.catch(S=>(g.done(),ae.reject(S)));i.push(C)}g.isDone?r():null===g.G?h.continue():h.continue(g.G)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Z?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pl(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=nw(i.target.error);t(r)}})}let tw=!1;function nw(n){const e=_o.D((0,mn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return tw||(tw=!0,setTimeout(()=>{throw i},0)),i}}return n}class e1{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,we.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Rl(i)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Fd(i)}yield t.nt(6e4)}))}}class KO{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,we.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,s=!0;return ae.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Ue("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,r).next(h=>{r-=h,i.add(u)});s=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const u=s.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(r,s)).next(h=>(Ue("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,s)=>{const u=nA(s);JD(u,i)>0&&(i=u)}),new mo(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Rs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class oA{constructor(e,t,i,r,s,u,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}function aA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ff(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function t1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zg(n){return null==n}function qg(n){return 0===n&&1/n==-1/0}function lA(n){return"number"==typeof n&&Number.isInteger(n)&&!qg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class cA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw r instanceof DOMException?new cA("Invalid base64 string: "+r):r}}(e);return new Wi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new Wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const YO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pr(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=YO.exec(n);if(Tt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yi(n.seconds),nanos:yi(n.nanos)}}function yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fl(n){return"string"==typeof n?Wi.fromBase64String(n):Wi.fromUint8Array(n)}function rw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Ps(n){const e=n.mapValue.fields.__previous_value__;return rw(e)?Ps(e):e}function Wg(n){const e=pr(n.mapValue.fields.__local_write_time__.timestampValue);return new $n(e.seconds,e.nanos)}const Pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ky={nullValue:"NULL_VALUE"};function Bd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rw(n)?4:Fa(n)?9007199254740991:10:dt()}function yo(n,e){if(n===e)return!0;const t=Bd(n);if(t!==Bd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Wg(n).isEqual(Wg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=pr(i.timestampValue),u=pr(r.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Fl(n.bytesValue).isEqual(Fl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return yi(i.geoPointValue.latitude)===yi(r.geoPointValue.latitude)&&yi(i.geoPointValue.longitude)===yi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return yi(i.integerValue)===yi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=yi(i.doubleValue),u=yi(r.doubleValue);return s===u?qg(s)===qg(u):isNaN(s)&&isNaN(u)}return!1}(n,e);case 9:return Pd(n.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:return function(i,r){const s=i.mapValue.fields||{},u=r.mapValue.fields||{};if(aA(s)!==aA(u))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===u[h]||!yo(s[h],u[h])))return!1;return!0}(n,e);default:return dt()}var r}function Lf(n,e){return void 0!==(n.values||[]).find(t=>yo(t,e))}function Ll(n,e){if(n===e)return 0;const t=Bd(n),i=Bd(e);if(t!==i)return Zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const u=yi(r.integerValue||r.doubleValue),h=yi(s.integerValue||s.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return r1(n.timestampValue,e.timestampValue);case 4:return r1(Wg(n),Wg(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(r,s){const u=Fl(r),h=Fl(s);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const u=r.split("/"),h=s.split("/");for(let g=0;g<u.length&&g<h.length;g++){const y=Zt(u[g],h[g]);if(0!==y)return y}return Zt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const u=Zt(yi(r.latitude),yi(s.latitude));return 0!==u?u:Zt(yi(r.longitude),yi(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const u=r.values||[],h=s.values||[];for(let g=0;g<u.length&&g<h.length;++g){const y=Ll(u[g],h[g]);if(y)return y}return Zt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Pa.mapValue&&s===Pa.mapValue)return 0;if(r===Pa.mapValue)return 1;if(s===Pa.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=s.fields||{},y=Object.keys(g);h.sort(),y.sort();for(let C=0;C<h.length&&C<y.length;++C){const S=Zt(h[C],y[C]);if(0!==S)return S;const k=Ll(u[h[C]],g[y[C]]);if(0!==k)return k}return Zt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw dt()}}function r1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=pr(n),i=pr(e),r=Zt(t.seconds,i.seconds);return 0!==r?r:Zt(t.nanos,i.nanos)}function Vd(n){return Ry(n)}function Ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=pr(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fl(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const u of i.values||[])s?s=!1:r+=",",r+=Ry(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",u=!0;for(const h of r)u?u=!1:s+=",",s+=`${h}:${Ry(i.fields[h])}`;return s+"}"}(n.mapValue):dt();var e}function Ud(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Py(n){return!!n&&"integerValue"in n}function Kg(n){return!!n&&"arrayValue"in n}function Fy(n){return!!n&&"nullValue"in n}function Bl(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Yg(n){return!!n&&"mapValue"in n}function Hd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ff(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Hd(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Hd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fa(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uA(n){return"nullValue"in n?ky:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ud(Ld.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function QO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ud(Ld.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Pa:dt()}function s1(n,e){const t=Ll(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function o1(n,e){const t=Ll(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class su{constructor(e,t){this.position=e,this.inclusive=t}}function a1(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],u=n.position[r];if(i=s.field.isKeyField()?Je.comparator(Je.fromName(u.referenceValue),t.key):Ll(u,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function sw(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!yo(n.position[t],e.position[t]))return!1;return!0}class dA{}class an extends dA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new By(e,t,i):"array-contains"===t?new d1(e,i):"in"===t?new uw(e,i):"not-in"===t?new hA(e,i):"array-contains-any"===t?new fA(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Vy(e,i):new c1(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ll(t,this.value)):null!==t&&Bd(this.value)===Bd(t)&&this.matchesComparison(Ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cn extends dA{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new Cn(e,t)}matches(e){return jd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ft||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(t=>t.isInequality());return null!==e?e.field:null}dt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function jd(n){return"and"===n.op}function l1(n){return"or"===n.op}function Qg(n){return ow(n)&&jd(n)}function ow(n){for(const e of n.filters)if(e instanceof Cn)return!1;return!0}function Ly(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Vd(n.value);if(Qg(n))return n.filters.map(e=>Ly(e)).join(",");{const e=n.filters.map(t=>Ly(t)).join(",");return`${n.op}(${e})`}}function aw(n,e){return n instanceof an?(t=n,(i=e)instanceof an&&t.op===i.op&&t.field.isEqual(i.field)&&yo(t.value,i.value)):n instanceof Cn?function(t,i){return i instanceof Cn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,s,u)=>r&&aw(s,i.filters[u]),!0)}(n,e):void dt();var t,i}function lw(n,e){const t=n.filters.concat(e);return Cn.create(t,n.op)}function cw(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${Vd(e.value)}`:n instanceof Cn?function(e){return e.op.toString()+" {"+e.getFilters().map(cw).join(" ,")+"}"}(n):"Filter";var e}class By extends an{constructor(e,t,i){super(e,t,i),this.key=Je.fromName(i.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class Vy extends an{constructor(e,t){super(e,"in",t),this.keys=u1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class c1 extends an{constructor(e,t){super(e,"not-in",t),this.keys=u1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function u1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Je.fromName(i.referenceValue))}class d1 extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kg(t)&&Lf(t.arrayValue,this.value)}}class uw extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lf(this.value.arrayValue,t)}}class hA extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lf(this.value.arrayValue,t)}}class fA extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Lf(this.value.arrayValue,i))}}class Jg{constructor(e,t="asc"){this.field=e,this.dir=t}}function JO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ii{constructor(e,t){this.comparator=e,this.root=t||Sr.EMPTY}insert(e,t){return new ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uy(this.root,e,this.comparator,!0)}}class Uy{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??Sr.RED,this.left=r??Sr.EMPTY,this.right=s??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Sr(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Sr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1,Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Sr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sn{constructor(e){this.comparator=e,this.data=new ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pA(this.data.getIterator())}getIteratorFrom(e){return new pA(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sn(this.comparator);return t.data=e,t}}class pA{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xg(n){return n.hasNext()?n.getNext():void 0}class Fs{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new Fs([])}unionWith(e){let t=new Sn(_i.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Fs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pd(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Yg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hd(t)}setAll(e){let t=_i.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=Hd(u):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());Yg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Yg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ff(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ir(Hd(this.value))}}function gA(n){const e=[];return Ff(n.fields,(t,i)=>{const r=new _i([t]);if(Yg(i)){const s=gA(i.mapValue).fields;if(0===s.length)e.push(r);else for(const u of s)e.push(r.child(u))}else e.push(r)}),new Fs(e)}class zn{constructor(e,t,i,r,s,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,Ot.min(),Ot.min(),Ot.min(),Ir.empty(),0)}static newFoundDocument(e,t,i,r){return new zn(e,1,t,Ot.min(),i,r,0)}static newNoDocument(e,t){return new zn(e,2,t,Ot.min(),Ot.min(),Ir.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Ot.min(),Ot.min(),Ir.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hy{constructor(e,t=null,i=[],r=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=u,this.endAt=h,this._t=null}}function dw(n,e=null,t=[],i=[],r=null,s=null,u=null){return new Hy(n,e,t,i,r,s,u)}function Gd(n){const e=Xe(n);if(null===e._t){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ly(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Zg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vd(i)).join(",")),e._t=t}return e._t}function Bf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!aw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sw(n.startAt,e.startAt)&&sw(n.endAt,e.endAt)}function La(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function em(n,e){return n.filters.filter(t=>t instanceof an&&t.field.isEqual(e))}function jy(n,e,t){let i=ky,r=!0;for(const s of em(n,e)){let u=ky,h=!0;switch(s.op){case"<":case"<=":u=uA(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,h=!1;break;case"!=":case"not-in":u=ky}s1({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];s1({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function Gy(n,e,t){let i=Pa,r=!0;for(const s of em(n,e)){let u=Pa,h=!0;switch(s.op){case">=":case">":u=QO(s.value),h=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,h=!1;break;case"!=":case"not-in":u=Pa}o1({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const u=t.position[s];o1({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Vl{constructor(e,t=null,i=[],r=[],s=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=g,this.wt=null,this.gt=null}}function $y(n,e,t,i,r,s,u,h){return new Vl(n,e,t,i,r,s,u,h)}function ou(n){return new Vl(n)}function tm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function h1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function hw(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function f1(n){return null!==n.collectionGroup}function Vf(n){const e=Xe(n);if(null===e.wt){e.wt=[];const t=hw(e),i=h1(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Jg(t)),e.wt.push(new Jg(_i.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jg(_i.keyField(),s))}}}return e.wt}function Gr(n){const e=Xe(n);if(!e.gt)if("F"===e.limitType)e.gt=dw(e.path,e.collectionGroup,Vf(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Vf(e))t.push(new Jg(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new su(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new su(e.startAt.position,e.startAt.inclusive):null;e.gt=dw(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.gt}function fw(n,e){e.getFirstInequalityField(),hw(n);const t=n.filters.concat([e]);return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zy(n,e,t){return new Vl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nm(n,e){return Bf(Gr(n),Gr(e))&&n.limitType===e.limitType}function p1(n){return`${Gd(Gr(n))}|lt:${n.limitType}`}function Zy(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>cw(i)).join(", ")}]`),Zg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vd(i)).join(",")),`Target(${t})`}(Gr(n))}; limitType=${n.limitType})`}function Uf(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Je.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Vf(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,u){const h=a1(r,s,u);return r.inclusive?h<=0:h<0}(t.startAt,Vf(t),i)||t.endAt&&!function(r,s,u){const h=a1(r,s,u);return r.inclusive?h>=0:h>0}(t.endAt,Vf(t),i)));var t,i}function pw(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g1(n){return(e,t)=>{let i=!1;for(const r of Vf(n)){const s=mA(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function mA(n,e,t){const i=n.field.isKeyField()?Je.comparator(e.key,t.key):function(r,s,u){const h=s.data.field(r),g=u.data.field(r);return null!==h&&null!==g?Ll(h,g):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function gw(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qg(e)?"-0":e}}function qy(n){return{integerValue:""+n}}function _A(n,e){return lA(e)?qy(e):gw(n,e)}class im{constructor(){this._=void 0}}function mw(n,e,t){return n instanceof rm?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof Hf?_1(n,e):n instanceof $d?y1(n,e):function(i,r){const s=m1(i,r),u=vA(s)+vA(i.It);return Py(s)&&Py(i.It)?qy(u):gw(i.Tt,u)}(n,e)}function yA(n,e,t){return n instanceof Hf?_1(n,e):n instanceof $d?y1(n,e):t}function m1(n,e){return n instanceof sm?Py(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class rm extends im{}class Hf extends im{constructor(e){super(),this.elements=e}}function _1(n,e){const t=bA(e);for(const i of n.elements)t.some(r=>yo(r,i))||t.push(i);return{arrayValue:{values:t}}}class $d extends im{constructor(e){super(),this.elements=e}}function y1(n,e){let t=bA(e);for(const i of n.elements)t=t.filter(r=>!yo(r,i));return{arrayValue:{values:t}}}class sm extends im{constructor(e,t){super(),this.Tt=e,this.It=t}}function vA(n){return yi(n.integerValue||n.doubleValue)}function bA(n){return Kg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Wy{constructor(e,t){this.field=e,this.transform=t}}class wA{constructor(e,t){this.version=e,this.transformResults=t}}class ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _w(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yw{}function EA(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new E(n.key,ri.none()):new c(n.key,n.data,ri.none());{const t=n.data,i=Ir.empty();let r=new Sn(_i.comparator);for(let s of e.fields)if(!r.has(s)){let u=t.field(s);null===u&&s.length>1&&(s=s.popLast(),u=t.field(s)),null===u?i.delete(s):i.set(s,u),r=r.add(s)}return new d(n.key,i,new Fs(r.toArray()),ri.none())}}function CA(n,e,t){n instanceof c?function(i,r,s){const u=i.value.clone(),h=_(i.fieldTransforms,r,s.transformResults);u.setAll(h),r.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):n instanceof d?function(i,r,s){if(!_w(i.precondition,r))return void r.convertToUnknownDocument(s.version);const u=_(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(f(i)),h.setAll(u),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ky(n,e,t,i){return n instanceof c?function(r,s,u,h){if(!_w(r.precondition,s))return u;const g=r.value.clone(),y=b(r.fieldTransforms,h,s);return g.setAll(y),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof d?function(r,s,u,h){if(!_w(r.precondition,s))return u;const g=b(r.fieldTransforms,h,s),y=s.data;return y.setAll(f(r)),y.setAll(g),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(u=t,_w(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u);var s,u}function o(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=m1(i.transform,r||null);null!=s&&(null===t&&(t=Ir.empty()),t.set(i.field,s))}return t||null}function l(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Pd(t,i,(r,s)=>function XO(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Hf&&i instanceof Hf||t instanceof $d&&i instanceof $d?Pd(t.elements,i.elements,yo):t instanceof sm&&i instanceof sm?yo(t.It,i.It):t instanceof rm&&i instanceof rm);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class c extends yw{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class d extends yw{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function f(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function _(n,e,t){const i=new Map;Tt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],u=s.transform,h=e.data.field(s.field);i.set(s.field,yA(u,h,t[r]))}return i}function b(n,e,t){const i=new Map;for(const r of n){const s=r.transform,u=t.data.field(r.field);i.set(r.field,mw(s,u,e))}return i}class E extends yw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D extends yw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class M{constructor(e){this.count=e}}var N,P;function W(n){switch(n){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function ie(n){if(void 0===n)return ki("GRPC error has no .code"),pe.UNKNOWN;switch(n){case N.OK:return pe.OK;case N.CANCELLED:return pe.CANCELLED;case N.UNKNOWN:return pe.UNKNOWN;case N.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case N.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case N.INTERNAL:return pe.INTERNAL;case N.UNAVAILABLE:return pe.UNAVAILABLE;case N.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case N.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case N.NOT_FOUND:return pe.NOT_FOUND;case N.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case N.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case N.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case N.ABORTED:return pe.ABORTED;case N.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case N.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case N.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(P=N||(N={}))[P.OK=0]="OK",P[P.CANCELLED=1]="CANCELLED",P[P.UNKNOWN=2]="UNKNOWN",P[P.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",P[P.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",P[P.NOT_FOUND=5]="NOT_FOUND",P[P.ALREADY_EXISTS=6]="ALREADY_EXISTS",P[P.PERMISSION_DENIED=7]="PERMISSION_DENIED",P[P.UNAUTHENTICATED=16]="UNAUTHENTICATED",P[P.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",P[P.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",P[P.ABORTED=10]="ABORTED",P[P.OUT_OF_RANGE=11]="OUT_OF_RANGE",P[P.UNIMPLEMENTED=12]="UNIMPLEMENTED",P[P.INTERNAL=13]="INTERNAL",P[P.UNAVAILABLE=14]="UNAVAILABLE",P[P.DATA_LOSS=15]="DATA_LOSS";class ye{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ff(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return t1(this.inner)}size(){return this.innerSize}}const je=new ii(Je.comparator);function Ge(){return je}const mt=new ii(Je.comparator);function kt(...n){let e=mt;for(const t of n)e=e.insert(t.key,t);return e}function Re(n){let e=mt;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function xt(){return In()}function _n(){return In()}function In(){return new ye(n=>n.toString(),(n,e)=>n.isEqual(e))}const zd=new ii(Je.comparator),vw=new Sn(Je.comparator);function Yt(...n){let e=vw;for(const t of n)e=e.add(t);return e}const bw=new Sn(Zt);function jf(){return bw}class Zd{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,qd.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Zd(Ot.min(),r,jf(),Ge(),Yt())}}class qd{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new qd(i,t,Yt(),Yt(),Yt())}}class Gf{constructor(e,t,i,r){this.Et=e,this.removedTargetIds=t,this.key=i,this.At=r}}class Yy{constructor(e,t){this.targetId=e,this.Rt=t}}class Qy{constructor(e,t,i=Wi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class ek{constructor(){this.bt=0,this.vt=nk(),this.Pt=Wi.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return 0!==this.bt}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=Yt(),t=Yt(),i=Yt();return this.vt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new qd(this.Pt,this.Vt,e,t,i)}kt(){this.St=!1,this.vt=nk()}Ot(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class JB{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Ge(),this.Kt=tk(),this.Gt=new Sn(Zt)}Qt(e){for(const t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(const t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{const i=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&i.xt(e.resumeToken);break;case 1:i.$t(),i.Dt||i.kt(),i.xt(e.resumeToken);break;case 2:i.$t(),i.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(i.Bt(),i.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),i.xt(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((i,r)=>{this.Jt(r)&&t(r)})}Zt(e){const t=e.targetId,i=e.Rt.count,r=this.Xt(t);if(r){const s=r.target;if(La(s))if(0===i){const u=new Je(s.path);this.zt(t,u,zn.newNoDocument(u,Ot.min()))}else Tt(1===i);else this.te(t)!==i&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){const t=new Map;this.qt.forEach((s,u)=>{const h=this.Xt(u);if(h){if(s.current&&La(h.target)){const g=new Je(h.target.path);null!==this.Ut.get(g)||this.ne(u,g)||this.zt(u,g,zn.newNoDocument(g,e))}s.Ct&&(t.set(u,s.Nt()),s.kt())}});let i=Yt();this.Kt.forEach((s,u)=>{let h=!0;u.forEachWhile(g=>{const y=this.Xt(g);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.Ut.forEach((s,u)=>u.setReadTime(e));const r=new Zd(e,t,this.Gt,this.Ut,i);return this.Ut=Ge(),this.Kt=tk(),this.Gt=new Sn(Zt),r}jt(e,t){if(!this.Jt(e))return;const i=this.ne(e,t.key)?2:0;this.Ht(e).Ot(t.key,i),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,i){if(!this.Jt(e))return;const r=this.Ht(e);this.ne(e,t)?r.Ot(t,1):r.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),i&&(this.Ut=this.Ut.insert(t,i))}removeTarget(e){this.qt.delete(e)}te(e){const t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let t=this.qt.get(e);return t||(t=new ek,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new Sn(Zt),this.Kt=this.Kt.insert(e,t)),t}Jt(e){const t=null!==this.Xt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new ek),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}}function tk(){return new ii(Je.comparator)}function nk(){return new ii(Je.comparator)}const XB={asc:"ASCENDING",desc:"DESCENDING"},eV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tV={and:"AND",or:"OR"};class nV{constructor(e,t){this.databaseId=e,this.yt=t}}function Jy(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ik(n,e){return n.yt?e.toBase64():e.toUint8Array()}function iV(n,e){return Jy(n,e.toTimestamp())}function sr(n){return Tt(!!n),Ot.fromTimestamp(function(e){const t=pr(e);return new $n(t.seconds,t.nanos)}(n))}function DA(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function rk(n){const e=fn.fromString(n);return Tt(fk(e)),e}function ww(n,e){return DA(n.databaseId,e.path)}function au(n,e){const t=rk(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(ok(t))}function TA(n,e){return DA(n.databaseId,e)}function sk(n){const e=rk(n);return 4===e.length?fn.emptyPath():ok(e)}function Ew(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ok(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ak(n,e,t){return{name:ww(n,e),fields:t.value.mapValue.fields}}function lk(n,e,t){const i=au(n,e.name),r=sr(e.updateTime),s=e.createTime?sr(e.createTime):Ot.min(),u=new Ir({mapValue:{fields:e.fields}}),h=zn.newFoundDocument(i,r,s,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Cw(n,e){let t;if(e instanceof c)t={update:ak(n,e.key,e.value)};else if(e instanceof E)t={delete:ww(n,e.key)};else if(e instanceof d)t={update:ak(n,e.key,e.data),updateMask:dV(e.fieldMask)};else{if(!(e instanceof D))return dt();t={verify:ww(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const u=s.transform;if(u instanceof rm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Hf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $d)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sm)return{fieldPath:s.field.canonicalString(),increment:u.It};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:iV(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function SA(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ri.updateTime(sr(r.updateTime)):void 0!==r.exists?ri.exists(r.exists):ri.none():ri.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,u){let h=null;"setToServerValue"in u?(Tt("REQUEST_TIME"===u.setToServerValue),h=new rm):"appendMissingElements"in u?h=new Hf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new $d(u.removeAllFromArray.values||[]):"increment"in u?h=new sm(s,u.increment):dt();const g=_i.fromServerFormat(u.fieldPath);return new Wy(g,h)}(n,r)):[];var r;if(e.update){const r=au(n,e.update.name),s=new Ir({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Fs((e.updateMask.fieldPaths||[]).map(y=>_i.fromServerFormat(y)));return new d(r,s,u,t,i)}return new c(r,s,t,i)}if(e.delete){const r=au(n,e.delete);return new E(r,t)}if(e.verify){const r=au(n,e.verify);return new D(r,t)}return dt()}function ck(n,e){return{documents:[TA(n,e.path)]}}function IA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=TA(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=TA(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return hk(Cn.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const s=function(g){if(0!==g.length)return g.map(y=>{return{field:$f((C=y).field),direction:lV(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const u=(y=e.limit,n.yt||Zg(y)?y:{value:y});var y,h,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function uk(n){let e=sk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Tt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=function(C){const S=dk(C);return S instanceof Cn&&Qg(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new Jg(Xy((S=C).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(C){let S;return S="object"==typeof C?C.value:C,Zg(S)?null:S}(t.limit));let g=null;var C;t.startAt&&(g=new su((C=t.startAt).values||[],!!C.before));let y=null;return t.endAt&&(y=function(C){return new su(C.values||[],!C.before)}(t.endAt)),$y(e,r,u,s,h,"F",g,y)}function dk(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xy(e.unaryFilter.field);return an.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Xy(e.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xy(e.unaryFilter.field);return an.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xy(e.unaryFilter.field);return an.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(n):void 0!==n.fieldFilter?an.create(Xy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Cn.create(e.compositeFilter.filters.map(t=>dk(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(n):dt();var e}function lV(n){return XB[n]}function cV(n){return eV[n]}function uV(n){return tV[n]}function $f(n){return{fieldPath:n.canonicalString()}}function Xy(n){return _i.fromServerFormat(n.fieldPath)}function hk(n){return n instanceof an?function(e){if("=="===e.op){if(Bl(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NAN"}};if(Fy(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Bl(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NAN"}};if(Fy(e.value))return{unaryFilter:{field:$f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$f(e.field),op:cV(e.op),value:e.value}}}(n):n instanceof Cn?function(e){const t=e.getFilters().map(i=>hk(i));return 1===t.length?t[0]:{compositeFilter:{op:uV(e.op),filters:t}}}(n):dt()}function dV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fk(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pk(e)),e=hV(n.get(t),e);return pk(e)}function hV(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function pk(n){return n+"\x01\x01"}function lu(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const u=n.indexOf("\x01",s);switch((u<0||u>t)&&dt(),n.charAt(u+1)){case"\x01":const h=n.substring(s,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(s,u),r+="\0";break;case"\x11":r+=n.substring(s,u+1);break;default:dt()}s=u+2}return new fn(i)}const gk=["userId","batchId"];function v1(n,e){return[n,Ls(e)]}function mk(n,e,t){return[n,Ls(e),t]}const fV={},pV=["prefixPath","collectionGroup","readTime","documentId"],gV=["prefixPath","collectionGroup","documentId"],mV=["collectionGroup","readTime","prefixPath","documentId"],_V=["canonicalId","targetId"],yV=["targetId","path"],vV=["path","targetId"],bV=["collectionId","parent"],wV=["indexId","uid"],EV=["uid","sequenceNumber"],CV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],DV=["indexId","uid","orderedDocumentKey"],TV=["userId","collectionPath","documentId"],SV=["userId","collectionPath","largestBatchId"],IV=["userId","collectionGroup","largestBatchId"],_k=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],AV=[..._k,"documentOverlays"],yk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vk=yk,MV=[...vk,"indexConfiguration","indexState","indexEntries"];class AA extends rA{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}}function $r(n,e){const t=Xe(n);return _o.M(t.re,e)}class MA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&CA(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ky(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ky(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_n();return this.mutations.forEach(r=>{const s=e.get(r.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=t.has(r.key)?null:h;const g=EA(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(Ot.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Pd(this.mutations,e.mutations,(t,i)=>l(t,i))&&Pd(this.baseMutations,e.baseMutations,(t,i)=>l(t,i))}}class xA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Tt(e.mutations.length===i.length);let r=zd;const s=e.mutations;for(let u=0;u<s.length;u++)r=r.insert(s[u].key,i[u].version);return new xA(e,t,i,r)}}class NA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zf{constructor(e,t,i,r,s=Ot.min(),u=Ot.min(),h=Wi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new zf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class bk{constructor(e){this.oe=e}}function wk(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:b1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:ww(r=n.oe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Jy(r,s.version.toTimestamp()),createTime:Jy(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:om(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:om(e.version)}}var r,s;return i}function b1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function om(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function am(n){const e=new $n(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function lm(n,e){const t=(e.baseMutations||[]).map(s=>SA(n.oe,s));for(let s=0;s<e.mutations.length-1;++s){const u=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(u.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>SA(n.oe,s)),r=$n.fromMillis(e.localWriteTimeMs);return new MA(e.batchId,r,t,i)}function Dw(n){const e=am(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?am(n.lastLimboFreeSnapshotVersion):Ot.min();let i;var r;return void 0!==n.query.documents?(Tt(1===(r=n.query).documents.length),i=Gr(ou(sk(r.documents[0])))):i=Gr(uk(n.query)),new zf(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Wi.fromBase64String(n.resumeToken))}function Ek(n,e){const t=om(e.snapshotVersion),i=om(e.lastLimboFreeSnapshotVersion);let r;r=La(e.target)?ck(n.oe,e.target):IA(n.oe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gd(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function OA(n){const e=uk({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?zy(e,e.limit,"L"):e}function kA(n,e){return new NA(e.largestBatchId,SA(n.oe,e.overlayMutation))}function Ck(n,e){const t=e.path.lastSegment();return[n,Ls(e.path.popLast()),t]}function Dk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:om(i.readTime),documentKey:Ls(i.documentKey.path),largestBatchId:i.largestBatchId}}class NV{getBundleMetadata(e,t){return Tk(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:am(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Tk(e).put({bundleId:(i=t).id,createTime:om(sr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Sk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:OA(r.bundledQuery),readTime:am(r.readTime)};var r})}saveNamedQuery(e,t){return Sk(e).put({name:(i=t).name,readTime:om(sr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Tk(n){return $r(n,"bundles")}function Sk(n){return $r(n,"namedQueries")}class w1{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){return new w1(e,t.uid||"")}getOverlay(e,t){return Tw(e).get(Ck(this.userId,t)).next(i=>i?kA(this.Tt,i):null)}getOverlays(e,t){const i=xt();return ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,u)=>{const h=new NA(t,u);r.push(this.ce(e,h))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Ls(u.getCollectionPath())));const s=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);s.push(Tw(e).Y("collectionPathOverlayIndex",h))}),ae.waitFor(s)}getOverlaysForCollection(e,t,i){const r=xt(),s=Ls(t),u=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Tw(e).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const y=kA(this.Tt,g);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=xt();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tw(e).X({index:"collectionGroupOverlayIndex",range:h},(g,y,C)=>{const S=kA(this.Tt,y);s.size()<r||S.largestBatchId===u?(s.set(S.getKey(),S),u=S.largestBatchId):C.done()}).next(()=>s)}ce(e,t){return Tw(e).put(function(i,r,s){const[u,h,g]=Ck(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Cw(i.oe,s.mutation)}}(this.Tt,this.userId,t))}}function Tw(n){return $r(n,"documentOverlays")}class cm{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(yi(e.integerValue));else if("doubleValue"in e){const i=yi(e.doubleValue);isNaN(i)?this.fe(t,13):(this.fe(t,15),qg(i)?t.de(0):t.de(i))}else if("timestampValue"in e){const i=e.timestampValue;this.fe(t,20),"string"==typeof i?t._e(i):(t._e(`${i.seconds||""}`),t.de(i.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Fl(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.fe(t,45),t.de(i.latitude||0),t.de(i.longitude||0)}else"mapValue"in e?Fa(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):dt()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const i=e.fields||{};this.fe(t,55);for(const r of Object.keys(i))this.we(r,t),this.he(i[r],t)}Ie(e,t){const i=e.values||[];this.fe(t,50);for(const r of i)this.he(r,t)}ye(e,t){this.fe(t,37),Je.fromName(e).path.forEach(i=>{this.fe(t,60),this.Te(i,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}function OV(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Ik(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=OV(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}cm.Ee=new cm;class kV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Re(i.value),i=t.next();this.be()}ve(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Pe(i.value),i=t.next();this.Ve()}Se(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Re(i);else if(i<2048)this.Re(960|i>>>6),this.Re(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Re(480|i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i);else{const r=t.codePointAt(0);this.Re(240|r>>>18),this.Re(128|63&r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r)}}this.be()}De(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=t.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.Ve()}Ce(e){const t=this.xe(e),i=Ik(t);this.Ne(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}ke(e){const t=this.xe(e),i=Ik(t);this.Ne(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Oe(){this.Me(255),this.Me(255)}Fe(){this.$e(255),this.$e(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Re(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.$e(0),this.$e(255)):255===t?(this.$e(255),this.$e(0)):this.$e(e)}be(){this.Me(0),this.Me(1)}Ve(){this.$e(0),this.$e(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}$e(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class RV{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.Oe()}}class PV{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Fe()}}class Sw{constructor(){this.Le=new kV,this.qe=new RV(this.Le),this.Ue=new PV(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return 0===e?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}}class um{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ge(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new um(this.indexId,this.documentKey,this.arrayValue,i)}}function Zf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ak(n.arrayValue,e.arrayValue),0!==t?t:(t=Ak(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function Ak(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class FV{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(const t of e.filters){const i=t;i.isInequality()?this.ze=i:this.je.push(i)}}We(e){Tt(e.collectionGroup===this.collectionId);const t=My(e);if(void 0!==t&&!this.He(t))return!1;const i=ru(e);let r=0,s=0;for(;r<i.length&&this.He(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.ze){const u=i[r];if(!this.Je(this.ze,u)||!this.Ye(this.Qe[s++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(s>=this.Qe.length||!this.Ye(this.Qe[s++],u))return!1}return!0}He(e){for(const t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Mk(n){var e,t;if(Tt(n instanceof an||n instanceof Cn),n instanceof an){if(n instanceof uw){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>an.create(n.field,"==",s)))||[];return Cn.create(r,"or")}return n}const i=n.filters.map(r=>Mk(r));return Cn.create(i,n.op)}function LV(n){if(0===n.getFilters().length)return[];const e=FA(Mk(n));return Tt(xk(e)),RA(e)||PA(e)?[e]:e.getFilters()}function RA(n){return n instanceof an}function PA(n){return n instanceof Cn&&Qg(n)}function xk(n){return RA(n)||PA(n)||function(e){if(e instanceof Cn&&l1(e)){for(const t of e.getFilters())if(!RA(t)&&!PA(t))return!1;return!0}return!1}(n)}function FA(n){if(Tt(n instanceof an||n instanceof Cn),n instanceof an)return n;if(1===n.filters.length)return FA(n.filters[0]);const e=n.filters.map(i=>FA(i));let t=Cn.create(e,n.op);return t=E1(t),xk(t)?t:(Tt(t instanceof Cn),Tt(jd(t)),Tt(t.filters.length>1),t.filters.reduce((i,r)=>LA(i,r)))}function LA(n,e){let t;return Tt(n instanceof an||n instanceof Cn),Tt(e instanceof an||e instanceof Cn),t=n instanceof an?e instanceof an?Cn.create([n,e],"and"):Nk(n,e):e instanceof an?Nk(e,n):function(i,r){if(Tt(i.filters.length>0&&r.filters.length>0),jd(i)&&jd(r))return lw(i,r.getFilters());const s=l1(i)?i:r,u=l1(i)?r:i,h=s.filters.map(g=>LA(g,u));return Cn.create(h,"or")}(n,e),E1(t)}function Nk(n,e){if(jd(e))return lw(e,n.getFilters());{const t=e.filters.map(i=>LA(n,i));return Cn.create(t,"or")}}function E1(n){if(Tt(n instanceof an||n instanceof Cn),n instanceof an)return n;const e=n.getFilters();if(1===e.length)return E1(e[0]);if(ow(n))return n;const t=e.map(r=>E1(r)),i=[];return t.forEach(r=>{r instanceof an?i.push(r):r instanceof Cn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Cn.create(i,n.op)}class BV{constructor(){this.Ze=new BA}addToCollectionParentIndex(e,t){return this.Ze.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(mo.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(mo.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class BA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Sn(fn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Sn(fn.comparator)).toArray()}}const C1=new Uint8Array(0);class VV{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new BA,this.tn=new ye(i=>Gd(i),(i,r)=>Bf(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const s={collectionId:i,parent:Ls(r)};return Ok(e).put(s)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[YD(t),""],!1,!0);return Ok(e).W(r).next(s=>{for(const u of s){if(u.collectionId!==t)break;i.push(lu(u.parent))}return i})}addFieldIndex(e,t){const i=D1(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const s=i.add(r);if(t.indexState){const u=Aw(e);return s.next(h=>{u.put(Dk(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=D1(e),r=Aw(e),s=Iw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Iw(e);let r=!0;const s=new Map;return ae.forEach(this.en(t),u=>this.nn(e,u).next(h=>{r&&(r=!!h),s.set(u,h)})).next(()=>{if(r){let u=Yt();const h=[];return ae.forEach(s,(g,y)=>{var C;Ue("IndexedDbIndexManager",`Using index ${C=g,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(We=>`${We.fieldPath}:${We.kind}`).join(",")}`} to execute ${Gd(t)}`);const S=function(We,Ve){const Ke=My(Ve);if(void 0===Ke)return null;for(const Ye of em(We,Ke.fieldPath))switch(Ye.op){case"array-contains-any":return Ye.value.arrayValue.values||[];case"array-contains":return[Ye.value]}return null}(y,g),k=function(We,Ve){const Ke=new Map;for(const Ye of ru(Ve))for(const At of em(We,Ye.fieldPath))switch(At.op){case"==":case"in":Ke.set(Ye.fieldPath.canonicalString(),At.value);break;case"not-in":case"!=":return Ke.set(Ye.fieldPath.canonicalString(),At.value),Array.from(Ke.values())}return null}(y,g),F=function(We,Ve){const Ke=[];let Ye=!0;for(const At of ru(Ve)){const Xt=0===At.kind?jy(We,At.fieldPath,We.startAt):Gy(We,At.fieldPath,We.startAt);Ke.push(Xt.value),Ye&&(Ye=Xt.inclusive)}return new su(Ke,Ye)}(y,g),V=function(We,Ve){const Ke=[];let Ye=!0;for(const At of ru(Ve)){const Xt=0===At.kind?Gy(We,At.fieldPath,We.endAt):jy(We,At.fieldPath,We.endAt);Ke.push(Xt.value),Ye&&(Ye=Xt.inclusive)}return new su(Ke,Ye)}(y,g),$=this.sn(g,y,F),te=this.sn(g,y,V),Ee=this.rn(g,y,k),Be=this.on(g.indexId,S,$,F.inclusive,te,V.inclusive,Ee);return ae.forEach(Be,We=>i.J(We,t.limit).next(Ve=>{Ve.forEach(Ke=>{const Ye=Je.fromSegments(Ke.documentKey);u.has(Ye)||(u=u.add(Ye),h.push(Ye))})}))}).next(()=>h)}return ae.resolve(null)})}en(e){let t=this.tn.get(e);return t||(t=0===e.filters.length?[e]:LV(Cn.create(e.filters,"and")).map(i=>dw(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,i,r,s,u,h){const g=(null!=t?t.length:1)*Math.max(i.length,s.length),y=g/(null!=t?t.length:1),C=[];for(let S=0;S<g;++S){const k=t?this.un(t[S/y]):C1,F=this.cn(e,k,i[S%y],r),V=this.an(e,k,s[S%y],u),$=h.map(te=>this.cn(e,k,te,!0));C.push(...this.createRange(F,V,$))}return C}cn(e,t,i,r){const s=new um(e,Je.empty(),t,i);return r?s:s.Ge()}an(e,t,i,r){const s=new um(e,Je.empty(),t,i);return r?s.Ge():s}nn(e,t){const i=new FV(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let u=null;for(const h of s)i.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;const r=this.en(t);return ae.forEach(r,s=>this.nn(e,s).next(u=>{u?0!==i&&u.fields.length<function(h){let g=new Sn(_i.comparator),y=!1;for(const C of h.filters)for(const S of C.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?y=!0:g=g.add(S.field));for(const C of h.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(y?1:0)}(s)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}hn(e,t){const i=new Sw;for(const r of ru(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const u=i.Ke(r.kind);cm.Ee.ae(s,u)}return i.Be()}un(e){const t=new Sw;return cm.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){const i=new Sw;return cm.Ee.ae(Ud(this.databaseId,t),i.Ke(function(r){const s=ru(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Be()}rn(e,t,i){if(null===i)return[];let r=[];r.push(new Sw);let s=0;for(const u of ru(e)){const h=i[s++];for(const g of r)if(this.fn(t,u.fieldPath)&&Kg(h))r=this.dn(r,u,h);else{const y=g.Ke(u.kind);cm.Ee.ae(h,y)}}return this._n(r)}sn(e,t,i){return this.rn(e,t,i.position)}_n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Be();return t}dn(e,t,i){const r=[...e],s=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new Sw;g.seed(h.Be()),cm.Ee.ae(u,g.Ke(t.kind)),s.push(g)}return s}fn(e,t){return!!e.filters.find(i=>i instanceof an&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=D1(e),r=Aw(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(s=>{const u=[];return ae.forEach(s,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(y,C){const S=C?new Rf(C.sequenceNumber,new mo(am(C.readTime),new Je(lu(C.documentKey)),C.largestBatchId)):Rf.empty(),k=y.fields.map(([F,V])=>new xy(_i.fromServerFormat(F),V));return new zg(y.indexId,y.collectionGroup,k,S)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=D1(e),s=Aw(e);return this.wn(e).next(u=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,g=>s.put(Dk(g.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,s)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,g=>this.mn(e,r,g).next(y=>{const C=this.gn(s,g);return y.isEqual(C)?ae.resolve():this.yn(e,s,g,y,C)}))))})}pn(e,t,i,r){return Iw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.ln(i,t.key),documentKey:t.key.path.toArray()})}In(e,t,i,r){return Iw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.ln(i,t.key),t.key.path.toArray()])}mn(e,t,i){const r=Iw(e);let s=new Sn(Zf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.ln(i,t)])},(u,h)=>{s=s.add(new um(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}gn(e,t){let i=new Sn(Zf);const r=this.hn(t,e);if(null==r)return i;const s=My(t);if(null!=s){const u=e.data.field(s.fieldPath);if(Kg(u))for(const h of u.arrayValue.values||[])i=i.add(new um(t.indexId,e.key,this.un(h),r))}else i=i.add(new um(t.indexId,e.key,C1,r));return i}yn(e,t,i,r,s){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,g,y,C,S){const k=h.getIterator(),F=g.getIterator();let V=Xg(k),$=Xg(F);for(;V||$;){let te=!1,Ee=!1;if(V&&$){const Be=y(V,$);Be<0?Ee=!0:Be>0&&(te=!0)}else null!=V?Ee=!0:te=!0;te?(C($),$=Xg(F)):Ee?(S(V),V=Xg(k)):(V=Xg(k),$=Xg(F))}}(r,s,Zf,h=>{u.push(this.pn(e,t,i,h))},h=>{u.push(this.In(e,t,i,h))}),ae.waitFor(u)}wn(e){let t=1;return Aw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>Zf(u,h)).filter((u,h,g)=>!h||0!==Zf(u,g[h-1]));const r=[];r.push(e);for(const u of i){const h=Zf(u,e),g=Zf(u,t);if(0===h)r[0]=e.Ge();else if(h>0&&g<0)r.push(u),r.push(u.Ge());else if(g>0)break}r.push(t);const s=[];for(let u=0;u<r.length;u+=2){if(this.Tn(r[u],r[u+1]))return[];s.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,C1,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,C1,[]]))}return s}Tn(e,t){return Zf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(kk)}getMinOffset(e,t){return ae.mapArray(this.en(t),i=>this.nn(e,i).next(r=>r||dt())).next(kk)}}function Ok(n){return $r(n,"collectionParents")}function Iw(n){return $r(n,"indexEntries")}function D1(n){return $r(n,"indexConfiguration")}function Aw(n){return $r(n,"indexState")}function kk(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;JD(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new mo(e.readTime,e.documentKey,t)}const Rk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Pk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],u=IDBKeyRange.only(t.batchId);let h=0;const g=i.X({range:u},(C,S,k)=>(h++,k.delete()));s.push(g.next(()=>{Tt(1===h)}));const y=[];for(const C of t.mutations){const S=mk(e,C.key.path,t.batchId);s.push(r.delete(S)),y.push(C.key)}return ae.waitFor(s).next(()=>y)}function T1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class S1{constructor(e,t,i,r){this.userId=e,this.Tt=t,this.indexManager=i,this.referenceDelegate=r,this.En={}}static ue(e,t,i,r){Tt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new S1(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qf(e).X({index:"userMutationsIndex",range:i},(r,s,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=ev(e),u=qf(e);return u.add({}).next(h=>{Tt("number"==typeof h);const g=new MA(h,t,i,r),y=function(k,F,V){const $=V.baseMutations.map(Ee=>Cw(k.oe,Ee)),te=V.mutations.map(Ee=>Cw(k.oe,Ee));return{userId:F,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:$,mutations:te}}(this.Tt,this.userId,g),C=[];let S=new Sn((k,F)=>Zt(k.canonicalString(),F.canonicalString()));for(const k of r){const F=mk(this.userId,k.key.path,h);S=S.add(k.key.path.popLast()),C.push(u.put(y)),C.push(s.put(F,fV))}return S.forEach(k=>{C.push(this.indexManager.addToCollectionParentIndex(e,k))}),e.addOnCommittedListener(()=>{this.En[h]=g.keys()}),ae.waitFor(C).next(()=>g)})}lookupMutationBatch(e,t){return qf(e).get(t).next(i=>i?(Tt(i.userId===this.userId),lm(this.Tt,i)):null)}An(e,t){return this.En[t]?ae.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.En[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return qf(e).X({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(Tt(h.batchId>=i),s=lm(this.Tt,h)),g.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return qf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,s,u)=>{i=s.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qf(e).W("userMutationsIndex",t).next(i=>i.map(r=>lm(this.Tt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=v1(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return ev(e).X({range:r},(u,h,g)=>{const[y,C,S]=u,k=lu(C);if(y===this.userId&&t.path.isEqual(k))return qf(e).get(S).next(F=>{if(!F)throw dt();Tt(F.userId===this.userId),s.push(lm(this.Tt,F))});g.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Sn(Zt);const r=[];return t.forEach(s=>{const u=v1(this.userId,s.path),h=IDBKeyRange.lowerBound(u),g=ev(e).X({range:h},(y,C,S)=>{const[k,F,V]=y,$=lu(F);k===this.userId&&s.path.isEqual($)?i=i.add(V):S.done()});r.push(g)}),ae.waitFor(r).next(()=>this.Rn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=v1(this.userId,i),u=IDBKeyRange.lowerBound(s);let h=new Sn(Zt);return ev(e).X({range:u},(g,y,C)=>{const[S,k,F]=g,V=lu(k);S===this.userId&&i.isPrefixOf(V)?V.length===r&&(h=h.add(F)):C.done()}).next(()=>this.Rn(e,h))}Rn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(qf(e).get(s).next(u=>{if(null===u)throw dt();Tt(u.userId===this.userId),i.push(lm(this.Tt,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Pk(e.re,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.bn(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}bn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ev(e).X({range:i},(s,u,h)=>{if(s[0]===this.userId){const g=lu(s[1]);r.push(g)}else h.done()}).next(()=>{Tt(0===r.length)})})}containsKey(e,t){return Fk(e,this.userId,t)}vn(e){return Lk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Fk(n,e,t){const i=v1(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let u=!1;return ev(n).X({range:s,Z:!0},(h,g,y)=>{const[C,S,k]=h;C===e&&S===r&&(u=!0),y.done()}).next(()=>u)}function qf(n){return $r(n,"mutations")}function ev(n){return $r(n,"documentMutations")}function Lk(n){return $r(n,"mutationQueues")}class dm{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new dm(0)}static Sn(){return new dm(-1)}}class UV{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{const i=new dm(t.highestTargetId);return t.highestTargetId=i.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>Ot.fromTimestamp(new $n(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Dn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Cn(e,r)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(i=>(i.targetCount+=1,this.Nn(t,i),this.Cn(e,i))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tv(e).delete(t.targetId)).next(()=>this.Dn(e)).next(i=>(Tt(i.targetCount>0),i.targetCount-=1,this.Cn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return tv(e).X((u,h)=>{const g=Dw(h);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,s.push(this.removeTargetData(e,g)))}).next(()=>ae.waitFor(s)).next(()=>r)}forEachTarget(e,t){return tv(e).X((i,r)=>{const s=Dw(r);t(s)})}Dn(e){return Bk(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}Cn(e,t){return Bk(e).put("targetGlobalKey",t)}xn(e,t){return tv(e).put(Ek(this.Tt,t))}Nn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Gd(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return tv(e).X({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const y=Dw(h);Bf(t,y.target)&&(s=y,g.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Wf(e);return t.forEach(u=>{const h=Ls(u.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=Wf(e);return ae.forEach(t,s=>{const u=Ls(s.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Wf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Wf(e);let s=Yt();return r.X({range:i,Z:!0},(u,h,g)=>{const y=lu(u[1]),C=new Je(y);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Ls(t.path),r=IDBKeyRange.bound([i],[YD(i)],!1,!0);let s=0;return Wf(e).X({index:"documentTargetsIndex",Z:!0,range:r},([u,h],g,y)=>{0!==u&&(s++,y.done())}).next(()=>s>0)}ie(e,t){return tv(e).get(t).next(i=>i?Dw(i):null)}}function tv(n){return $r(n,"targets")}function Bk(n){return $r(n,"targetGlobal")}function Wf(n){return $r(n,"targetDocuments")}function Vk([n,e],[t,i]){const r=Zt(n,t);return 0===r?Zt(e,i):r}class HV{constructor(e){this.kn=e,this.buffer=new Sn(Vk),this.On=0}Mn(){return++this.On}Fn(e){const t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Vk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.$n=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Bn(6e4)}stop(){this.$n&&(this.$n.cancel(),this.$n=null)}get started(){return null!==this.$n}Bn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.$n=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,we.Z)(function*(){t.$n=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Rl(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Fd(i)}yield t.Bn(3e5)}))}}class GV{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(Rs.at);const i=new HV(t);return this.Ln.forEachTarget(e,r=>i.Fn(r.sequenceNumber)).next(()=>this.Ln.Un(e,r=>i.Fn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Ln.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Rk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rk):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let i,r,s,u,h,g,y;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(s=S,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(y=Date.now(),Qb()<=Jc.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${s} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(y-g)+`ms\nTotal Duration: ${y-C}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:S})))}}class $V{constructor(e,t){this.db=e,this.garbageCollector=new GV(this,t)}qn(e){const t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Gn(e){let t=0;return this.Un(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(i,r)=>t(r))}addReference(e,t,i){return I1(e,i)}removeReference(e,t,i){return I1(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return I1(e,t)}jn(e,t){return function(i,r){let s=!1;return Lk(i).tt(u=>Fk(i,u,r).next(h=>(h&&(s=!0),ae.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Qn(e,(u,h)=>{if(h<=t){const g=this.jn(e,u).next(y=>{if(!y)return s++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Ot.min()),Wf(e).delete([0,Ls(u.path)])))});r.push(g)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return I1(e,t)}Qn(e,t){const i=Wf(e);let r,s=Rs.at;return i.X({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:y})=>{0===u?(s!==Rs.at&&t(new Je(lu(r)),s),s=y,r=g):s=Rs.at}).next(()=>{s!==Rs.at&&t(new Je(lu(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function I1(n,e){return Wf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ls(e.path),sequenceNumber:i}));var i}class Uk{constructor(){this.changes=new ye(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zV{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return hm(e).put(i)}removeEntry(e,t,i){return hm(e).delete(function(r,s){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],b1(s),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.zn(e,i)))}getEntry(e,t){let i=zn.newInvalidDocument(t);return hm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mw(t))},(r,s)=>{i=this.Wn(t,s)}).next(()=>i)}Hn(e,t){let i={size:0,document:zn.newInvalidDocument(t)};return hm(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Mw(t))},(r,s)=>{i={document:this.Wn(t,s),size:T1(s)}}).next(()=>i)}getEntries(e,t){let i=Ge();return this.Jn(e,t,(r,s)=>{const u=this.Wn(r,s);i=i.insert(r,u)}).next(()=>i)}Yn(e,t){let i=Ge(),r=new ii(Je.comparator);return this.Jn(e,t,(s,u)=>{const h=this.Wn(s,u);i=i.insert(s,h),r=r.insert(s,T1(u))}).next(()=>({documents:i,Zn:r}))}Jn(e,t,i){if(t.isEmpty())return ae.resolve();let r=new Sn($k);t.forEach(g=>r=r.add(g));const s=IDBKeyRange.bound(Mw(r.first()),Mw(r.last())),u=r.getIterator();let h=u.getNext();return hm(e).X({index:"documentKeyIndex",range:s},(g,y,C)=>{const S=Je.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&$k(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?C.j(Mw(h)):C.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const s=t.path,u=[s.popLast().toArray(),s.lastSegment(),b1(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return hm(e).W(IDBKeyRange.bound(u,h,!0)).next(g=>{let y=Ge();for(const C of g){const S=this.Wn(Je.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);S.isFoundDocument()&&(Uf(t,S)||r.has(S.key))&&(y=y.insert(S.key,S))}return y})}getAllFromCollectionGroup(e,t,i,r){let s=Ge();const u=Gk(t,i),h=Gk(t,mo.max());return hm(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,y,C)=>{const S=this.Wn(Je.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(S.key,S),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new ZV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jk(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}zn(e,t){return jk(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){const i=function xV(n,e){let t;if(e.document)t=lk(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Je.fromSegments(e.noDocument.path),r=am(e.noDocument.readTime);t=zn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=Je.fromSegments(e.unknownDocument.path),r=am(e.unknownDocument.version);t=zn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new $n(i[0],i[1]);return Ot.fromTimestamp(r)}(e.readTime)),t}(this.Tt,t);if(!i.isNoDocument()||!i.version.isEqual(Ot.min()))return i}return zn.newInvalidDocument(e)}}function Hk(n){return new zV(n)}class ZV extends Uk{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new ye(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Sn((s,u)=>Zt(s.canonicalString(),u.canonicalString()));return this.changes.forEach((s,u)=>{const h=this.ts.get(s);if(t.push(this.Xn.removeEntry(e,s,h.readTime)),u.isValidDocument()){const g=wk(this.Xn.Tt,u);r=r.add(s.path.popLast()),i+=T1(g)-h.size,t.push(this.Xn.addEntry(e,s,g))}else if(i-=h.size,this.trackRemovals){const g=wk(this.Xn.Tt,u.convertToNoDocument(Ot.min()));t.push(this.Xn.addEntry(e,s,g))}}),r.forEach(s=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Xn.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(i=>(this.ts.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:i,Zn:r})=>(r.forEach((s,u)=>{this.ts.set(s,{size:u,readTime:i.get(s).readTime})}),i))}}function jk(n){return $r(n,"remoteDocumentGlobal")}function hm(n){return $r(n,"remoteDocumentsV14")}function Mw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Gk(n,e){const t=e.documentKey.path.toArray();return[n,b1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $k(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Zt(t[s],i[s]),r)return r;return r=Zt(t.length,i.length),r||(r=Zt(t[t.length-2],i[i.length-2]),r||Zt(t[t.length-1],i[i.length-1]))}class qV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class zk{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&Ky(i.mutation,r,Fs.empty(),$n.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Yt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Yt()){const r=xt();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let u=kt();return s.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=xt();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Yt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let s=Ge();const u=In(),h=In();return t.forEach((g,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof d)?s=s.insert(y.key,y):void 0!==C?(u.set(y.key,C.mutation.getFieldMask()),Ky(C.mutation,y,C.mutation.getFieldMask(),$n.now())):u.set(y.key,Fs.empty())}),this.recalculateAndSaveOverlays(e,s).next(g=>(g.forEach((y,C)=>u.set(y,C)),t.forEach((y,C)=>{var S;return h.set(y,new qV(C,null!==(S=u.get(y))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=In();let r=new ii((u,h)=>u-h),s=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const y=t.get(g);if(null===y)return;let C=i.get(g)||Fs.empty();C=h.applyToLocalView(y,C),i.set(g,C);const S=(r.get(h.batchId)||Yt()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),y=g.key,C=g.value,S=_n();C.forEach(k=>{if(!s.has(k)){const F=EA(t.get(k),i.get(k));null!==F&&S.set(k,F),s=s.add(k)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Je.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):f1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const u=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):ae.resolve(xt());let h=-1,g=s;return u.next(y=>ae.forEach(y,(C,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),s.get(C)?ae.resolve():this.remoteDocumentCache.getEntry(e,C).next(k=>{g=g.insert(C,k)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,g,y,Yt())).next(C=>({batchId:h,changes:Re(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(i=>{let r=kt();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=kt();return this.indexManager.getCollectionParents(e,r).next(u=>ae.forEach(u,h=>{const g=(y=t,C=h.child(r),new Vl(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(y=>{y.forEach((C,S)=>{s=s.insert(C,S)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(s=>{r.forEach((h,g)=>{const y=g.getKey();null===s.get(y)&&(s=s.insert(y,zn.newInvalidDocument(y)))});let u=kt();return s.forEach((h,g)=>{const y=r.get(h);void 0!==y&&Ky(y.mutation,g,Fs.empty(),$n.now()),Uf(t,g)&&(u=u.insert(h,g))}),u})}}class WV{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return ae.resolve(this.es.get(t))}saveBundleMetadata(e,t){var i;return this.es.set(t.id,{id:(i=t).id,version:i.version,createTime:sr(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,{name:(i=t).name,query:OA(i.bundledQuery),readTime:sr(i.readTime)}),ae.resolve();var i}}class KV{constructor(){this.overlays=new ii(Je.comparator),this.ss=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xt();return ae.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ce(e,t,s)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ss.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=xt(),s=t.length+1,u=new Je(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new ii((y,C)=>y-C);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=xt(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const h=xt(),g=s.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,C)=>h.set(y,C)),!(h.size()>=r)););return ae.resolve(h)}ce(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ss.get(r.largestBatchId).delete(i.key);this.ss.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new NA(t,i));let s=this.ss.get(t);void 0===s&&(s=Yt(),this.ss.set(t,s)),this.ss.set(t,s.add(i.key))}}class VA{constructor(){this.rs=new Sn(zr.os),this.us=new Sn(zr.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){const i=new zr(e,t);this.rs=this.rs.add(i),this.us=this.us.add(i)}hs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ls(new zr(e,t))}fs(e,t){e.forEach(i=>this.removeReference(i,t))}ds(e){const t=new Je(new fn([])),i=new zr(t,e),r=new zr(t,e+1),s=[];return this.us.forEachInRange([i,r],u=>{this.ls(u),s.push(u.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const t=new Je(new fn([])),i=new zr(t,e),r=new zr(t,e+1);let s=Yt();return this.us.forEachInRange([i,r],u=>{s=s.add(u.key)}),s}containsKey(e){const t=new zr(e,0),i=this.rs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class zr{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return Je.comparator(e.key,t.key)||Zt(e.gs,t.gs)}static cs(e,t){return Zt(e.gs,t.gs)||Je.comparator(e.key,t.key)}}class YV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new Sn(zr.os)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.ys;this.ys++;const u=new MA(s,t,i,r);this.mutationQueue.push(u);for(const h of r)this.ps=this.ps.add(new zr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,t){return ae.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Ts(t+1),s=r<0?0:r;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.ys-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new zr(t,0),r=new zr(t,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([i,r],u=>{const h=this.Is(u.gs);s.push(h)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Sn(Zt);return t.forEach(r=>{const s=new zr(r,0),u=new zr(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,u],h=>{i=i.add(h.gs)})}),ae.resolve(this.Es(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Je.isDocumentKey(s)||(s=s.child(""));const u=new zr(new Je(s),0);let h=new Sn(Zt);return this.ps.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(g.gs)),!0)},u),ae.resolve(this.Es(h))}Es(e){const t=[];return e.forEach(i=>{const r=this.Is(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Tt(0===this.As(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ps;return ae.forEach(t.mutations,r=>{const s=new zr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ps=i})}bn(e){}containsKey(e,t){const i=new zr(t,0),r=this.ps.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}As(e,t){return this.Ts(e)}Ts(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Is(e){const t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class QV{constructor(e){this.Rs=e,this.docs=new ii(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,u=this.Rs(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let i=Ge();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():zn.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Ge();const u=t.path,h=new Je(u.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:y,value:{document:C}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||JD(nA(C),i)<=0||(r.has(C.key)||Uf(t,C))&&(s=s.insert(C.key,C.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,t,i,r){dt()}bs(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new JV(this)}getSize(e){return ae.resolve(this.size)}}class JV extends Uk{constructor(e){super(),this.Xn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Xn.addEntry(e,r)):this.Xn.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}}class XV{constructor(e){this.persistence=e,this.vs=new ye(t=>Gd(t),Bf),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new VA,this.targetCount=0,this.Ss=dm.Vn()}forEachTarget(e,t){return this.vs.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ps&&(this.Ps=t),ae.resolve()}xn(e){this.vs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ss=new dm(t),this.highestTargetId=t),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.xn(t),ae.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.vs.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.vs.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ae.waitFor(s).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.vs.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.Vs.hs(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.Vs.fs(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(u=>{s.push(r.markPotentiallyOrphaned(e,u))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Vs.ws(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.Vs.containsKey(t))}}class Zk{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Rs(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new XV(this),this.indexManager=new BV,this.remoteDocumentCache=new QV(i=>this.referenceDelegate.ks(i)),this.Tt=new bk(t),this.Os=new WV(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Ds[e.toKey()];return i||(i=new YV(t,this.referenceDelegate),this.Ds[e.toKey()]=i),i}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,t,i){Ue("MemoryPersistence","Starting transaction:",e);const r=new eU(this.Cs.next());return this.referenceDelegate.Ms(),i(r).next(s=>this.referenceDelegate.Fs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}$s(e,t){return ae.or(Object.values(this.Ds).map(i=>()=>i.containsKey(e,t)))}}class eU extends rA{constructor(e){super(),this.currentSequenceNumber=e}}class A1{constructor(e){this.persistence=e,this.Bs=new VA,this.Ls=null}static qs(e){return new A1(e)}get Us(){if(this.Ls)return this.Ls;throw dt()}addReference(e,t,i){return this.Bs.addReference(i,t),this.Us.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Bs.removeReference(i,t),this.Us.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(r=>this.Us.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Us.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Ms(){this.Ls=new Set}Fs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Us,i=>{const r=Je.fromPath(i);return this.Ks(e,r).next(s=>{s||t.removeEntry(r,Ot.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(i=>{i?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return ae.or([()=>ae.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.$s(e,t)])}}class tU{constructor(e){this.Tt=e}$(e,t,i,r){const s=new ew("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gk,{unique:!0}),h.createObjectStore("documentMutations"),qk(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),qk(e)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gk,{unique:!0});const C=g.store("mutations"),S=y.map(k=>C.put(k));return ae.waitFor(S)})}(e,s))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Gs(s))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(s)))),i<7&&r>=7&&(u=u.next(()=>this.js(s))),i<8&&r>=8&&(u=u.next(()=>this.zs(e,s))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Ws(s))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:TV});g.createIndex("collectionPathOverlayIndex",SV,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",IV,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:pV});g.createIndex("documentKeyIndex",gV),g.createIndex("collectionGroupIndex",mV)}(e)).next(()=>this.Hs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Js(e,s))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:wV}).createIndex("sequenceNumberIndex",EV,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:CV}).createIndex("documentKeyIndex",DV,{unique:!1})}(e))),u}Qs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=T1(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Gs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ae.forEach(r,s=>{const u=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",u).next(h=>ae.forEach(h,g=>{Tt(g.userId===s.userId);const y=lm(this.Tt,g);return Pk(e,s.userId,y).next(()=>{})}))}))}js(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((u,h)=>{const g=new fn(u),y=[0,Ls(g)];s.push(t.get(y).next(C=>C?ae.resolve():t.put({targetId:0,path:Ls(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(s))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:bV});const i=t.store("collectionParents"),r=new BA,s=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:Ls(g)})}};return t.store("remoteDocuments").X({Z:!0},(u,h)=>{const g=new fn(u);return s(g.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([u,h,g],y)=>{const C=lu(h);return s(C.popLast())}))}Ws(e){const t=e.store("targets");return t.X((i,r)=>{const s=Dw(r),u=Ek(this.Tt,s);return t.put(u)})}Hs(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((s,u)=>{const h=t.store("remoteDocumentsV14"),g=(y=u,y.document?new Je(fn.fromString(y.document.name).popFirst(5)):y.noDocument?Je.fromSegments(y.noDocument.path):y.unknownDocument?Je.fromSegments(y.unknownDocument.path):dt()).path.toArray();var y;const C={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(C))}).next(()=>ae.waitFor(r))}Js(e,t){const i=t.store("mutations"),r=Hk(this.Tt),s=new Zk(A1.qs,this.Tt.oe);return i.W().next(u=>{const h=new Map;return u.forEach(g=>{var y;let C=null!==(y=h.get(g.userId))&&void 0!==y?y:Yt();lm(this.Tt,g).keys().forEach(S=>C=C.add(S)),h.set(g.userId,C)}),ae.forEach(h,(g,y)=>{const C=new mi(y),S=w1.ue(this.Tt,C),k=s.getIndexManager(C),F=S1.ue(C,this.Tt,k,s.referenceDelegate);return new zk(r,F,S,k).recalculateAndSaveOverlaysForDocumentKeys(new AA(t,Rs.at),g).next()})})}}function qk(n){n.createObjectStore("targetDocuments",{keyPath:yV}).createIndex("documentTargetsIndex",vV,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_V,{unique:!0}),n.createObjectStore("targetGlobal")}const UA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class HA{constructor(e,t,i,r,s,u,h,g,y,C,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ys=s,this.window=u,this.document=h,this.Zs=y,this.Xs=C,this.ti=S,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=k=>Promise.resolve(),!HA.C())throw new Fe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $V(this,r),this.oi=t+"main",this.Tt=new bk(g),this.ui=new _o(this.oi,this.ti,new tU(this.Tt)),this.Ns=new UV(this.referenceDelegate,this.Tt),this.remoteDocumentCache=Hk(this.Tt),this.Os=new NV,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,!1===C&&ki("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,UA);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Rs(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){var t=this;return this.ri=function(){var i=(0,we.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(function(){var t=(0,we.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ai())})))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>M1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Rl(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return xw(e).get("owner").next(t=>ae.resolve(this.yi(t)))}pi(e){return M1(e).delete(this.clientId)}Ii(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.Ti(e.ii,18e5)){e.ii=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=$r(i,"clientMetadata");return r.W().next(s=>{const u=e.Ei(s,18e5),h=s.filter(g=>-1===u.indexOf(g));return ae.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ci)for(const i of t)e.ci.removeItem(e.Ai(i.clientId))}})()}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?ae.resolve(!0):xw(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new Fe(pe.FAILED_PRECONDITION,UA);return!1}}return!(!this.networkEnabled||!this.inForeground)||M1(e).W().next(i=>void 0===this.Ei(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.xs=!1,e.bi(),e.si&&(e.si.cancel(),e.si=null),e.vi(),e.Pi(),yield e.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new AA(t,Rs.at);return e.mi(i).next(()=>e.pi(i))}),e.ui.close(),e.Vi()})()}Ei(e,t){return e.filter(i=>this.Ti(i.updateTimeMs,t)&&!this.Ri(i.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>M1(e).W().next(t=>this.Ei(t,18e5).map(i=>i.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return S1.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new VV(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return w1.ue(this.Tt,e)}getBundleCache(){return this.Os}runTransaction(e,t,i){Ue("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(u=this.ti)?MV:14===u?vk:13===u?yk:12===u?AV:11===u?_k:void dt();var u;let h;return this.ui.runTransaction(e,r,s,g=>(h=new AA(g,this.Cs?this.Cs.next():Rs.at),"readwrite-primary"===t?this._i(h).next(y=>!!y||this.wi(h)).next(y=>{if(!y)throw ki(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new Fe(pe.FAILED_PRECONDITION,iA);return i(h)}).next(y=>this.gi(h).next(()=>y)):this.Di(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Di(e){return xw(e).get("owner").next(t=>{if(null!==t&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(pe.FAILED_PRECONDITION,UA)})}gi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xw(e).put("owner",t)}static C(){return _o.C()}mi(e){const t=xw(e);return t.get("owner").next(i=>this.yi(i)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Ti(e,t){const i=Date.now();return!(e<i-t||e>i&&(ki(`Detected an update time that is in the future: ${e} > ${i}`),1))}hi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground="visible"===this.document.visibilityState)}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ei=()=>{this.bi(),(0,mn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}Pi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{const i=null!==(null===(t=this.ci)||void 0===t?void 0:t.getItem(this.Ai(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ki("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}bi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){ki("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch{}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xw(n){return $r(n,"owner")}function M1(n){return $r(n,"clientMetadata")}function jA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class GA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Ci=i,this.xi=r}static Ni(e,t){let i=Yt(),r=Yt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new GA(e,t.fromCache,i,r)}}class Wk{constructor(){this.ki=!1}initialize(e,t){this.Oi=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Mi(e,t).next(s=>s||this.Fi(e,t,r,i)).next(s=>s||this.$i(e,t))}Mi(e,t){if(tm(t))return ae.resolve(null);let i=Gr(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=zy(t,null,"F"),i=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const u=Yt(...s);return this.Oi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.Bi(t,h);return this.Li(t,y,u,g.readTime)?this.Mi(e,zy(t,null,"F")):this.qi(e,y,t,g)}))})))}Fi(e,t,i,r){return tm(t)||r.isEqual(Ot.min())?this.$i(e,t):this.Oi.getDocuments(e,i).next(s=>{const u=this.Bi(t,s);return this.Li(t,u,i,r)?this.$i(e,t):(Qb()<=Jc.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zy(t)),this.qi(e,u,t,tA(r,-1)))})}Bi(e,t){let i=new Sn(g1(e));return t.forEach((r,s)=>{Uf(e,s)&&(i=i.add(s))}),i}Li(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}$i(e,t){return Qb()<=Jc.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Zy(t)),this.Oi.getDocumentsMatchingQuery(e,t,mo.min())}qi(e,t,i,r){return this.Oi.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(u=>{s=s.insert(u.key,u)}),s))}}class nU{constructor(e,t,i,r){this.persistence=e,this.Ui=t,this.Tt=r,this.Ki=new ii(Zt),this.Gi=new ye(s=>Gd(s),Bf),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(i)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}}function Kk(n,e,t,i){return new nU(n,e,t,i)}function Yk(n,e){return $A.apply(this,arguments)}function $A(){return $A=(0,we.Z)(function*(n,e){const t=Xe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.zi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const u=[],h=[];let g=Yt();for(const y of r){u.push(y.batchId);for(const C of y.mutations)g=g.add(C.key)}for(const y of s){h.push(y.batchId);for(const C of y.mutations)g=g.add(C.key)}return t.localDocuments.getDocuments(i,g).next(y=>({Wi:y,removedBatchIds:u,addedBatchIds:h}))})})}),$A.apply(this,arguments)}function iU(n,e){const t=Xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.ji.newChangeBuffer({trackRemovals:!0});return function(u,h,g,y){const C=g.batch,S=C.keys();let k=ae.resolve();return S.forEach(F=>{k=k.next(()=>y.getEntry(h,F)).next(V=>{const $=g.docVersions.get(F);Tt(null!==$),V.version.compareTo($)<0&&(C.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),y.addEntry(V)))})}),k.next(()=>u.mutationQueue.removeMutationBatch(h,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Yt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Qk(n){const e=Xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function rU(n,e){const t=Xe(n),i=e.snapshotVersion;let r=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const u=t.ji.newChangeBuffer({trackRemovals:!0});r=t.Ki;const h=[];e.targetChanges.forEach((C,S)=>{const k=r.get(S);if(!k)return;h.push(t.Ns.removeMatchingKeys(s,C.removedDocuments,S).next(()=>t.Ns.addMatchingKeys(s,C.addedDocuments,S)));let F=k.withSequenceNumber(s.currentSequenceNumber);var V,$,te;e.targetMismatches.has(S)?F=F.withResumeToken(Wi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):C.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(C.resumeToken,i)),r=r.insert(S,F),$=F,te=C,(0===(V=k).resumeToken.approximateByteSize()||$.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&h.push(t.Ns.updateTargetData(s,F))});let g=Ge(),y=Yt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,C))}),h.push(Jk(s,u,e.documentUpdates).next(C=>{g=C.Hi,y=C.Ji})),!i.isEqual(Ot.min())){const C=t.Ns.getLastRemoteSnapshotVersion(s).next(S=>t.Ns.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(C)}return ae.waitFor(h).next(()=>u.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,g,y)).next(()=>g)}).then(s=>(t.Ki=r,s))}function Jk(n,e,t){let i=Yt(),r=Yt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let u=Ge();return t.forEach((h,g)=>{const y=s.get(h);g.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Ot.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||0===g.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):Ue("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",g.version)}),{Hi:u,Ji:r}})}function sU(n,e){const t=Xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nv(n,e){const t=Xe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ns.getTargetData(i,e).next(s=>s?(r=s,ae.resolve(r)):t.Ns.allocateTargetId(i).next(u=>(r=new zf(e,u,0,i.currentSequenceNumber),t.Ns.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ki.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(i.targetId,i),t.Gi.set(e,i.targetId)),i})}function iv(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,we.Z)(function*(n,e,t){const i=Xe(n),r=i.Ki.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Rl(u))throw u;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ki=i.Ki.remove(e),i.Gi.delete(r.target)}),zA.apply(this,arguments)}function x1(n,e,t){const i=Xe(n);let r=Ot.min(),s=Yt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,y){const C=Xe(h),S=C.Gi.get(y);return void 0!==S?ae.resolve(C.Ki.get(S)):C.Ns.getTargetData(g,y)}(i,u,Gr(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Ns.getMatchingKeysForTargetId(u,h.targetId).next(g=>{s=g})}).next(()=>i.Ui.getDocumentsMatchingQuery(u,e,t?r:Ot.min(),t?s:Yt())).next(h=>(tR(i,pw(e),h),{documents:h,Yi:s})))}function Xk(n,e){const t=Xe(n),i=Xe(t.Ns),r=t.Ki.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.ie(s,e).next(u=>u?u.target:null))}function eR(n,e){const t=Xe(n),i=t.Qi.get(e)||Ot.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.ji.getAllFromCollectionGroup(r,e,tA(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(tR(t,e,r),r))}function tR(n,e,t){let i=n.Qi.get(e)||Ot.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Qi.set(e,i)}function ZA(){return ZA=(0,we.Z)(function*(n,e,t,i){const r=Xe(n);let s=Yt(),u=Ge();for(const y of t){const C=e.Zi(y.metadata.name);y.document&&(s=s.add(C));const S=e.Xi(y);S.setReadTime(e.tr(y.metadata.readTime)),u=u.insert(C,S)}const h=r.ji.newChangeBuffer({trackRemovals:!0}),g=yield nv(r,(y=i,Gr(ou(fn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>Jk(y,h,u).next(C=>(h.apply(y),C)).next(C=>r.Ns.removeMatchingKeysForTargetId(y,g.targetId).next(()=>r.Ns.addMatchingKeys(y,s,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.Hi,C.Ji)).next(()=>C.Hi)))}),ZA.apply(this,arguments)}function aU(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,we.Z)(function*(n,e,t=Yt()){const i=yield nv(n,Gr(OA(e.bundledQuery))),r=Xe(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const u=sr(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Os.saveNamedQuery(s,e);const h=i.withResumeToken(Wi.EMPTY_BYTE_STRING,u);return r.Ki=r.Ki.insert(h.targetId,h),r.Ns.updateTargetData(s,h).next(()=>r.Ns.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ns.addMatchingKeys(s,t,i.targetId)).next(()=>r.Os.saveNamedQuery(s,e))})}),qA.apply(this,arguments)}function nR(n,e){return`firestore_clients_${n}_${e}`}function iR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function WA(n,e){return`firestore_targets_${n}_${e}`}class N1{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static er(e,t,i){const r=JSON.parse(i);let s,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Fe(r.error.code,r.error.message))),u?new N1(e,t,r.state,s):(ki("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static er(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Fe(i.error.code,i.error.message))),s?new Nw(e,i.state,r):(ki("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class O1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=jf();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=lA(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return r?new O1(e,s):(ki("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class KA{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new KA(t.clientId,t.onlineState):(ki("SharedClientState",`Failed to parse online state: ${e}`),null)}}class YA{constructor(){this.activeTargetIds=jf()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QA{constructor(e,t,i,r,s){this.window=e,this.Ys=t,this.persistenceKey=i,this.rr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new ii(Zt),this.started=!1,this.hr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.lr=nR(this.persistenceKey,this.rr),this.dr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.rr,new YA),this._r=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.gr=`firestore_online_state_${this.persistenceKey}`,this.yr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Si();for(const r of t){if(r===e.rr)continue;const s=e.getItem(nR(e.persistenceKey,r));if(s){const u=O1.er(r,s);u&&(e.ar=e.ar.insert(u.clientId,u))}}e.pr();const i=e.storage.getItem(e.gr);if(i){const r=e.Ir(i);r&&e.Tr(r)}for(const r of e.hr)e.cr(r);e.hr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,i){this.Ar(e,t,i),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(WA(this.persistenceKey,e));if(i){const r=Nw.er(e,i);r&&(t=r.state)}}return this.br.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.br.ir(e),this.pr()}isLocalQueryTarget(e){return this.br.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(WA(this.persistenceKey,e))}updateQueryState(e,t,i){this.vr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Rr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.lr)return void ki("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==i.key)if(t._r.test(i.key)){if(null==i.newValue){const r=t.Sr(i.key);return t.Dr(r,null)}{const r=t.Cr(i.key,i.newValue);if(r)return t.Dr(r.clientId,r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(t.mr.test(i.key)){if(null!==i.newValue){const r=t.Or(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.gr){if(null!==i.newValue){const r=t.Ir(i.newValue);if(r)return t.Tr(r)}}else if(i.key===t.dr){const r=function(s){let u=Rs.at;if(null!=s)try{const h=JSON.parse(s);Tt("number"==typeof h),u=h}catch(h){ki("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Rs.at&&t.sequenceNumberHandler(r)}else if(i.key===t.yr){const r=t.Fr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.$r(s)))}}else t.hr.push(i)}))}}get br(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.br.nr())}Ar(e,t,i){const r=new N1(this.currentUser,e,t,i),s=iR(this.persistenceKey,this.currentUser,e);this.setItem(s,r.nr())}Rr(e){const t=iR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.gr,JSON.stringify({clientId:this.rr,onlineState:e}))}vr(e,t,i){const r=WA(this.persistenceKey,e),s=new Nw(e,t,i);this.setItem(r,s.nr())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){const t=this._r.exec(e);return t?t[1]:null}Cr(e,t){const i=this.Sr(e);return O1.er(i,t)}Nr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return N1.er(new mi(void 0!==i[2]?i[2]:null),r,t)}Or(e,t){const i=this.mr.exec(e),r=Number(i[1]);return Nw.er(r,t)}Ir(e){return KA.er(e)}Fr(e){return JSON.parse(e)}kr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Br(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Er(this.ar),s=this.Er(i),u=[],h=[];return s.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{s.has(g)||h.push(g)}),this.syncEngine.qr(u,h).then(()=>{this.ar=i})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=jf();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class rR{constructor(){this.Ur=new YA,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,i){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new YA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class lU{Gr(e){}shutdown(){}}class sR{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uU{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}class dU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.co=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,i,r,s){const u=this.fo(e,t);Ue("RestConnection","Sending: ",u,i);const h={};return this._o(h,r,s),this.wo(e,u,h,i).then(g=>(Ue("RestConnection","Received: ",g),g),g=>{throw Rd("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",i),g})}mo(e,t,i,r,s,u){return this.lo(e,t,i,r,s)}_o(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Of,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}fo(e,t){return`${this.co}/v1/${t}:${cU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,i,r){return new Promise((s,u)=>{const h=new zD;h.setWithCredentials(!0),h.listenOnce(Nf.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Tr.NO_ERROR:const y=h.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(y)),s(y);break;case Tr.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),u(new Fe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Tr.HTTP_ERROR:const C=h.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',C,"response text:",h.getResponseText()),C>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S?.error;if(k&&k.status&&k.message){const F=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf($)>=0?$:pe.UNKNOWN}(k.status);u(new Fe(F,k.message))}else u(new Fe(pe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Fe(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);h.send(t,"POST",g,i,15)})}yo(e,t,i){const r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jD(),u=GD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new GO({})),this._o(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=r.join("");Ue("Connection","Creating WebChannel: "+g,h);const y=s.createWebChannel(g,h);let C=!1,S=!1;const k=new uU({Yr:V=>{S?Ue("Connection","Not sending because WebChannel is closed:",V):(C||(Ue("Connection","Opening WebChannel transport."),y.open(),C=!0),Ue("Connection","WebChannel sending:",V),y.send(V))},Zr:()=>y.close()}),F=(V,$,te)=>{V.listen($,Ee=>{try{te(Ee)}catch(Be){setTimeout(()=>{throw Be},0)}})};return F(y,Kb.EventType.OPEN,()=>{S||Ue("Connection","WebChannel transport opened.")}),F(y,Kb.EventType.CLOSE,()=>{S||(S=!0,Ue("Connection","WebChannel transport closed"),k.oo())}),F(y,Kb.EventType.ERROR,V=>{S||(S=!0,Rd("Connection","WebChannel transport errored:",V),k.oo(new Fe(pe.UNAVAILABLE,"The operation could not be completed")))}),F(y,Kb.EventType.MESSAGE,V=>{var $;if(!S){const te=V.data[0];Tt(!!te);const Ee=te,Be=Ee.error||(null===($=Ee[0])||void 0===$?void 0:$.error);if(Be){Ue("Connection","WebChannel received error:",Be);const We=Be.status;let Ve=function(Ye){const At=N[Ye];if(void 0!==At)return ie(At)}(We),Ke=Be.message;void 0===Ve&&(Ve=pe.INTERNAL,Ke="Unknown error status: "+We+" with message "+Be.message),S=!0,k.oo(new Fe(Ve,Ke)),y.close()}else Ue("Connection","WebChannel received:",te),k.uo(te)}}),F(u,QI.STAT_EVENT,V=>{V.stat===$D.PROXY?Ue("Connection","Detected buffering proxy"):V.stat===$D.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ro()},0),k}}function oR(){return typeof window<"u"?window:null}function k1(){return typeof document<"u"?document:null}function Ow(n){return new nV(n,!0)}class JA{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Ys=e,this.timerId=t,this.po=i,this.Io=r,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.Po()),i=Math.max(0,Date.now()-this.Ro),r=Math.max(0,t-i);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}class aR{constructor(e,t,i,r,s,u,h,g){this.Ys=e,this.So=i,this.Do=r,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new JA(e,t)}Oo(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Fo()}stop(){var e=this;return(0,we.Z)(function*(){e.Oo()&&(yield e.close(0))})()}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&null===this.xo&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}Lo(){var e=this;return(0,we.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}close(e,t){var i=this;return(0,we.Z)(function*(){i.Uo(),i.Ko(),i.ko.cancel(),i.Co++,4!==e?i.ko.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(ki(t.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),i.ko.bo()):t&&t.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Go(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.no(t)})()}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Co===t&&this.jo(i,r)},i=>{e(()=>{const r=new Fe(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.zo(r)})})}jo(e,t){const i=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{i(()=>this.zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Fo(){var e=this;this.state=5,this.ko.vo((0,we.Z)(function*(){e.state=0,e.start()}))}zo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hU extends aR{constructor(e,t,i,r,s,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.Tt=s}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();const t=function sV(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:dt(),r=e.targetChange.targetIds||[],s=function(g,y){return g.yt?(Tt(void 0===y||"string"==typeof y),Wi.fromBase64String(y||"")):(Tt(void 0===y||y instanceof Uint8Array),Wi.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const y=void 0===g.code?pe.UNKNOWN:ie(g.code);return new Fe(y,g.message||"")}(u);t=new Qy(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=au(n,i.document.name),s=sr(i.document.updateTime),u=i.document.createTime?sr(i.document.createTime):Ot.min(),h=new Ir({mapValue:{fields:i.document.fields}}),g=zn.newFoundDocument(r,s,u,h);t=new Gf(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=au(n,i.document),s=i.readTime?sr(i.readTime):Ot.min(),u=zn.newNoDocument(r,s);t=new Gf([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=au(n,i.document);t=new Gf([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,s=new M(i.count||0);t=new Yy(i.targetId,s)}}var g;return t}(this.Tt,e),i=function(r){if(!("targetChange"in r))return Ot.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ot.min():s.readTime?sr(s.readTime):Ot.min()}(e);return this.listener.Ho(t,i)}Jo(e){const t={};t.database=Ew(this.Tt),t.addTarget=function(r,s){let u;const h=s.target;return u=La(h)?{documents:ck(r,h)}:{query:IA(r,h)},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?u.resumeToken=ik(r,s.resumeToken):s.snapshotVersion.compareTo(Ot.min())>0&&(u.readTime=Jy(r,s.snapshotVersion.toTimestamp())),u}(this.Tt,e);const i=function aV(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.qo(t)}Yo(e){const t={};t.database=Ew(this.Tt),t.removeTarget=e,this.qo(t)}}class fU extends aR{constructor(e,t,i,r,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const t=function oV(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(i,r){let s=sr(i.updateTime?i.updateTime:r);return s.isEqual(Ot.min())&&(s=sr(r)),new wA(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=sr(e.commitTime);return this.listener.eu(i,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=Ew(this.Tt),this.qo(e)}tu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Cw(this.Tt,i))};this.qo(t)}}class pU extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.lo(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Fe(pe.UNKNOWN,r.toString())})}mo(e,t,i,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.mo(e,t,i,s,u,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(pe.UNKNOWN,s.toString())})}terminate(){this.iu=!0}}class mU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){0===this.ou&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){"Online"===this.state?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,"Online"===e&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(ki(t),this.cu=!1):Ue("OnlineStateTracker",t)}du(){null!==this.uu&&(this.uu.cancel(),this.uu=null)}}class _U{constructor(e,t,i,r,s){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(h=>{i.enqueueAndForget((0,we.Z)(function*(){var g;Wd(u)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,we.Z)(function*(y){const C=Xe(y);C.mu.add(4),yield rv(C),C.pu.set("Unknown"),C.mu.delete(4),yield kw(C)}),function(y){return g.apply(this,arguments)})(u))}))}),this.pu=new mU(i,r)}}function kw(n){return eM.apply(this,arguments)}function eM(){return eM=(0,we.Z)(function*(n){if(Wd(n))for(const e of n.gu)yield e(!0)}),eM.apply(this,arguments)}function rv(n){return tM.apply(this,arguments)}function tM(){return tM=(0,we.Z)(function*(n){for(const e of n.gu)yield e(!1)}),tM.apply(this,arguments)}function R1(n,e){const t=Xe(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),rM(t)?iM(t):ov(t).Mo()&&nM(t,e))}function Rw(n,e){const t=Xe(n),i=ov(t);t.wu.delete(e),i.Mo()&&lR(t,e),0===t.wu.size&&(i.Mo()?i.Bo():Wd(t)&&t.pu.set("Unknown"))}function nM(n,e){n.Iu.Ft(e.targetId),ov(n).Jo(e)}function lR(n,e){n.Iu.Ft(e),ov(n).Yo(e)}function iM(n){n.Iu=new JB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),ov(n).start(),n.pu.au()}function rM(n){return Wd(n)&&!ov(n).Oo()&&n.wu.size>0}function Wd(n){return 0===Xe(n).mu.size}function cR(n){n.Iu=void 0}function yU(n){return sM.apply(this,arguments)}function sM(){return sM=(0,we.Z)(function*(n){n.wu.forEach((e,t)=>{nM(n,e)})}),sM.apply(this,arguments)}function vU(n,e){return oM.apply(this,arguments)}function oM(){return oM=(0,we.Z)(function*(n,e){cR(n),rM(n)?(n.pu.fu(e),iM(n)):n.pu.set("Unknown")}),oM.apply(this,arguments)}function bU(n,e,t){return aM.apply(this,arguments)}function aM(){return aM=(0,we.Z)(function*(n,e,t){if(n.pu.set("Online"),e instanceof Qy&&2===e.state&&e.cause)try{yield(i=(0,we.Z)(function*(r,s){const u=s.cause;for(const h of s.targetIds)r.wu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.wu.delete(h),r.Iu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield P1(n,i)}else if(e instanceof Gf?n.Iu.Qt(e):e instanceof Yy?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(Ot.min()))try{const i=yield Qk(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const u=r.Iu.ee(s);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.wu.get(g);y&&r.wu.set(g,y.withResumeToken(h.resumeToken,s))}}),u.targetMismatches.forEach(h=>{const g=r.wu.get(h);if(!g)return;r.wu.set(h,g.withResumeToken(Wi.EMPTY_BYTE_STRING,g.snapshotVersion)),lR(r,h);const y=new zf(g.target,h,1,g.sequenceNumber);nM(r,y)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield P1(n,i)}var i}),aM.apply(this,arguments)}function P1(n,e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,we.Z)(function*(n,e,t){if(!Rl(e))throw e;n.mu.add(1),yield rv(n),n.pu.set("Offline"),t||(t=()=>Qk(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.mu.delete(1),yield kw(n)}))}),lM.apply(this,arguments)}function uR(n,e){return e().catch(t=>P1(n,t,e))}function sv(n){return cM.apply(this,arguments)}function cM(){return cM=(0,we.Z)(function*(n){const e=Xe(n),t=Kf(e);let i=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;wU(e);)try{const r=yield sU(e.localStore,i);if(null===r){0===e._u.length&&t.Bo();break}i=r.batchId,EU(e,r)}catch(r){yield P1(e,r)}dR(e)&&hR(e)}),cM.apply(this,arguments)}function wU(n){return Wd(n)&&n._u.length<10}function EU(n,e){n._u.push(e);const t=Kf(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function dR(n){return Wd(n)&&!Kf(n).Oo()&&n._u.length>0}function hR(n){Kf(n).start()}function CU(n){return uM.apply(this,arguments)}function uM(){return uM=(0,we.Z)(function*(n){Kf(n).su()}),uM.apply(this,arguments)}function DU(n){return dM.apply(this,arguments)}function dM(){return dM=(0,we.Z)(function*(n){const e=Kf(n);for(const t of n._u)e.tu(t.mutations)}),dM.apply(this,arguments)}function TU(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,we.Z)(function*(n,e,t){const i=n._u.shift(),r=xA.from(i,e,t);yield uR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield sv(n)}),hM.apply(this,arguments)}function SU(n,e){return fM.apply(this,arguments)}function fM(){return fM=(0,we.Z)(function*(n,e){var t;e&&Kf(n).Xo&&(yield(t=(0,we.Z)(function*(i,r){if(W(s=r.code)&&s!==pe.ABORTED){const u=i._u.shift();Kf(i).$o(),yield uR(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield sv(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),dR(n)&&hR(n)}),fM.apply(this,arguments)}function fR(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,we.Z)(function*(n,e){const t=Xe(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=Wd(t);t.mu.add(3),yield rv(t),i&&t.pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),yield kw(t)}),pM.apply(this,arguments)}function gM(n,e){return mM.apply(this,arguments)}function mM(){return mM=(0,we.Z)(function*(n,e){const t=Xe(n);e?(t.mu.delete(2),yield kw(t)):e||(t.mu.add(2),yield rv(t),t.pu.set("Unknown"))}),mM.apply(this,arguments)}function ov(n){return n.Tu||(n.Tu=function(e,t,i){const r=Xe(e);return r.ru(),new hU(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:yU.bind(null,n),no:vU.bind(null,n),Ho:bU.bind(null,n)}),n.gu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Tu.$o(),rM(n)?iM(n):n.pu.set("Unknown")):(yield n.Tu.stop(),cR(n))});return function(t){return e.apply(this,arguments)}}())),n.Tu}function Kf(n){return n.Eu||(n.Eu=function(e,t,i){const r=Xe(e);return r.ru(),new fU(t,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,i)}(n.datastore,n.asyncQueue,{Xr:CU.bind(null,n),no:SU.bind(null,n),nu:DU.bind(null,n),eu:TU.bind(null,n)}),n.gu.push(function(){var e=(0,we.Z)(function*(t){t?(n.Eu.$o(),yield sv(n)):(yield n.Eu.stop(),n._u.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))});return function(t){return e.apply(this,arguments)}}())),n.Eu}class _M{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,s){const u=Date.now()+i,h=new _M(e,t,u,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function av(n,e){if(ki("AsyncQueue",`${e}: ${n}`),Rl(n))return new Fe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class lv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Je.comparator(t.key,i.key):(t,i)=>Je.comparator(t.key,i.key),this.keyedMap=kt(),this.sortedSet=new ii(this.comparator)}static emptySet(e){return new lv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new lv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class pR{constructor(){this.Au=new ii(Je.comparator)}track(e){const t=e.doc.key,i=this.Au.get(t);i?0!==e.type&&3===i.type?this.Au=this.Au.insert(t,e):3===e.type&&1!==i.type?this.Au=this.Au.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Au=this.Au.remove(t):1===e.type&&2===i.type?this.Au=this.Au.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):dt():this.Au=this.Au.insert(t,e)}Ru(){const e=[];return this.Au.inorderTraversal((t,i)=>{e.push(i)}),e}}class cv{constructor(e,t,i,r,s,u,h,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,s){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new cv(e,t,lv.emptySet(t),u,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class IU{constructor(){this.bu=void 0,this.listeners=[]}}class AU{constructor(){this.queries=new ye(e=>p1(e),nm),this.onlineState="Unknown",this.vu=new Set}}function yM(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,we.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new IU),r)try{s.bu=yield t.onListen(i)}catch(u){const h=av(u,`Initialization of query '${Zy(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Pu(t.onlineState),s.bu&&e.Vu(s.bu)&&EM(t)}),vM.apply(this,arguments)}function bM(n,e){return wM.apply(this,arguments)}function wM(){return wM=(0,we.Z)(function*(n,e){const t=Xe(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const u=s.listeners.indexOf(e);u>=0&&(s.listeners.splice(u,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),wM.apply(this,arguments)}function MU(n,e){const t=Xe(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.Vu(r)&&(i=!0);u.bu=r}}i&&EM(t)}function xU(n,e,t){const i=Xe(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function EM(n){n.vu.forEach(e=>{e.next()})}class CM{constructor(e,t,i){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new cv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){return!e.fromCache||(!this.options.Ou||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}xu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}ku(e){e=cv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}class NU{constructor(e,t){this.Mu=e,this.byteLength=t}Fu(){return"metadata"in this.Mu}}class gR{constructor(e){this.Tt=e}Zi(e){return au(this.Tt,e)}Xi(e){return e.metadata.exists?lk(this.Tt,e.document,!1):zn.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return sr(e)}}class OU{constructor(e,t,i){this.$u=e,this.localStore=t,this.Tt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=mR(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;const i=fn.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){const t=new Map,i=new gR(this.Tt);for(const r of e)if(r.metadata.queries){const s=i.Zi(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||Yt()).add(s);t.set(u,h)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function oU(n,e,t,i){return ZA.apply(this,arguments)}(e.localStore,new gR(e.Tt),e.documents,e.$u.id),i=e.Lu(e.documents);for(const r of e.queries)yield aU(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,qu:e.collectionGroups,Uu:t}})()}}function mR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _R{constructor(e){this.key=e}}class yR{constructor(e){this.key=e}}class vR{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=Yt(),this.mutatedKeys=Yt(),this.ju=g1(e),this.zu=new lv(this.ju)}get Wu(){return this.Ku}Hu(e,t){const i=t?t.Ju:new pR,r=t?t.zu:this.zu;let s=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,S)=>{const k=r.get(C),F=Uf(this.query,S)?S:null,V=!!k&&this.mutatedKeys.has(k.key),$=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let te=!1;k&&F?k.data.isEqual(F.data)?V!==$&&(i.track({type:3,doc:F}),te=!0):this.Yu(k,F)||(i.track({type:2,doc:F}),te=!0,(g&&this.ju(F,g)>0||y&&this.ju(F,y)<0)&&(h=!0)):!k&&F?(i.track({type:0,doc:F}),te=!0):k&&!F&&(i.track({type:1,doc:k}),te=!0,(g||y)&&(h=!0)),te&&(F?(u=u.add(F),s=$?s.add(C):s.delete(C)):(u=u.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{zu:u,Ju:i,Li:h,mutatedKeys:s}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const s=e.Ju.Ru();s.sort((y,C)=>function(S,k){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return F(S)-F(k)}(y.type,C.type)||this.ju(y.doc,C.doc)),this.Zu(i);const u=t?this.Xu():[],h=0===this.Qu.size&&this.current?1:0,g=h!==this.Gu;return this.Gu=h,0!==s.length||g?{snapshot:new cv(this.query,e.zu,r,s,e.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),tc:u}:{tc:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new pR,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=Yt(),this.zu.forEach(i=>{this.ec(i.key)&&(this.Qu=this.Qu.add(i.key))});const t=[];return e.forEach(i=>{this.Qu.has(i)||t.push(new yR(i))}),this.Qu.forEach(i=>{e.has(i)||t.push(new _R(i))}),t}nc(e){this.Ku=e.Yi,this.Qu=Yt();const t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return cv.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,0===this.Gu,this.hasCachedResults)}}class kU{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class RU{constructor(e){this.key=e,this.ic=!1}}class PU{constructor(e,t,i,r,s,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.rc={},this.oc=new ye(h=>p1(h),nm),this.uc=new Map,this.cc=new Set,this.ac=new ii(Je.comparator),this.hc=new Map,this.lc=new VA,this.fc={},this.dc=new Map,this._c=dm.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return!0===this.wc}}function FU(n,e){return DM.apply(this,arguments)}function DM(){return DM=(0,we.Z)(function*(n,e){const t=qM(n);let i,r;const s=t.oc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.sc();else{const u=yield nv(t.localStore,Gr(e));t.isPrimaryClient&&R1(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield TM(t,e,i,"current"===h,u.resumeToken)}return r}),DM.apply(this,arguments)}function TM(n,e,t,i,r){return SM.apply(this,arguments)}function SM(){return SM=(0,we.Z)(function*(n,e,t,i,r){n.mc=(S,k,F)=>{return(V=(0,we.Z)(function*($,te,Ee,Be){let We=te.view.Hu(Ee);We.Li&&(We=yield x1($.localStore,te.query,!1).then(({documents:Ye})=>te.view.Hu(Ye,We)));const Ve=Be&&Be.targetChanges.get(te.targetId),Ke=te.view.applyChanges(We,$.isPrimaryClient,Ve);return FM($,te.targetId,Ke.tc),Ke.snapshot}),function($,te,Ee,Be){return V.apply(this,arguments)})(n,S,k,F);var V};const s=yield x1(n.localStore,e,!0),u=new vR(e,s.Yi),h=u.Hu(s.documents),g=qd.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,g);FM(n,t,y.tc);const C=new kU(e,t,u);return n.oc.set(e,C),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),y.snapshot}),SM.apply(this,arguments)}function LU(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,we.Z)(function*(n,e){const t=Xe(n),i=t.oc.get(e),r=t.uc.get(i.targetId);if(r.length>1)return t.uc.set(i.targetId,r.filter(s=>!nm(s,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield iv(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Rw(t.remoteStore,i.targetId),uv(t,i.targetId)}).catch(Fd))):(uv(t,i.targetId),yield iv(t.localStore,i.targetId,!0))}),IM.apply(this,arguments)}function AM(){return AM=(0,we.Z)(function*(n,e,t){const i=WM(n);try{const r=yield function(s,u){const h=Xe(s),g=$n.now(),y=u.reduce((k,F)=>k.add(F.key),Yt());let C,S;return h.persistence.runTransaction("Locally write mutations","readwrite",k=>{let F=Ge(),V=Yt();return h.ji.getEntries(k,y).next($=>{F=$,F.forEach((te,Ee)=>{Ee.isValidDocument()||(V=V.add(te))})}).next(()=>h.localDocuments.getOverlayedDocuments(k,F)).next($=>{C=$;const te=[];for(const Ee of u){const Be=o(Ee,C.get(Ee.key).overlayedDocument);null!=Be&&te.push(new d(Ee.key,Be,gA(Be.value.mapValue),ri.exists(!0)))}return h.mutationQueue.addMutationBatch(k,g,te,u)}).next($=>{S=$;const te=$.applyToLocalDocumentSet(C,V);return h.documentOverlayCache.saveOverlays(k,$.batchId,te)})}).then(()=>({batchId:S.batchId,changes:Re(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,u,h){let g=s.fc[s.currentUser.toKey()];g||(g=new ii(Zt)),g=g.insert(u,h),s.fc[s.currentUser.toKey()]=g}(i,r.batchId,t),yield Kd(i,r.changes),yield sv(i.remoteStore)}catch(r){const s=av(r,"Failed to persist write");t.reject(s)}}),AM.apply(this,arguments)}function bR(n,e){return MM.apply(this,arguments)}function MM(){return MM=(0,we.Z)(function*(n,e){const t=Xe(n);try{const i=yield rU(t.localStore,e);e.targetChanges.forEach((r,s)=>{const u=t.hc.get(s);u&&(Tt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.ic=!0:r.modifiedDocuments.size>0?Tt(u.ic):r.removedDocuments.size>0&&(Tt(u.ic),u.ic=!1))}),yield Kd(t,i,e)}catch(i){yield Fd(i)}}),MM.apply(this,arguments)}function wR(n,e,t){const i=Xe(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.oc.forEach((s,u)=>{const h=u.view.Pu(e);h.snapshot&&r.push(h.snapshot)}),function(s,u){const h=Xe(s);h.onlineState=u;let g=!1;h.queries.forEach((y,C)=>{for(const S of C.listeners)S.Pu(u)&&(g=!0)}),g&&EM(h)}(i.eventManager,e),r.length&&i.rc.Ho(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function VU(n,e,t){return xM.apply(this,arguments)}function xM(){return xM=(0,we.Z)(function*(n,e,t){const i=Xe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.hc.get(e),s=r&&r.key;if(s){let u=new ii(Je.comparator);u=u.insert(s,zn.newNoDocument(s,Ot.min()));const h=Yt().add(s),g=new Zd(Ot.min(),new Map,new Sn(Zt),u,h);yield bR(i,g),i.ac=i.ac.remove(s),i.hc.delete(e),LM(i)}else yield iv(i.localStore,e,!1).then(()=>uv(i,e,t)).catch(Fd)}),xM.apply(this,arguments)}function UU(n,e){return NM.apply(this,arguments)}function NM(){return NM=(0,we.Z)(function*(n,e){const t=Xe(n),i=e.batch.batchId;try{const r=yield iU(t.localStore,e);PM(t,i,null),RM(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Kd(t,r)}catch(r){yield Fd(r)}}),NM.apply(this,arguments)}function HU(n,e,t){return OM.apply(this,arguments)}function OM(){return OM=(0,we.Z)(function*(n,e,t){const i=Xe(n);try{const r=yield function(s,u){const h=Xe(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return h.mutationQueue.lookupMutationBatch(g,u).next(C=>(Tt(null!==C),y=C.keys(),h.mutationQueue.removeMutationBatch(g,C))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>h.localDocuments.getDocuments(g,y))})}(i.localStore,e);PM(i,e,t),RM(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Kd(i,r)}catch(r){yield Fd(r)}}),OM.apply(this,arguments)}function kM(){return kM=(0,we.Z)(function*(n,e){const t=Xe(n);Wd(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const u=Xe(s);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.dc.get(i)||[];r.push(e),t.dc.set(i,r)}catch(i){const r=av(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),kM.apply(this,arguments)}function RM(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function PM(n,e,t){const i=Xe(n);let r=i.fc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.fc[i.currentUser.toKey()]=r}}function uv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.uc.get(e))n.oc.delete(i),t&&n.rc.gc(i,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(i=>{n.lc.containsKey(i)||ER(n,i)})}function ER(n,e){n.cc.delete(e.path.canonicalString());const t=n.ac.get(e);null!==t&&(Rw(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),LM(n))}function FM(n,e,t){for(const i of t)i instanceof _R?(n.lc.addReference(i.key,e),GU(n,i)):i instanceof yR?(Ue("SyncEngine","Document no longer in limbo: "+i.key),n.lc.removeReference(i.key,e),n.lc.containsKey(i.key)||ER(n,i.key)):dt()}function GU(n,e){const t=e.key,i=t.path.canonicalString();n.ac.get(t)||n.cc.has(i)||(Ue("SyncEngine","New document in limbo: "+t),n.cc.add(i),LM(n))}function LM(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){const e=n.cc.values().next().value;n.cc.delete(e);const t=new Je(fn.fromString(e)),i=n._c.next();n.hc.set(i,new RU(t)),n.ac=n.ac.insert(t,i),R1(n.remoteStore,new zf(Gr(ou(t.path)),i,2,Rs.at))}}function Kd(n,e,t){return BM.apply(this,arguments)}function BM(){return BM=(0,we.Z)(function*(n,e,t){const i=Xe(n),r=[],s=[],u=[];var h;i.oc.isEmpty()||(i.oc.forEach((h,g)=>{u.push(i.mc(g,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const C=GA.Ni(g.targetId,y);s.push(C)}}))}),yield Promise.all(u),i.rc.Ho(r),yield(h=(0,we.Z)(function*(g,y){const C=Xe(g);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(y,k=>ae.forEach(k.Ci,F=>C.persistence.referenceDelegate.addReference(S,k.targetId,F)).next(()=>ae.forEach(k.xi,F=>C.persistence.referenceDelegate.removeReference(S,k.targetId,F)))))}catch(S){if(!Rl(S))throw S;Ue("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const k=S.targetId;if(!S.fromCache){const F=C.Ki.get(k),$=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);C.Ki=C.Ki.insert(k,$)}}}),function(g,y){return h.apply(this,arguments)})(i.localStore,s))}),BM.apply(this,arguments)}function $U(n,e){return VM.apply(this,arguments)}function VM(){return VM=(0,we.Z)(function*(n,e){const t=Xe(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const i=yield Yk(t.localStore,e);t.currentUser=e,(r=t).dc.forEach(u=>{u.forEach(h=>{h.reject(new Fe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.dc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Kd(t,i.Wi)}var r}),VM.apply(this,arguments)}function zU(n,e){const t=Xe(n),i=t.hc.get(e);if(i&&i.ic)return Yt().add(i.key);{let r=Yt();const s=t.uc.get(e);if(!s)return r;for(const u of s){const h=t.oc.get(u);r=r.unionWith(h.view.Wu)}return r}}function ZU(n,e){return UM.apply(this,arguments)}function UM(){return UM=(0,we.Z)(function*(n,e){const t=Xe(n),i=yield x1(t.localStore,e.query,!0),r=e.view.nc(i);return t.isPrimaryClient&&FM(t,e.targetId,r.tc),r}),UM.apply(this,arguments)}function qU(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,we.Z)(function*(n,e){const t=Xe(n);return eR(t.localStore,e).then(i=>Kd(t,i))}),HM.apply(this,arguments)}function WU(n,e,t,i){return jM.apply(this,arguments)}function jM(){return jM=(0,we.Z)(function*(n,e,t,i){const r=Xe(n),s=yield function(u,h){const g=Xe(u),y=Xe(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.An(C,h).next(S=>S?g.localDocuments.getDocuments(C,S):ae.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield sv(r.remoteStore):"acknowledged"===t||"rejected"===t?(PM(r,e,i||null),RM(r,e),h=e,Xe(Xe(r.localStore).mutationQueue).bn(h)):dt(),yield Kd(r,s)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),jM.apply(this,arguments)}function GM(){return GM=(0,we.Z)(function*(n,e){const t=Xe(n);if(qM(t),WM(t),!0===e&&!0!==t.wc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield CR(t,i.toArray());t.wc=!0,yield gM(t.remoteStore,!0);for(const s of r)R1(t.remoteStore,s)}else if(!1===e&&!1!==t.wc){const i=[];let r=Promise.resolve();t.uc.forEach((s,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(uv(t,u),iv(t.localStore,u,!0))),Rw(t.remoteStore,u)}),yield r,yield CR(t,i),function(s){const u=Xe(s);u.hc.forEach((h,g)=>{Rw(u.remoteStore,g)}),u.lc._s(),u.hc=new Map,u.ac=new ii(Je.comparator)}(t),t.wc=!1,yield gM(t.remoteStore,!1)}}),GM.apply(this,arguments)}function CR(n,e,t){return $M.apply(this,arguments)}function $M(){return $M=(0,we.Z)(function*(n,e,t){const i=Xe(n),r=[],s=[];for(const u of e){let h;const g=i.uc.get(u);if(g&&0!==g.length){h=yield nv(i.localStore,Gr(g[0]));for(const y of g){const C=i.oc.get(y),S=yield ZU(i,C);S.snapshot&&s.push(S.snapshot)}}else{const y=yield Xk(i.localStore,u);h=yield nv(i.localStore,y),yield TM(i,DR(y),u,!1,h.resumeToken)}r.push(h)}return i.rc.Ho(s),r}),$M.apply(this,arguments)}function DR(n){return $y(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YU(n){const e=Xe(n);return Xe(Xe(e.localStore).persistence).Si()}function QU(n,e,t,i){return zM.apply(this,arguments)}function zM(){return zM=(0,we.Z)(function*(n,e,t,i){const r=Xe(n);if(r.wc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const s=r.uc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const u=yield eR(r.localStore,pw(s[0])),h=Zd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Wi.EMPTY_BYTE_STRING);yield Kd(r,u,h);break}case"rejected":yield iv(r.localStore,e,!0),uv(r,e,i);break;default:dt()}}),zM.apply(this,arguments)}function JU(n,e,t){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,we.Z)(function*(n,e,t){const i=qM(n);if(i.wc){for(const r of e){if(i.uc.has(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const s=yield Xk(i.localStore,r),u=yield nv(i.localStore,s);yield TM(i,DR(s),u.targetId,!1,u.resumeToken),R1(i.remoteStore,u)}for(const r of t)i.uc.has(r)&&(yield iv(i.localStore,r,!1).then(()=>{Rw(i.remoteStore,r),uv(i,r)}).catch(Fd))}}),ZM.apply(this,arguments)}function qM(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VU.bind(null,e),e.rc.Ho=MU.bind(null,e.eventManager),e.rc.gc=xU.bind(null,e.eventManager),e}function WM(n){const e=Xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HU.bind(null,e),e}class TR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.Tt=Ow(e.databaseInfo.databaseId),t.sharedClientState=t.Ic(e),t.persistence=t.Tc(e),yield t.persistence.start(),t.localStore=t.Ec(e),t.gcScheduler=t.Ac(e,t.localStore),t.indexBackfillerScheduler=t.Rc(e,t.localStore)})()}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return Kk(this.persistence,new Wk,e.initialUser,this.Tt)}Tc(e){return new Zk(A1.qs,this.Tt)}Ic(e){return new rR}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class SR extends TR{constructor(e,t,i){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e),yield i.bc.initialize(i,e),yield WM(i.bc.syncEngine),yield sv(i.bc.remoteStore),yield i.persistence.di(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ec(e){return Kk(this.persistence,new Wk,e.initialUser,this.Tt)}Ac(e,t){return new jV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Rc(e,t){const i=new KO(t,this.persistence);return new e1(e.asyncQueue,i)}Tc(e){const t=jA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new HA(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,oR(),k1(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new rR}}class eH extends SR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield t().call(i,e);const r=i.bc.syncEngine;i.sharedClientState instanceof QA&&(i.sharedClientState.syncEngine={Br:WU.bind(null,r),Lr:QU.bind(null,r),qr:JU.bind(null,r),Si:YU.bind(null,r),$r:qU.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.di(function(){var s=(0,we.Z)(function*(u){yield function KU(n,e){return GM.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return s.apply(this,arguments)}}())})()}Ic(e){const t=oR();if(!QA.C(t))throw new Fe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=jA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new QA(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class KM{initialize(e,t){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=$U.bind(null,i.syncEngine),yield gM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new AU}createDatastore(e){const t=Ow(e.databaseInfo.databaseId),i=new dU(e.databaseInfo);return new pU(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>wR(this.syncEngine,h,0),u=sR.C()?new sR:new lU,new _U(t,i,r,s,u);var t,i,r,s,u}createSyncEngine(e,t){return function(i,r,s,u,h,g,y){const C=new PU(i,r,s,u,h,g);return y&&(C.wc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const i=Xe(t);Ue("RemoteStore","RemoteStore shutting down."),i.mu.add(5),yield rv(i),i.yu.shutdown(),i.pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IR(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class F1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tH{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new rr,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(i=>{i&&i.Fu()?this.metadata.resolve(i.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Mu)}`))},i=>this.metadata.reject(i))}close(){return this.Vc.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}yc(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Dc()})()}Dc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Cc();if(null===t)return null;const i=e.Sc.decode(t),r=Number(i);isNaN(r)&&e.xc(`length string (${i}) is not valid number`);const s=yield e.Nc(r);return new NU(JSON.parse(s),t.length+r)})()}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Cc(){var e=this;return(0,we.Z)(function*(){for(;e.kc()<0&&!(yield e.Oc()););if(0===e.buffer.length)return null;const t=e.kc();t<0&&e.xc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Nc(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Oc())&&t.xc("Reached the end of bundle when more is expected.");const i=t.Sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}Oc(){var e=this;return(0,we.Z)(function*(){const t=yield e.Vc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class nH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(s,u){const h=Xe(s),g=Ew(h.Tt)+"/documents",y={documents:u.map(F=>ww(h.Tt,F))},C=yield h.mo("BatchGetDocuments",g,y,u.length),S=new Map;C.forEach(F=>{const V=function rV(n,e){return"found"in e?function(t,i){Tt(!!i.found);const r=au(t,i.found.name),s=sr(i.found.updateTime),u=i.found.createTime?sr(i.found.createTime):Ot.min(),h=new Ir({mapValue:{fields:i.found.fields}});return zn.newFoundDocument(r,s,u,h)}(n,e):"missing"in e?function(t,i){Tt(!!i.missing),Tt(!!i.readTime);const r=au(t,i.missing),s=sr(i.readTime);return zn.newNoDocument(r,s)}(n,e):dt()}(h.Tt,F);S.set(V.key.toString(),V)});const k=[];return u.forEach(F=>{const V=S.get(F.toString());Tt(!!V),k.push(V)}),k}),function(s,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new E(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Je.fromPath(r);e.mutations.push(new D(s,e.precondition(s)))}),yield(i=(0,we.Z)(function*(r,s){const u=Xe(r),h=Ew(u.Tt)+"/documents",g={writes:s.map(y=>Cw(u.Tt,y))};yield u.lo("Commit",h,g)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Ot.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Fe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ot.min())?ri.exists(!1):ri.updateTime(t):ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Fe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ri.updateTime(t)}return ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iH{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Mc=i.maxAttempts,this.ko=new JA(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Fc()}Fc(){var e=this;this.ko.vo((0,we.Z)(function*(){const t=new nH(e.datastore),i=e.$c(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Bc(s)}))}).catch(r=>{e.Bc(r)})}))}$c(e){try{const t=this.updateFunction(e);return!Zg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Fc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!W(t)}return!1}}class rH{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=mi.UNAUTHENTICATED,this.clientId=KD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(h){Ue("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=av(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function AR(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(s){i.isEqual(s)||(yield Yk(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),YM.apply(this,arguments)}function MR(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield JM(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>fR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>fR(e.remoteStore,s)),n.onlineComponents=e}),QM.apply(this,arguments)}function JM(n){return XM.apply(this,arguments)}function XM(){return XM=(0,we.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield AR(n,new TR)),n.offlineComponents}),XM.apply(this,arguments)}function L1(n){return ex.apply(this,arguments)}function ex(){return ex=(0,we.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield MR(n,new KM)),n.onlineComponents}),ex.apply(this,arguments)}function xR(n){return JM(n).then(e=>e.persistence)}function B1(n){return JM(n).then(e=>e.localStore)}function tx(n){return L1(n).then(e=>e.remoteStore)}function nx(n){return L1(n).then(e=>e.syncEngine)}function dv(n){return ix.apply(this,arguments)}function ix(){return ix=(0,we.Z)(function*(n){const e=yield L1(n),t=e.eventManager;return t.onListen=FU.bind(null,e.syncEngine),t.onUnlisten=LU.bind(null,e.syncEngine),t}),ix.apply(this,arguments)}function OR(n,e,t={}){const i=new rr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,u,h,g){const y=new F1({next:S=>{s.enqueueAndForget(()=>bM(r,C));const k=S.docs.has(u);!k&&S.fromCache?g.reject(new Fe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&h&&"server"===h.source?g.reject(new Fe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),C=new CM(ou(u.path),y,{includeMetadataChanges:!0,Ou:!0});return yM(r,C)}(yield dv(n),n.asyncQueue,e,t,i)})),i.promise}function kR(n,e,t={}){const i=new rr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,s,u,h,g){const y=new F1({next:S=>{s.enqueueAndForget(()=>bM(r,C)),S.fromCache&&"server"===h.source?g.reject(new Fe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),C=new CM(u,y,{includeMetadataChanges:!0,Ou:!0});return yM(r,C)}(yield dv(n),n.asyncQueue,e,t,i)})),i.promise}const RR=new Map;function rx(n,e,t){if(!t)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PR(n,e,t,i){if(!0===e&&!0===i)throw new Fe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FR(n){if(!Je.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LR(n){if(Je.isDocumentKey(n))throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V1(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=V1(n);throw new Fe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function BR(n,e){if(e<=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class VR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,PR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Pw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kf;switch(t.type){case"gapi":return new $O(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RR.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),RR.delete(e),t.terminate())}(this),Promise.resolve()}}class si{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}}class Xr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Xr(this.firestore,e,this._query)}}class cu extends Xr{constructor(e,t,i){super(e,t,ou(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new Je(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function HR(n,e,...t){if(n=(0,mn.m9)(n),rx("collection","path",e),n instanceof Pw){const i=fn.fromString(e,...t);return LR(i),new cu(n,null,i)}{if(!(n instanceof si||n instanceof cu))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return LR(i),new cu(n.firestore,null,i)}}function U1(n,e,...t){if(n=(0,mn.m9)(n),1===arguments.length&&(e=KD.R()),rx("doc","path",e),n instanceof Pw){const i=fn.fromString(e,...t);return FR(i),new si(n,null,new Je(i))}{if(!(n instanceof si||n instanceof cu))throw new Fe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fn.fromString(e,...t));return FR(i),new si(n.firestore,n instanceof cu?n.converter:null,new Je(i))}}function jR(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),(n instanceof si||n instanceof cu)&&(e instanceof si||e instanceof cu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function sx(n,e){return n=(0,mn.m9)(n),e=(0,mn.m9)(e),n instanceof Xr&&e instanceof Xr&&n.firestore===e.firestore&&nm(n._query,e._query)&&n.converter===e.converter}class fH{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new JA(this,"async_queue_retry"),this.Hc=()=>{const t=k1();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=k1();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=k1();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new rr;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,we.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Rl(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(i=>{throw this.Qc=i,this.jc=!1,ki("INTERNAL UNHANDLED ERROR: ",function(s){let u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),u}(i)),i}).then(i=>(this.jc=!1,i))));return this.qc=t,t}enqueueAfterDelay(e,t,i){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const r=_M.createAndSchedule(this,e,t,i,s=>this.Xc(s));return this.Gc.push(r),r}Jc(){this.Qc&&dt()}verifyOperationInProgress(){}ta(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}function ox(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class pH{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class oi extends Pw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new fH,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GR(this),this._firestoreClient.terminate()}}function or(n){return n._firestoreClient||GR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GR(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new oA(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new rH(n._authCredentials,n._appCheckCredentials,n._queue,i)}function $R(n,e,t){const i=new rr;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield AR(n,t),yield MR(n,e),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(u=s).name?u.code===pe.FAILED_PRECONDITION||u.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;Rd("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var u})).then(()=>i.promise)}function zR(n){if(n._initialized||n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uu(Wi.fromBase64String(e))}catch(t){throw new Fe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uu(Wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Yd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fm{constructor(e){this._methodName=e}}class H1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const TH=/^__.*__$/;class SH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new d(e,this.data,this.fieldMask,t,this.fieldTransforms):new c(e,this.data,t,this.fieldTransforms)}}class ZR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new d(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class j1{constructor(e,t,i,r,s,u){this.settings=e,this.databaseId=t,this.Tt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new j1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.aa(e),r}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.oa({path:i,ca:!1});return r.ia(),r}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return z1(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(0===e.length)throw this.fa("Document fields must not be empty");if(qR(this.ra)&&TH.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class IH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=i||Ow(e)}wa(e,t,i,r=!1){return new j1({ra:e,methodName:t,_a:i,path:_i.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function pm(n){const e=n._freezeSettings(),t=Ow(n._databaseId);return new IH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function G1(n,e,t,i,r,s={}){const u=n.wa(s.merge||s.mergeFields?2:0,e,t,r);ux("Data must be an object, but it was:",u,i);const h=YR(i,u);let g,y;if(s.merge)g=new Fs(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const C=[];for(const S of s.mergeFields){const k=Bw(e,S,t);if(!u.contains(k))throw new Fe(pe.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);JR(C,k)||C.push(k)}g=new Fs(C),y=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=u.fieldTransforms;return new SH(new Ir(h),g,y)}class Lw extends fm{_toFieldTransform(e){if(2!==e.ra)throw e.fa(1===e.ra?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lw}}function WR(n,e,t){return new j1({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}class ax extends fm{_toFieldTransform(e){return new Wy(e.path,new rm)}isEqual(e){return e instanceof ax}}class AH extends fm{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=WR(this,e,!0),i=this.ma.map(s=>gm(s,t)),r=new Hf(i);return new Wy(e.path,r)}isEqual(e){return this===e}}class MH extends fm{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){const t=WR(this,e,!0),i=this.ma.map(s=>gm(s,t)),r=new $d(i);return new Wy(e.path,r)}isEqual(e){return this===e}}class xH extends fm{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){const t=new sm(e.Tt,_A(e.Tt,this.ga));return new Wy(e.path,t)}isEqual(e){return this===e}}function lx(n,e,t,i){const r=n.wa(1,e,t);ux("Data must be an object, but it was:",r,i);const s=[],u=Ir.empty();Ff(i,(g,y)=>{const C=$1(e,g,t);y=(0,mn.m9)(y);const S=r.ha(C);if(y instanceof Lw)s.push(C);else{const k=gm(y,S);null!=k&&(s.push(C),u.set(C,k))}});const h=new Fs(s);return new ZR(u,h,r.fieldTransforms)}function cx(n,e,t,i,r,s){const u=n.wa(1,e,t),h=[Bw(e,i,t)],g=[r];if(s.length%2!=0)throw new Fe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<s.length;k+=2)h.push(Bw(e,s[k])),g.push(s[k+1]);const y=[],C=Ir.empty();for(let k=h.length-1;k>=0;--k)if(!JR(y,h[k])){const F=h[k];let V=g[k];V=(0,mn.m9)(V);const $=u.ha(F);if(V instanceof Lw)y.push(F);else{const te=gm(V,$);null!=te&&(y.push(F),C.set(F,te))}}const S=new Fs(y);return new ZR(C,S,u.fieldTransforms)}function KR(n,e,t,i=!1){return gm(t,n.wa(i?4:3,e))}function gm(n,e){if(QR(n=(0,mn.m9)(n)))return ux("Unsupported field value:",e,n),YR(n,e);if(n instanceof fm)return function(t,i){if(!qR(i.ra))throw i.fa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&4!==e.ra)throw e.fa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const u of t){let h=gm(u,i.la(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,mn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return _A(i.Tt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=$n.fromDate(t);return{timestampValue:Jy(i.Tt,r)}}if(t instanceof $n){const r=new $n(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Jy(i.Tt,r)}}if(t instanceof H1)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uu)return{bytesValue:ik(i.Tt,t._byteString)};if(t instanceof si){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:DA(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.fa(`Unsupported field value: ${V1(t)}`)}(n,e)}function YR(n,e){const t={};return t1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ff(n,(i,r)=>{const s=gm(r,e.ua(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function QR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $n||n instanceof H1||n instanceof uu||n instanceof si||n instanceof fm)}function ux(n,e,t){if(!QR(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=V1(t);throw e.fa("an object"===i?n+" a custom object":n+" "+i)}var i}function Bw(n,e,t){if((e=(0,mn.m9)(e))instanceof Yd)return e._internalPath;if("string"==typeof e)return $1(n,e);throw z1("Field path arguments must be of type string or ",n,!1,void 0,t)}const NH=new RegExp("[~\\*/\\[\\]]");function $1(n,e,t){if(e.search(NH)>=0)throw z1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yd(...e.split("."))._internalPath}catch{throw z1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function z1(n,e,t,i,r){const s=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(s||u)&&(g+=" (found",s&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Fe(pe.INVALID_ARGUMENT,h+n+g)}function JR(n,e){return n.some(t=>t.isEqual(e))}class Vw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new OH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Z1("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class OH extends Vw{data(){return super.data()}}function Z1(n,e){return"string"==typeof e?$1(n,e):e instanceof Yd?e._internalPath:e._delegate._internalPath}function XR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dx{}class Uw extends dx{}function Yf(n,e,...t){let i=[];e instanceof dx&&i.push(e),i=i.concat(t),function(r){const s=r.filter(h=>h instanceof hv).length,u=r.filter(h=>h instanceof Hw).length;if(s>1||s>0&&u>0)throw new Fe(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Hw extends Uw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Hw(e,t,i)}_apply(e){const t=this._parse(e);return iP(e._query,t),new Xr(e.firestore,e.converter,fw(e._query,t))}_parse(e){const t=pm(e.firestore);return function(r,s,u,h,g,y,C){let S;if(g.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){nP(C,y);const k=[];for(const F of C)k.push(tP(h,r,F));S={arrayValue:{values:k}}}else S=tP(h,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||nP(C,y),S=KR(u,"where",C,"in"===y||"not-in"===y);return an.create(g,y,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class hv extends dx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hv(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:Cn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let s=i;const u=r.getFlattenedFilters();for(const h of u)iP(s,h),s=fw(s,h)}(e._query,t),new Xr(e.firestore,e.converter,fw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hx extends Uw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hx(e,t)}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Jg(r,s);return function(h,g){if(null===h1(h)){const y=hw(h);null!==y&&rP(0,y,g.field)}}(i,u),u}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Vl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class q1 extends Uw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new q1(e,t,i)}_apply(e){return new Xr(e.firestore,e.converter,zy(e._query,this._limit,this._limitType))}}class W1 extends Uw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new W1(e,t,i)}_apply(e){const t=eP(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(r=t,new Vl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class K1 extends Uw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new K1(e,t,i)}_apply(e){const t=eP(e,this.type,this._docOrFields,this._inclusive);return new Xr(e.firestore,e.converter,(r=t,new Vl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function eP(n,e,t,i){if(t[0]=(0,mn.m9)(t[0]),t[0]instanceof Vw)return function(r,s,u,h,g){if(!h)throw new Fe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const C of Vf(r))if(C.field.isKeyField())y.push(Ud(s,h.key));else{const S=h.data.field(C.field);if(rw(S))throw new Fe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const k=C.field.canonicalString();throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${k}' (used as the orderBy) does not exist.`)}y.push(S)}return new su(y,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=pm(n.firestore);return function(s,u,h,g,y,C){const S=s.explicitOrderBy;if(y.length>S.length)throw new Fe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const k=[];for(let F=0;F<y.length;F++){const V=y[F];if(S[F].field.isKeyField()){if("string"!=typeof V)throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof V}`);if(!f1(s)&&-1!==V.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${V}' contains a slash.`);const $=s.path.child(fn.fromString(V));if(!Je.isDocumentKey($))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${$}' is not because it contains an odd number of segments.`);const te=new Je($);k.push(Ud(u,te))}else{const $=KR(h,g,V);k.push($)}}return new su(k,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function tP(n,e,t){if("string"==typeof(t=(0,mn.m9)(t))){if(""===t)throw new Fe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f1(e)&&-1!==t.indexOf("/"))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(fn.fromString(t));if(!Je.isDocumentKey(i))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ud(n,new Je(i))}if(t instanceof si)return Ud(n,t._key);throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V1(t)}.`)}function nP(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iP(n,e){if(e.isInequality()){const i=hw(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=h1(n);null!==s&&rP(0,r,s)}const t=function(i,r){for(const s of i)for(const u of s.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(pe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rP(n,e,t){if(!t.isEqual(e))throw new Fe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class fx{convertValue(e,t="none"){switch(Bd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const i={};return Ff(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new H1(yi(e.latitude),yi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ps(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Wg(e));default:return null}}convertTimestamp(e){const t=pr(e);return new $n(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=fn.fromString(e);Tt(fk(i));const r=new Ld(i.get(1),i.get(3)),s=new Je(i.popFirst(5));return r.isEqual(t)||ki(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function Y1(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class HH extends fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}class mm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qd extends Vw{constructor(e,t,i,r,s,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Z1("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jw extends Qd{data(e={}){return super.data(e)}}class Qf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jw(this._firestore,this._userDataWriter,i.key,i,new mm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new jw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new mm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new jw(i._firestore,i._userDataWriter,u.doc.key,u.doc,new mm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,y=-1;return 0!==u.type&&(g=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),1!==u.type&&(s=s.add(u.doc),y=s.indexOf(u.doc.key)),{type:GH(u.type),doc:h,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function oP(n,e){return n instanceof Qd&&e instanceof Qd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qf&&e instanceof Qf&&n._firestore===e._firestore&&sx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Jf extends fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new si(this.firestore,null,t)}}function aP(n,e,t){n=pn(n,si);const i=pn(n.firestore,oi),r=Y1(n.converter,e,t);return fv(i,[G1(pm(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ri.none())])}function lP(n,e,t,...i){n=pn(n,si);const r=pn(n.firestore,oi),s=pm(r);let u;return u="string"==typeof(e=(0,mn.m9)(e))||e instanceof Yd?cx(s,"updateDoc",n._key,e,t,i):lx(s,"updateDoc",n._key,e),fv(r,[u.toMutation(n._key,ri.exists(!0))])}function cP(n,...e){var t,i,r;n=(0,mn.m9)(n);let s={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||ox(e[u])||(s=e[u],u++);const h={includeMetadataChanges:s.includeMetadataChanges};if(ox(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,y,C;if(n instanceof si)y=pn(n.firestore,oi),C=ou(n._key.path),g={next:S=>{e[u]&&e[u](px(y,n,S))},error:e[u+1],complete:e[u+2]};else{const S=pn(n,Xr);y=pn(S.firestore,oi),C=S._query;const k=new Jf(y);g={next:F=>{e[u]&&e[u](new Qf(y,k,S,F))},error:e[u+1],complete:e[u+2]},XR(n._query)}return function(S,k,F,V){const $=new F1(V),te=new CM(k,$,F);return S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return yM(yield dv(S),te)})),()=>{$.Pc(),S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return bM(yield dv(S),te)}))}}(or(y),C,h,g)}function fv(n,e){return function(t,i){const r=new rr;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function BU(n,e,t){return AM.apply(this,arguments)}(yield nx(t),i,r)})),r.promise}(or(n),e)}function px(n,e,t){const i=t.docs.get(e._key),r=new Jf(n);return new Qd(n,r,e._key,i,new mm(t.hasPendingWrites,t.fromCache),e.converter)}const ej={maxAttempts:5};class uP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pm(e)}set(e,t,i){this._verifyNotCommitted();const r=Xf(e,this._firestore),s=Y1(r.converter,t,i),u=G1(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ri.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Xf(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof Yd?cx(this._dataReader,"WriteBatch.update",s._key,t,i,r):lx(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(u.toMutation(s._key,ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xf(e,this._firestore);return this._mutations=this._mutations.concat(new E(t._key,ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xf(n,e){if((n=(0,mn.m9)(n)).firestore!==e)throw new Fe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class tj extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pm(e)}get(e){const t=Xf(e,this._firestore),i=new HH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const s=r[0];if(s.isFoundDocument())return new Vw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Vw(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=Xf(e,this._firestore),s=Y1(r.converter,t,i),u=G1(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const s=Xf(e,this._firestore);let u;return u="string"==typeof(t=(0,mn.m9)(t))||t instanceof Yd?cx(this._dataReader,"Transaction.update",s._key,t,i,r):lx(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,u),this}delete(e){const t=Xf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xf(e,this._firestore),i=new Jf(this._firestore);return super.get(e).then(r=>new Qd(this._firestore,i,t._key,r._document,new mm(!1,!1),t.converter))}}function gx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hP(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function fP(){if(!function n1(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Of=Ed.SDK_VERSION,(0,Ed._registerComponent)(new W_.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const s=t.getProvider("app").getImmediate(),u=new oi(new qD(t.getProvider("auth-internal")),new zO(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(h.options.projectId,g)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,Ed.registerVersion)(Yb,"3.8.4",n),(0,Ed.registerVersion)(Yb,"3.8.4","esm2017")}();class Gw{constructor(e){this._delegate=e}static fromBase64String(e){return fP(),new Gw(uu.fromBase64String(e))}static fromUint8Array(e){return hP(),new Gw(uu.fromUint8Array(e))}toBase64(){return fP(),this._delegate.toBase64()}toUint8Array(){return hP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mx(n){return function uj(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class dj{enableIndexedDbPersistence(e,t){return function mH(n,e){zR(n=pn(n,oi));const t=or(n),i=n._freezeSettings(),r=new KM;return $R(t,r,new SR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _H(n){zR(n=pn(n,oi));const e=or(n),t=n._freezeSettings(),i=new KM;return $R(e,i,new eH(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yH(n){if(n._initialized&&!n._terminated)throw new Fe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new rr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(i){if(!_o.C())return Promise.resolve();const r=i+"main";yield _o.delete(r)}),function(i){return t.apply(this,arguments)})(jA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pP{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ld||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Rd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function UR(n,e,t,i={}){var r;const s=(n=pn(n,Pw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Rd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=mi.MOCK_USER;else{u=(0,mn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Fe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new mi(g)}n._authCredentials=new JI(new Jb(u,h))}}(this._delegate,e,t,i)}enableNetwork(){return function bH(n){return function sH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield xR(n),t=yield tx(n);return e.setNetworkEnabled(!0),function(i){const r=Xe(i);return r.mu.delete(0),kw(r)}(t)}))}(or(n=pn(n,oi)))}(this._delegate)}disableNetwork(){return function wH(n){return function oH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield xR(n),t=yield tx(n);return e.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const s=Xe(r);s.mu.add(0),yield rv(s),s.pu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(or(n=pn(n,oi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,PR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vH(n){return function(e){const t=new rr;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function jU(n,e){return kM.apply(this,arguments)}(yield nx(e),t)})),t.promise}(or(n=pn(n,oi)))}(this._delegate)}onSnapshotsInSync(e){return function JH(n,e){return function cH(n,e){const t=new F1(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield dv(n),r=t,Xe(i).vu.add(r),void r.next();var i,r})),()=>{t.Pc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield dv(n),r=t,void Xe(i).vu.delete(r);var i,r}))}}(or(n=pn(n,oi)),ox(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new pv(this,HR(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ba(this,U1(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vs(this,function hH(n,e){if(n=pn(n,Pw),rx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xr(n,null,(t=e,new Vl(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function nj(n,e,t){n=pn(n,oi);const i=Object.assign(Object.assign({},ej),t);return function(r){if(r.maxAttempts<1)throw new Fe(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,u){const h=new rr;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const g=yield function NR(n){return L1(n).then(e=>e.datastore)}(r);new iH(r.asyncQueue,g,u,s,h).run()})),h.promise}(or(n),r=>e(new tj(n,r)),i)}(this._delegate,t=>e(new gP(this,t)))}batch(){return or(this._delegate),new mP(new uP(this._delegate,e=>fv(this._delegate,e)))}loadBundle(e){return function EH(n,e){const t=or(n=pn(n,oi)),i=new pH;return function uH(n,e,t,i){const r=function(s,u){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,g=function(g,y){if(g instanceof Uint8Array)return IR(g,y);if(g instanceof ArrayBuffer)return IR(new Uint8Array(g),y);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new tH(g,u);var g}(t,Ow(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function XU(n,e,t){const i=Xe(n);var r;(r=(0,we.Z)(function*(s,u,h){try{const g=yield u.getMetadata();if(yield function(k,F){const V=Xe(k),$=sr(F.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",te=>V.Os.getBundleMetadata(te,F.id)).then(te=>!!te&&te.createTime.compareTo($)>=0)}(s.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(k=g).totalDocuments,bytesLoaded:k.totalBytes,totalDocuments:k.totalDocuments,totalBytes:k.totalBytes}),Promise.resolve(new Set);h._updateProgress(mR(g));const y=new OU(g,s.localStore,u.Tt);let C=yield u.yc();for(;C;){const k=yield y.Bu(C);k&&h._updateProgress(k),C=yield u.yc()}const S=yield y.complete();return yield Kd(s,S.Uu,void 0),yield function(k,F){const V=Xe(k);return V.persistence.runTransaction("Save bundle","readwrite",$=>V.Os.saveBundleMetadata($,F))}(s.localStore,g),h._completeWith(S.progress),Promise.resolve(S.qu)}catch(g){return Rd("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var k}),function(s,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield nx(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function CH(n,e){return function dH(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,i){const r=Xe(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Os.getNamedQuery(s,i))}(yield B1(n),e)}))}(or(n=pn(n,oi)),e).then(t=>t?new Xr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vs(this,t):null)}}class Q1 extends fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gw(new uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ba.forKey(t,this.firestore,null)}}class gP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Q1(e)}get(e){const t=ym(e);return this._delegate.get(t).then(i=>new $w(this._firestore,new Qd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ym(e);return i?(gx("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ym(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ym(e);return this._delegate.delete(t),this}}class mP{constructor(e){this._delegate=e}set(e,t,i){const r=ym(e);return i?(gx("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=ym(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=ym(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _m{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new jw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zw(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=_m.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new _m(e,new Q1(e),t),r.set(t,s)),s}}_m.INSTANCES=new WeakMap;class Ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Q1(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ba(t,new si(t._delegate,i,new Je(e)))}static forKey(e,t,i){return new Ba(t,new si(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new pv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new pv(this.firestore,HR(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,mn.m9)(e))instanceof si&&jR(this._delegate,e)}set(e,t){t=gx("DocumentReference.set",t);try{return t?aP(this._delegate,e,t):aP(this._delegate,e)}catch(i){throw Bs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?lP(this._delegate,e):lP(this._delegate,e,t,...i)}catch(r){throw Bs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function YH(n){return fv(pn(n.firestore,oi),[new E(n._key,ri.none())])}(this._delegate)}onSnapshot(...e){const t=_P(e),i=yP(e,r=>new $w(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cP(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function zH(n){n=pn(n,si);const e=pn(n.firestore,oi),t=or(e),i=new Jf(e);return function aH(n,e){const t=new rr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,u){try{const h=yield function(g,y){const C=Xe(g);return C.persistence.runTransaction("read document","readonly",S=>C.localDocuments.getDocument(S,y))}(r,s);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Fe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=av(h,`Failed to get document '${s} from cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield B1(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Qd(e,i,n._key,r,new mm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function ZH(n){n=pn(n,si);const e=pn(n.firestore,oi);return OR(or(e),n._key,{source:"server"}).then(t=>px(e,n,t))}(this._delegate):function $H(n){n=pn(n,si);const e=pn(n.firestore,oi);return OR(or(e),n._key).then(t=>px(e,n,t))}(this._delegate),t.then(i=>new $w(this.firestore,new Qd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Ba(this.firestore,this._delegate.withConverter(e?_m.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function _P(n){for(const e of n)if("object"==typeof e&&!mx(e))return e;return{}}function yP(n,e){var t,i;let r;return r=mx(n[0])?n[0]:mx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class $w{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oP(this._delegate,e._delegate)}}class zw extends $w{data(e){const t=this._delegate.data(e);return function Ay(n,e){n||dt()}(void 0!==t),t}}class Vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Q1(e)}where(e,t,i){try{return new Vs(this.firestore,Yf(this._delegate,function kH(n,e,t){const i=e,r=Z1("where",n);return Hw._create(r,i,t)}(e,t,i)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vs(this.firestore,Yf(this._delegate,function RH(n,e="asc"){const t=e,i=Z1("orderBy",n);return hx._create(i,t)}(e,t)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vs(this.firestore,Yf(this._delegate,function PH(n){return BR("limit",n),q1._create("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vs(this.firestore,Yf(this._delegate,function FH(n){return BR("limitToLast",n),q1._create("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vs(this.firestore,Yf(this._delegate,function LH(...n){return W1._create("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vs(this.firestore,Yf(this._delegate,function BH(...n){return W1._create("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vs(this.firestore,Yf(this._delegate,function VH(...n){return K1._create("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vs(this.firestore,Yf(this._delegate,function UH(...n){return K1._create("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return sx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function WH(n){n=pn(n,Xr);const e=pn(n.firestore,oi),t=or(e),i=new Jf(e);return function lH(n,e){const t=new rr;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,s,u){try{const h=yield x1(r,s,!0),g=new vR(s,h.Yi),y=g.Hu(h.documents),C=g.applyChanges(y,!1);u.resolve(C.snapshot)}catch(h){const g=av(h,`Failed to execute query '${s} against cache`);u.reject(g)}}),function(r,s,u){return i.apply(this,arguments)})(yield B1(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Qf(e,i,n,r))}(this._delegate):"server"===e?.source?function KH(n){n=pn(n,Xr);const e=pn(n.firestore,oi),t=or(e),i=new Jf(e);return kR(t,n._query,{source:"server"}).then(r=>new Qf(e,i,n,r))}(this._delegate):function qH(n){n=pn(n,Xr);const e=pn(n.firestore,oi),t=or(e),i=new Jf(e);return XR(n._query),kR(t,n._query).then(r=>new Qf(e,i,n,r))}(this._delegate),t.then(i=>new _x(this.firestore,new Qf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=_P(e),i=yP(e,r=>new _x(this.firestore,new Qf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cP(this._delegate,t,i)}withConverter(e){return new Vs(this.firestore,this._delegate.withConverter(e?_m.getInstance(this.firestore,e):null))}}class fj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _x{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new fj(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new zw(this._firestore,i))})}isEqual(e){return oP(this._delegate,e._delegate)}}class pv extends Vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ba(this.firestore,e):null}doc(e){try{return new Ba(this.firestore,void 0===e?U1(this._delegate):U1(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function QH(n,e){const t=pn(n.firestore,oi),i=U1(n),r=Y1(n.converter,e);return fv(t,[G1(pm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ri.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Ba(this.firestore,t))}isEqual(e){return jR(this._delegate,e._delegate)}withConverter(e){return new pv(this.firestore,this._delegate.withConverter(e?_m.getInstance(this.firestore,e):null))}}function ym(n){return pn(n,si)}class yx{constructor(...e){this._delegate=new Yd(...e)}static documentId(){return new yx(_i.keyField().canonicalString())}isEqual(e){return(e=(0,mn.m9)(e))instanceof Yd&&this._delegate._internalPath.isEqual(e._internalPath)}}class vm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function rj(){return new ax("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vm(e)}static delete(){const e=function ij(){return new Lw("deleteField")}();return e._methodName="FieldValue.delete",new vm(e)}static arrayUnion(...e){const t=function sj(...n){return new AH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new vm(t)}static arrayRemove(...e){const t=function oj(...n){return new MH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new vm(t)}static increment(e){const t=function aj(n){return new xH("increment",n)}(e);return t._methodName="FieldValue.increment",new vm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const pj={Firestore:pP,GeoPoint:H1,Timestamp:$n,Blob:Gw,Transaction:gP,WriteBatch:mP,DocumentReference:Ba,DocumentSnapshot:$w,Query:Vs,QueryDocumentSnapshot:zw,QuerySnapshot:_x,CollectionReference:pv,FieldPath:yx,FieldValue:vm,setLogLevel:function hj(n){!function ZD(n){Ra.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function mj(n){(function gj(n,e){n.INTERNAL.registerComponent(new W_.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},pj)))})(n,(e,t)=>new pP(e,t,new dj)),n.registerVersion("@firebase/firestore-compat","0.3.4")}(II.Z);var vx=L(6451),J1=L(5363),_j=L(6063);class yj extends Wt.x{constructor(e=1/0,t=1/0,i=_j.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:u}=this;t||(i.push(e),!r&&i.push(s.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let u=0;u<s.length&&!e.closed;u+=i?1:2)e.next(s[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const u=t.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var vP=L(3099);function bP(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,vP.B)({connector:()=>new yj(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function wP(n,e){return(0,wa.m)(e)?Zi(()=>n,e):Zi(()=>n)}var bx=L(9468);const wx=new Map,EP={activated:!1,tokenObservers:[]},vj={initialized:!1,enabled:!1};function es(n){return wx.get(n)||Object.assign({},EP)}function X1(){return vj}class Tj{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new mn.BH,yield function Sj(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new mn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Us=new mn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DP(n){if(!es(n).activated)throw Us.create("use-before-activation",{appName:n.name})}function Dx(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,we.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const s={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,s)}catch(S){throw Us.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Us.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw Us.create("fetch-parse-error",{originalErrorMessage:S?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(g[1]),C=Date.now();return{token:h.token,expireTimeMillis:C+y,issuedAtTimeMillis:C}}),Tx.apply(this,arguments)}function xj(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Zw="firebase-app-check-store";let nT=null;function SP(){return nT||(nT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Us.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Zw,{keyPath:"compositeKey"})}}catch(t){e(Us.create("storage-open",{originalErrorMessage:t?.message}))}}),nT)}function Sx(){return Sx=(0,we.Z)(function*(n,e){const i=(yield SP()).transaction(Zw,"readwrite"),s=i.objectStore(Zw).put({compositeKey:n,value:e});return new Promise((u,h)=>{s.onsuccess=g=>{u()},i.onerror=g=>{var y;h(Us.create("storage-set",{originalErrorMessage:null===(y=g.target.error)||void 0===y?void 0:y.message}))}})}),Sx.apply(this,arguments)}const qw=new Jc.Yd("@firebase/app-check");function Mx(n,e){return(0,mn.hl)()?function Rj(n,e){return function IP(n,e){return Sx.apply(this,arguments)}(function MP(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xP(){return X1().enabled}function NP(){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,we.Z)(function*(){const n=X1();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Nx.apply(this,arguments)}const Uj={error:"UNKNOWN_ERROR"};function Hj(n){return mn.US.encodeString(JSON.stringify(n),!1)}function iT(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n,e=!1){const t=n.app;DP(t);const i=es(t);let s,r=i.token;if(r&&!gv(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(gv(g)?r=g:yield Mx(t,void 0))}if(!e&&r&&gv(r))return{token:r.token};let h,u=!1;if(xP()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Dx(xj(t,yield NP()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield Mx(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield es(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?qw.warn(g.message):qw.error(g),s=g}return r?s?h=gv(r)?{token:r.token,internalError:s}:RP(s):(h={token:r.token},i.token=r,yield Mx(t,r)):h=RP(s),u&&kP(t,h),h}),Ox.apply(this,arguments)}function Rx(n,e){const t=es(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function OP(n){const{app:e}=n,t=es(e);let i=t.tokenRefresher;i||(i=function jj(n){const{app:e}=n;return new Tj((0,we.Z)(function*(){let i;if(i=es(e).token?yield iT(n,!0):yield iT(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=es(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function kP(n,e){const t=es(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function gv(n){return n.expireTimeMillis-Date.now()>0}function RP(n){return{token:Hj(Uj),error:n}}class Gj{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=es(this.app);for(const t of e)Rx(this.app,t.next);return Promise.resolve()}}const jP="app-check-internal";!function r3(){(0,Ed._registerComponent)(new W_.wA("app-check",n=>function $j(n,e){return new Gj(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jP).initialize()})),(0,Ed._registerComponent)(new W_.wA(jP,n=>function zj(n){return{getToken:e=>iT(n,e),addTokenListener:e=>function kx(n,e,t,i){const{app:r}=n,s=es(r);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:i,type:e}],s.token&&gv(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),OP(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>OP(n))}(n,"INTERNAL",e),removeTokenListener:e=>Rx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ed.registerVersion)("@firebase/app-check","0.6.4")}();class Bx{constructor(){return(0,hi.vb)("app-check")}}typeof window<"u"&&window;var c3=L(9260);const $P=new a.OlP("angularfire2.auth.use-emulator"),zP=new a.OlP("angularfire2.auth.settings"),ZP=new a.OlP("angularfire2.auth.tenant-id"),qP=new a.OlP("angularfire2.auth.langugage-code"),WP=new a.OlP("angularfire2.auth.use-device-language"),KP=new a.OlP("angularfire.auth.persistence"),YP=(n,e,t,i,r,s,u,h)=>(0,po.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,s&&g.useDeviceLanguage(),u)for(const[y,C]of Object.entries(u))g.settings[y]=C;return h&&g.setPersistence(h),g},[t,i,r,s,u,h]);let Ux=(()=>{class n{constructor(t,i,r,s,u,h,g,y,C,S,k,F){const V=new Wt.x,$=lt(void 0).pipe((0,J1.Q)(u.outsideAngular),Zi(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4217)))),(0,gt.U)(()=>(0,po.on)(t,s,i)),(0,gt.U)(te=>YP(te,s,h,y,C,S,g,k)),bP({bufferSize:1,refCount:!1}));if(Hi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=lt(null);else{$.pipe(xs()).subscribe();const Ee=$.pipe(Zi(Ve=>Ve.getRedirectResult().then(Ke=>Ke,()=>null)),hi.iC,bP({bufferSize:1,refCount:!1})),Be=$.pipe(Zi(Ve=>new xi.y(Ke=>({unsubscribe:s.runOutsideAngular(()=>Ve.onAuthStateChanged(Ye=>Ke.next(Ye),Ye=>Ke.error(Ye),()=>Ke.complete()))})))),We=$.pipe(Zi(Ve=>new xi.y(Ke=>({unsubscribe:s.runOutsideAngular(()=>Ve.onIdTokenChanged(Ye=>Ke.next(Ye),Ye=>Ke.error(Ye),()=>Ke.complete()))}))));this.authState=Ee.pipe(wP(Be),(0,bx.R)(u.outsideAngular),(0,J1.Q)(u.insideAngular)),this.user=Ee.pipe(wP(We),(0,bx.R)(u.outsideAngular),(0,J1.Q)(u.insideAngular)),this.idToken=this.user.pipe(Zi(Ve=>Ve?(0,Qn.D)(Ve.getIdToken()):lt(null))),this.idTokenResult=this.user.pipe(Zi(Ve=>Ve?(0,Qn.D)(Ve.getIdTokenResult()):lt(null))),this.credential=(0,vx.T)(Ee,V,this.authState.pipe(Ni(Ve=>!Ve))).pipe((0,gt.U)(Ve=>Ve?.user?Ve:null),(0,bx.R)(u.outsideAngular),(0,J1.Q)(u.insideAngular))}return(0,po.pX)(this,$,s,{spy:{apply:(te,Ee,Be)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Be.then(We=>V.next(We))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(po.Dh),a.LFG(po.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(hi.HU),a.LFG($P,8),a.LFG(zP,8),a.LFG(ZP,8),a.LFG(qP,8),a.LFG(WP,8),a.LFG(KP,8),a.LFG(Bx,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),d3=(()=>{class n{constructor(){c3.Z.registerVersion("angularfire",hi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Ux]}),n})();function QP(n,e){return function h3(n,e=pf.z){return new xi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Hx(n,e){return QP(n,e).pipe((0,gt.U)(t=>({payload:t,type:"query"})))}function sT(n,e){return Hx(n,e).pipe(uo(void 0),q_(),(0,gt.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(C=>C.doc.ref.isEqual(u.ref)),y=t?.payload.docs.find(C=>C.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),s}))}function JP(n,e,t){return sT(n,t).pipe(Wp((i,r)=>function p3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function g3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return jx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return jx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return jx(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),gf(),(0,gt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function jx(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function XP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class eF{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=sT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(uo(void 0),q_(),Ni(([i,r])=>r.length>0||!i),(0,gt.U)(([i,r])=>r),hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XP(e);return JP(this.query,t,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return Hx(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),hi.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(hi.iC)}add(e){return this.ref.add(e)}doc(e){return new tF(this.ref.doc(e),this.afs)}}class tF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=nF(i,t);return new eF(r,s,this.afs)}snapshotChanges(){return function f3(n,e){return QP(n,e).pipe(uo(void 0),q_(),(0,gt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qn.D)(this.ref.get(e)).pipe(hi.iC)}}class m3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?sT(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ni(t=>t.length>0),hi.iC):sT(this.query,this.afs.schedulers.outsideAngular).pipe(hi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wp((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=XP(e);return JP(this.query,t,this.afs.schedulers.outsideAngular).pipe(hi.iC)}valueChanges(e={}){return Hx(this.query,this.afs.schedulers.outsideAngular).pipe((0,gt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),hi.iC)}get(e){return(0,Qn.D)(this.query.get(e)).pipe(hi.iC)}}const _3=new a.OlP("angularfire2.enableFirestorePersistence"),y3=new a.OlP("angularfire2.firestore.persistenceSettings"),v3=new a.OlP("angularfire2.firestore.settings"),b3=new a.OlP("angularfire2.firestore.use-emulator");function nF(n,e=(t=>t)){return{query:e(n),ref:n}}let w3=(()=>{class n{constructor(t,i,r,s,u,h,g,y,C,S,k,F,V,$,te,Ee,Be){this.schedulers=g;const We=(0,po.on)(t,h,i),Ve=C;S&&YP(We,h,k,V,$,te,F,Ee),[this.firestore,this.persistenceEnabled$]=(0,po.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const Ke=h.runOutsideAngular(()=>We.firestore());if(s&&Ke.settings(s),Ve&&Ke.useEmulator(...Ve),r&&!Hi(u)){const Ye=()=>{try{return(0,Qn.D)(Ke.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(At){return typeof console<"u"&&console.warn(At),lt(!1)}};return[Ke,h.runOutsideAngular(Ye)]}return[Ke,lt(!1)]},[s,Ve,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:u}=nF(r,i),h=this.schedulers.ngZone.run(()=>s);return new eF(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),s=this.firestore.collectionGroup(t);return new m3(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new tF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(po.Dh),a.LFG(po.xv,8),a.LFG(_3,8),a.LFG(v3,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(hi.HU),a.LFG(y3,8),a.LFG(b3,8),a.LFG(Ux,8),a.LFG($P,8),a.LFG(zP,8),a.LFG(ZP,8),a.LFG(qP,8),a.LFG(WP,8),a.LFG(KP,8),a.LFG(Bx,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Gx=(()=>{class n{constructor(t){this.afs=t,this.books=[],this.selectedBook=null,this.getBooks()}getBooks(){return this.booksCollection=this.afs.collection("books"),this.booksCollection.valueChanges().subscribe(t=>{this.books=[],t.forEach(i=>{this.books.unshift(i)})})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(w3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ep(n){return null!=n&&"false"!=`${n}`}function oT(n,e=0){return function E3(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function aT(n){return Array.isArray(n)?n:[n]}function gr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Jd(n){return n instanceof a.SBq?n.nativeElement:n}var C3=L(1144);const D3=["addListener","removeListener"],T3=["addEventListener","removeEventListener"],S3=["on","off"];function ts(n,e,t,i){if((0,wa.m)(t)&&(i=t,t=void 0),i)return ts(n,e,t).pipe(Hc(i));const[r,s]=function M3(n){return(0,wa.m)(n.addEventListener)&&(0,wa.m)(n.removeEventListener)}(n)?T3.map(u=>h=>n[u](e,h,t)):function I3(n){return(0,wa.m)(n.addListener)&&(0,wa.m)(n.removeListener)}(n)?D3.map(iF(n,e)):function A3(n){return(0,wa.m)(n.on)&&(0,wa.m)(n.off)}(n)?S3.map(iF(n,e)):[];if(!r&&(0,C3.z)(n))return(0,nr.z)(u=>ts(u,e,t))((0,ba.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new xi.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>s(h)})}function iF(n,e){return t=>i=>n[t](e,i)}var rF=L(4408);const Ww={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Ww;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new ld.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Ww;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ww;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var sF=L(7565);new class N3 extends sF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class x3 extends rF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Ww.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(Ww.cancelAnimationFrame(t),e._scheduled=void 0)}});let $x,k3=1;const lT={};function oF(n){return n in lT&&(delete lT[n],!0)}const R3={setImmediate(n){const e=k3++;return lT[e]=!0,$x||($x=Promise.resolve()),$x.then(()=>oF(e)&&n()),e},clearImmediate(n){oF(n)}},{setImmediate:P3,clearImmediate:F3}=R3,cT={setImmediate(...n){const{delegate:e}=cT;return(e?.setImmediate||P3)(...n)},clearImmediate(n){const{delegate:e}=cT;return(e?.clearImmediate||F3)(n)},delegate:void 0};new class B3 extends sF.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class L3 extends rF.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=cT.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:s}=e;null!=t&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==t&&(cT.clearImmediate(t),e._scheduled=void 0)}});var H3=L(3532);function uT(n=0,e,t=pf.P){let i=-1;return null!=e&&((0,H3.K)(e)?t=e:i=e),new xi.y(r=>{let s=function j3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function aF(n,e=pf.z){return function U3(n){return(0,tr.e)((e,t)=>{let i=!1,r=null,s=null,u=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}u&&t.complete()},g=()=>{s=null,u&&t.complete()};e.subscribe((0,jn.x)(t,y=>{i=!0,r=y,s||(0,ba.Xf)(n(y)).subscribe(s=(0,jn.x)(t,h,g))},()=>{u=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>uT(n,e))}let zx;try{zx=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zx=!1}let mv,Hs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Wl(n){return n===bs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zx)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function cF(){if(mv)return mv;if("object"!=typeof document||!document)return mv=new Set(lF),mv;let n=document.createElement("input");return mv=new Set(lF.filter(e=>(n.setAttribute("type",e),n.type===e))),mv}let Kw,bm,Zx;function dT(n){return function G3(){if(null==Kw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Kw=!0}))}finally{Kw=Kw||!1}return Kw}()?n:!!n.capture}function $3(){if(null==bm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bm=!1,bm;if("scrollBehavior"in document.documentElement.style)bm=!0;else{const n=Element.prototype.scrollTo;bm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bm}function uF(n){if(function z3(){if(null==Zx){const n=typeof document<"u"?document.head:null;Zx=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Zx}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function wm(n){return n.composedPath?n.composedPath()[0]:n.target}function qx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const Z3=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function q3(){return(0,a.f3M)(X)}}),W3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let dF=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new a.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function K3(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?W3.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Z3,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),Q3=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Wt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new xi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(aF(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):lt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ni(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Jd(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ts(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Hs),a.LFG(X,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wx=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Wt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(aF(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hs),a.LFG(a.R0b),a.LFG(X,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Yw,Kx,Yw,Kx]}),n})();class Yx{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Qx extends Yx{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class fF extends Yx{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class X3 extends Yx{constructor(e){super(),this.element=e instanceof a.SBq?e.nativeElement:e}}class Jx{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Qx?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof fF?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof X3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class eG extends Jx{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let pF=(()=>{class n extends Jx{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const u=s.element,h=this._document.createComment("dom-portal");s.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=s,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(X))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var fT=L(5032);function Xn(n){return(0,tr.e)((e,t)=>{(0,ba.Xf)(n).subscribe((0,jn.x)(t,()=>t.complete(),fT.Z)),!t.closed&&e.subscribe(t)})}const mF=$3();class tG{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=gr(-this._previousScrollPosition.left),e.style.top=gr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mF&&(i.scrollBehavior=s,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class nG{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _F{enable(){}disable(){}attach(){}}function Xx(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function yF(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class iG{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Xx(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rG=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new _F,this.close=u=>new nG(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new tG(this._viewportRuler,this._document),this.reposition=u=>new iG(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Q3),a.LFG(Wx),a.LFG(a.R0b),a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vF{constructor(e){if(this.scrollStrategy=new _F,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class sG{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let bF=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oG=(()=>{class n extends bF{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){const h=s[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aG=(()=>{class n extends bF{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=wm(s)},this._clickListener=s=>{const u=wm(s),h="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const C=g[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(u)||C.overlayElement.contains(h))break;const S=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(s)):S.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X),a.LFG(Hs),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wF=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||qx()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),qx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X),a.LFG(Hs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lG{constructor(e,t,i,r,s,u,h,g,y,C=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=y,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new Wt.x,this._attachments=new Wt.x,this._detachments=new Wt.x,this._locationChanges=ld.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Wt.x,this._outsidePointerEvents=new Wt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(fi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=gr(this._config.width),e.height=gr(this._config.height),e.minWidth=gr(this._config.minWidth),e.minHeight=gr(this._config.minHeight),e.maxWidth=gr(this._config.maxWidth),e.maxHeight=gr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=aT(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Xn((0,vx.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const EF="cdk-overlay-connected-position-bounding-box",cG=/([A-Za-z%]+)$/;class uG{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Wt.x,this._resizeSubscription=ld.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(EF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(e,r,h),y=this._getOverlayPoint(g,t,h),C=this._getOverlayFit(y,t,i,h);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(C,y,i)?s.push({position:h,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<C.visibleArea)&&(u={overlayFit:C,overlayPoint:y,originPoint:g,position:h,overlayRect:t})}if(s.length){let h=null,g=-1;for(const y of s){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>g&&(g=C,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Em(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(EF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?u:h}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=DF(t);let{x:u,y:h}=e,g=this._getOffset(r,"x"),y=this._getOffset(r,"y");g&&(u+=g),y&&(h+=y);let k=0-h,F=h+s.height-i.height,V=this._subtractOverflows(s.width,0-u,u+s.width-i.width),$=this._subtractOverflows(s.height,k,F),te=V*$;return{visibleArea:te,isCompletelyWithinViewport:s.width*s.height===te,fitsInViewportVertically:$===s.height,fitsInViewportHorizontally:V==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,u=CF(this._overlayRef.getConfig().minHeight),h=CF(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=s;return(e.fitsInViewportVertically||null!=u&&u<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=DF(t),s=this._viewportRect,u=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),g=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let C=0,S=0;return C=r.width<=s.width?y||-u:e.x<this._viewportMargin?s.left-i.left-e.x:0,S=r.height<=s.height?g||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:C,y:S},{x:e.x+C,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new sG(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,u,h,C,S,k;if("top"===t.overlayY)u=e.y,s=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const F=Math.min(i.bottom-e.y+i.top,e.y),V=this._lastBoundingBoxSize.height;s=2*F,u=e.y-F,s>V&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-V/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)k=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,C=i.right-e.x;else{const F=Math.min(i.right-e.x+i.left,e.x),V=this._lastBoundingBoxSize.width;C=2*F,S=e.x-F,C>V&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-V/2)}return{top:u,left:S,bottom:h,right:k,width:C,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=gr(i.height),r.top=gr(i.top),r.bottom=gr(i.bottom),r.width=gr(i.width),r.left=gr(i.left),r.right=gr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=gr(s)),u&&(r.maxWidth=gr(u))}this._lastBoundingBoxSize=i,Em(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Em(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Em(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();Em(i,this._getExactOverlayY(t,e,C)),Em(i,this._getExactOverlayX(t,e,C))}else i.position="static";let h="",g=this._getOffset(t,"x"),y=this._getOffset(t,"y");g&&(h+=`translateX(${g}px) `),y&&(h+=`translateY(${y}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=gr(u.maxHeight):s&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=gr(u.maxWidth):s&&(i.maxWidth="")),Em(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=gr(s.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=gr(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yF(e,i),isOriginOutsideView:Xx(e,i),isOverlayClipped:yF(t,i),isOverlayOutsideView:Xx(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&aT(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof a.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Em(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function CF(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(cG);return t&&"px"!==t?null:parseFloat(e)}return n||null}function DF(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const TF="cdk-global-overlay-wrapper";class dG{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:u,maxHeight:h}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),C=this._xPosition,S=this._xOffset,k="rtl"===this._overlayRef.getConfig().direction;let F="",V="",$="";g?$="flex-start":"center"===C?($="center",k?V=S:F=S):k?"left"===C||"end"===C?($="flex-end",F=S):("right"===C||"start"===C)&&($="flex-start",V=S):"left"===C||"start"===C?($="flex-start",F=S):("right"===C||"end"===C)&&($="flex-end",V=S),e.position=this._cssPosition,e.marginLeft=g?"0":F,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=g?"0":V,t.justifyContent=$,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(TF),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let hG=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new dG}flexibleConnectedTo(t){return new uG(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Wx),a.LFG(X),a.LFG(Hs),a.LFG(wF))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fG=0,Qw=(()=>{class n{constructor(t,i,r,s,u,h,g,y,C,S,k,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=y,this._directionality=C,this._location=S,this._outsideClickDispatcher=k,this._animationsModuleType=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),u=new vF(t);return u.direction=u.direction||this._directionality.value,new lG(s,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+fG++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new eG(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(rG),a.LFG(wF),a.LFG(a._Vd),a.LFG(hG),a.LFG(oG),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(X),a.LFG(dF),a.LFG(Me),a.LFG(aG),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mG={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Qw],useFactory:function gG(n){return()=>n.scrollStrategies.reposition()}};let SF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Qw,mG],imports:[Yw,gF,hF,hF]}),n})();function eN(n){return Ni((e,t)=>n<=t)}function IF(n,e=pf.z){return(0,tr.e)((t,i)=>{let r=null,s=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function g(){const y=u+n,C=e.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);h()}t.subscribe((0,jn.x)(i,y=>{s=y,u=e.now(),r||(r=e.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}const AF=new Set;let _v,EG=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):DG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function CG(n){if(!AF.has(n))try{_v||(_v=document.createElement("style"),_v.setAttribute("type","text/css"),document.head.appendChild(_v)),_v.sheet&&(_v.sheet.insertRule(`@media ${n} {body{ }}`,0),AF.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let tN=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Wt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return MF(aT(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=Zp(MF(aT(t)).map(u=>this._registerQuery(u).observable));return s=ad(s.pipe(fi(1)),s.pipe(eN(1),IF(0))),s.pipe((0,gt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:y})=>{h.matches=h.matches||g,h.breakpoints[y]=g}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new xi.y(u=>{const h=g=>this._zone.run(()=>u.next(g));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(uo(i),(0,gt.U)(({matches:u})=>({query:t,matches:u})),Xn(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(EG),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MF(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function kF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function RF(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kG=new a.OlP("cdk-input-modality-detector-options"),RG={ignoreKeys:[18,17,224,91,16]},yv=dT({passive:!0,capture:!0});let PG=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Mi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=wm(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kF(u)?"keyboard":"mouse"),this._mostRecentTarget=wm(u))},this._onTouchstart=u=>{RF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=wm(u))},this._options={...RG,...s},this.modalityDetected=this._modality.pipe(eN(1)),this.modalityChanged=this.modalityDetected.pipe(gf()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,yv),r.addEventListener("mousedown",this._onMousedown,yv),r.addEventListener("touchstart",this._onTouchstart,yv)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,yv),document.removeEventListener("mousedown",this._onMousedown,yv),document.removeEventListener("touchstart",this._onTouchstart,yv))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hs),a.LFG(a.R0b),a.LFG(X),a.LFG(kG,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FG=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function LG(){return null}}),BG=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let FF=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[s,u]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(FG,8),a.LFG(a.R0b),a.LFG(X),a.LFG(BG,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VG=new a.OlP("cdk-focus-monitor-default-options"),pT=dT({passive:!0,capture:!0});let UG=(()=>{class n{constructor(t,i,r,s,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Wt.x,this._rootNodeFocusAndBlurListener=h=>{for(let y=wm(h);y;y=y.parentElement)"focus"===h.type?this._onFocus(h,y):this._onBlur(h,y)},this._document=s,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=Jd(t);if(!this._platform.isBrowser||1!==r.nodeType)return lt(null);const s=uF(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Wt.x,rootNode:s};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=Jd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Jd(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([h,g])=>this._originChanged(h,i,g)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=wm(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,pT),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,pT)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Xn(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pT),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pT),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let u=0;u<s.length;u++)if(s[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.R0b),a.LFG(Hs),a.LFG(PG),a.LFG(X,8),a.LFG(VG,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LF="cdk-high-contrast-black-on-white",BF="cdk-high-contrast-white-on-black",nN="cdk-high-contrast-active";let HG=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,a.f3M)(tN).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(nN,LF,BF),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(nN,LF):2===i&&t.add(nN,BF)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hs),a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GG=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function jG(){return!0}});let Ar=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!qx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(HG),a.LFG(GG,8),a.LFG(X))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Yw,Yw]}),n})();function $G(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ep(e)}}}function gT(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function zG(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ep(e)}}}function ZG(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}let HF=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class WG{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const jF={enterDuration:225,exitDuration:150},iN=dT({passive:!0}),GF=["mousedown","touchstart"],$F=["mouseup","mouseleave","touchend","touchcancel"];class YG{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Jd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...jF,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function QG(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,g=t-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=h-u+"px",C.style.top=g-u+"px",C.style.height=2*u+"px",C.style.width=2*u+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C);const S=window.getComputedStyle(C),F=S.transitionDuration,V="none"===S.transitionProperty||"0s"===F||"0s, 0s"===F,$=new WG(this,C,i,V);C.style.transform="scale3d(1, 1, 1)",$.state=0,i.persistent||(this._mostRecentTransientRipple=$);let te=null;return!V&&(y||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ee=()=>this._finishRippleTransition($),Be=()=>this._destroyRipple($);C.addEventListener("transitionend",Ee),C.addEventListener("transitioncancel",Be),te={onTransitionEnd:Ee,onTransitionCancel:Be}}),this._activeRipples.set($,te),(V||!y)&&this._finishRippleTransition($),$}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...jF,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Jd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(GF))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents($F),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=kF(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!RF(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,iN)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(GF.forEach(e=>{this._triggerElement.removeEventListener(e,this,iN)}),this._pointerUpEventsRegistered&&$F.forEach(e=>{this._triggerElement.removeEventListener(e,this,iN)}))}}const JG=new a.OlP("mat-ripple-global-options");let zF=(()=>{class n{constructor(t,i,r,s,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new YG(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Hs),a.Y36(JG,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ZF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ar,Ar]}),n})(),XG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ar]}),n})(),qF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ZF,Nn,Ar,XG]}),n})();const e$=["mat-button",""],t$=["*"],i$=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],r$=gT($G(zG(class{constructor(n){this._elementRef=n}})));let WF=(()=>{class n extends r${constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of i$)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(UG),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&a.Gf(zF,5),2&t){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:e$,ngContentSelectors:t$,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&t&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[zF],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ZF,Ar,Ar]}),n})();function s$(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.action())}),a._uU(2),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(2),a.Oqu(t.data.action)}}function o$(n,e){}const YF=new a.OlP("MatSnackBarData");class mT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const a$=Math.pow(2,31)-1;class rN{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Wt.x,this._afterOpened=new Wt.x,this._onAction=new Wt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,a$))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let l$=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(rN),a.Y36(YF))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,s$,3,1,"div",1)),2&t&&(a.xp6(1),a.Oqu(i.data.message),a.xp6(1),a.Q6J("ngIf",i.hasAction))},dependencies:[vn,WF],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const c$={snackBarState:Uo("state",[wr("void, hidden",ji({transform:"scale(0.8)",opacity:0})),wr("visible",ji({transform:"scale(1)",opacity:1})),al("* => visible",Ii("150ms cubic-bezier(0, 0, 0.2, 1)")),al("* => void, * => hidden",Ii("75ms cubic-bezier(0.4, 0.0, 1, 1)",ji({opacity:0})))])};let u$=(()=>{class n extends Jx{constructor(t,i,r,s,u){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Wt.x,this._onExit=new Wt.x,this._onEnter=new Wt.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const g=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),g},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(fi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Hs),a.Y36(mT))},n.\u0275dir=a.lG2({type:n,viewQuery:function(t,i){if(1&t&&a.Gf(pF,7),2&t){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),d$=(()=>{class n extends u${_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&a.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&a.d8E("@state",i._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(a.TgZ(0,"div",0),a.YNc(1,o$,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&t&&(a.xp6(2),a.uIk("aria-live",i._live)("role",i._role))},dependencies:[pF],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[c$.snackBarState]}}),n})(),QF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[SF,gF,Nn,KF,Ar,Ar]}),n})();const sN=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function h$(){return new mT}});let f$=(()=>{class n{constructor(t,i,r,s,u,h){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s={...this._defaultConfig,...r};return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:mT,useValue:i}]}),u=new Qx(this.snackBarContainerComponent,i.viewContainerRef,s),h=t.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(t,i){const r={...new mT,...this._defaultConfig,...i},s=this._createOverlay(r),u=this._attachSnackBarContainer(s,r),h=new rN(u,s);if(t instanceof a.Rgc){const g=new fF(t,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(g)}else{const g=this._createInjector(r,h),y=new Qx(t,void 0,g),C=u.attachComponentPortal(y);h.instance=C.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Xn(s.detachments())).subscribe(g=>{s.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new vF;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,h=!u&&"center"!==t.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return a.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:rN,useValue:i},{provide:YF,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qw),a.LFG(FF),a.LFG(a.zs3),a.LFG(tN),a.LFG(n,12),a.LFG(sN))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),oN=(()=>{class n extends f${constructor(t,i,r,s,u,h){super(t,i,r,s,u,h),this.simpleSnackBarComponent=l$,this.snackBarContainerComponent=d$,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qw),a.LFG(FF),a.LFG(a.zs3),a.LFG(tN),a.LFG(n,12),a.LFG(sN))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:QF}),n})();function JF(...n){const e=(0,Bc.jO)(n),{args:t,keys:i}=Vc(n),r=new xi.y(s=>{const{length:u}=t;if(!u)return void s.complete();const h=new Array(u);let g=u,y=u;for(let C=0;C<u;C++){let S=!1;(0,ba.Xf)(t[C]).subscribe((0,jn.x)(s,k=>{S||(S=!0,y--),h[C]=k},()=>g--,void 0,()=>{(!g||!S)&&(y||s.next(i?OE(i,h):h),s.complete())}))}});return e?r.pipe(Hc(e)):r}let XF=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Cm=(()=>{class n extends XF{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const du=new a.OlP("NgValueAccessor"),g$={provide:du,useExisting:(0,a.Gpc)(()=>vv),multi:!0},_$=new a.OlP("CompositionEventMode");let vv=(()=>{class n extends XF{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function m$(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(_$,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([g$]),a.qOj]}),n})();function tp(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function tL(n){return null!=n&&"number"==typeof n.length}const gs=new a.OlP("NgValidators"),np=new a.OlP("NgAsyncValidators"),v$=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class vi{static min(e){return function nL(n){return e=>{if(tp(e.value)||tp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function iL(n){return e=>{if(tp(e.value)||tp(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return rL(e)}static requiredTrue(e){return function sL(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function oL(n){return tp(n.value)||v$.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function aL(n){return e=>tp(e.value)||!tL(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function lL(n){return e=>tL(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function cL(n){if(!n)return _T;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(tp(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return gL(e)}static composeAsync(e){return mL(e)}}function rL(n){return tp(n.value)?{required:!0}:null}function _T(n){return null}function uL(n){return null!=n}function dL(n){return(0,a.QGY)(n)?(0,Qn.D)(n):n}function hL(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function fL(n,e){return e.map(t=>t(n))}function pL(n){return n.map(e=>function b$(n){return!n.validate}(e)?e:t=>e.validate(t))}function gL(n){if(!n)return null;const e=n.filter(uL);return 0==e.length?null:function(t){return hL(fL(t,e))}}function aN(n){return null!=n?gL(pL(n)):null}function mL(n){if(!n)return null;const e=n.filter(uL);return 0==e.length?null:function(t){return JF(fL(t,e).map(dL)).pipe((0,gt.U)(hL))}}function lN(n){return null!=n?mL(pL(n)):null}function _L(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yL(n){return n._rawValidators}function vL(n){return n._rawAsyncValidators}function cN(n){return n?Array.isArray(n)?n:[n]:[]}function yT(n,e){return Array.isArray(n)?n.includes(e):n===e}function bL(n,e){const t=cN(e);return cN(n).forEach(r=>{yT(t,r)||t.push(r)}),t}function wL(n,e){return cN(e).filter(t=>!yT(n,t))}class EL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class js extends EL{get formDirective(){return null}get path(){return null}}class Xd extends EL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class CL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vT=(()=>{class n extends CL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Xd,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),uN=(()=>{class n extends CL{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(js,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const Xw="VALID",wT="INVALID",bv="PENDING",eE="DISABLED";function pN(n){return(ET(n)?n.validators:n)||null}function TL(n){return Array.isArray(n)?aN(n):n||null}function gN(n,e){return(ET(e)?e.asyncValidators:n)||null}function SL(n){return Array.isArray(n)?lN(n):n||null}function ET(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function IL(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")}function AL(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})}class CT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=TL(this._rawValidators),this._composedAsyncValidatorFn=SL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xw}get invalid(){return this.status===wT}get pending(){return this.status==bv}get disabled(){return this.status===eE}get enabled(){return this.status!==eE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=TL(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=SL(e)}addValidators(e){this.setValidators(bL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wL(e,this._rawAsyncValidators))}hasValidator(e){return yT(this._rawValidators,e)}hasAsyncValidator(e){return yT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bv,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eE,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xw||this.status===bv)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eE:Xw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bv,this._hasOwnPendingAsyncValidator=!0;const t=dL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?eE:this.errors?wT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bv)?bv:this._anyControlsHaveStatus(wT)?wT:Xw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ET(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class tE extends CT{constructor(e,t,i){super(pN(t),gN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){AL(this,0,e),Object.keys(e).forEach(i=>{IL(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ML extends tE{}function DT(n,e){return[...e.path,n]}function nE(n,e){mN(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function A$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xL(n,e)})}(n,e),function x$(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function M$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xL(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function I$(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function TT(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),IT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ST(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mN(n,e){const t=yL(n);null!==e.validator?n.setValidators(_L(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=vL(n);null!==e.asyncValidator?n.setAsyncValidators(_L(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();ST(e._rawValidators,r),ST(e._rawAsyncValidators,r)}function IT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=yL(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=vL(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(u=>u!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return ST(e._rawValidators,i),ST(e._rawAsyncValidators,i),t}function xL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function NL(n,e){mN(n,e)}function _N(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function kL(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function yN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===vv?t=s:function k$(n){return Object.getPrototypeOf(n.constructor)===Cm}(s)?i=s:r=s}),r||i||t||null}const P$={provide:js,useExisting:(0,a.Gpc)(()=>AT)},iE=(()=>Promise.resolve())();let AT=(()=>{class n extends js{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new tE({},aN(t),lN(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){iE.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),nE(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){iE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){iE.then(()=>{const i=this._findContainer(t.path),r=new tE({});NL(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){iE.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){iE.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,kL(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gs,10),a.Y36(np,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([P$]),a.qOj]}),n})();function RL(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function PL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const rE=class extends CT{constructor(e=null,t,i){super(pN(t),gN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ET(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=PL(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){RL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){RL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){PL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},B$={provide:Xd,useExisting:(0,a.Gpc)(()=>vN)},BL=(()=>Promise.resolve())();let vN=(()=>{class n extends Xd{constructor(t,i,r,s,u){super(),this._changeDetectorRef=u,this.control=new rE,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=yN(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),_N(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){nE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){BL.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,a.D6c)(i);BL.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?DT(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(js,9),a.Y36(gs,10),a.Y36(np,10),a.Y36(du,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([B$]),a.qOj,a.TTD]}),n})(),bN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const V$={provide:du,useExisting:(0,a.Gpc)(()=>MT),multi:!0};let MT=(()=>{class n extends Cm{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&a.NdJ("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[a._Bn([V$]),a.qOj]}),n})(),VL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const wN=new a.OlP("NgModelWithFormControlWarning"),$$={provide:js,useExisting:(0,a.Gpc)(()=>wv)};let wv=(()=>{class n extends js{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(IT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return nE(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){TT(t.control||null,t,!1),function R$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,kL(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(TT(i||null,t),(n=>n instanceof rE)(r)&&(nE(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);NL(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function N$(n,e){return IT(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mN(this.form,this),this._oldForm&&IT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gs,10),a.Y36(np,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([$$]),a.qOj,a.TTD]}),n})();const q$={provide:Xd,useExisting:(0,a.Gpc)(()=>xT)};let xT=(()=>{class n extends Xd{constructor(t,i,r,s,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=yN(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),_N(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return DT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(js,13),a.Y36(gs,10),a.Y36(np,10),a.Y36(du,10),a.Y36(wN,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([q$]),a.qOj,a.TTD]}),n})();const W$={provide:du,useExisting:(0,a.Gpc)(()=>sE),multi:!0};function $L(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sE=(()=>{class n extends Cm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=$L(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function K$(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&a.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([W$]),a.qOj]}),n})(),DN=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue($L(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(sE,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Y$={provide:du,useExisting:(0,a.Gpc)(()=>TN),multi:!0};function zL(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let TN=(()=>{class n extends Cm{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,u)=>{s._setSelected(r.indexOf(u.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const u=s;for(let h=0;h<u.length;h++){const y=this._getOptionValue(u[h].value);r.push(y)}}else{const u=i.options;for(let h=0;h<u.length;h++){const g=u[h];if(g.selected){const y=this._getOptionValue(g.value);r.push(y)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Q$(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&a.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Y$]),a.qOj]}),n})(),SN=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(zL(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(zL(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(TN,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Dm=(()=>{class n{constructor(){this._validator=_T}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_T,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const e6={provide:gs,useExisting:(0,a.Gpc)(()=>oE),multi:!0};let oE=(()=>{class n extends Dm{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>rL}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([e6]),a.qOj]}),n})(),t2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[VL]}),n})(),n2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[t2]}),n})(),r2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:wN,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[t2]}),n})();class s2 extends CT{constructor(e,t,i){super(pN(t),gN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){AL(this,0,e),e.forEach((i,r)=>{IL(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function o2(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let a2=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return o2(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new tE(r,s)}record(t,i=null){const r=this._reduceControls(t);return new ML(r,i)}control(t,i,r){let s={};return this.useNonNullable?(o2(i)?s=i:(s.validators=i,s.asyncValidators=r),new rE(t,{...s,nonNullable:!0})):new rE(t,i,r)}array(t,i,r){const s=t.map(u=>this._createControl(u));return new s2(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof rE||t instanceof CT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:r2}),n})();function o6(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}function a6(n,e){if(1&n&&(a.O4$(),a._UZ(0,"circle",4)),2&n){const t=a.oxw(),i=a.MAs(1);a.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),a.uIk("r",t._getCircleRadius())}}const c6=gT(class{constructor(n){this._elementRef=n}},"primary"),u6=new a.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function d6(){return{diameter:100}}});class Ul extends c6{constructor(e,t,i,r,s,u,h,g){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=ld.w0.EMPTY,this.mode="determinate";const y=Ul._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),y.has(i.head)||y.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!s&&!s._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&u&&g&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&g.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=oT(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=oT(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,oT(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=uF(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=Ul._diameters;let r=i.get(e);if(!r||!r.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),e.appendChild(s),r||(r=new Set,i.set(e,r)),r.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Ul._diameters=new WeakMap,Ul.\u0275fac=function(e){return new(e||Ul)(a.Y36(a.SBq),a.Y36(Hs),a.Y36(X,8),a.Y36(a.QbO,8),a.Y36(u6),a.Y36(a.sBO),a.Y36(Wx),a.Y36(a.R0b))},Ul.\u0275cmp=a.Xpm({type:Ul,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(a.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[a.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(a.O4$(),a.TgZ(0,"svg",0,1),a.YNc(2,o6,1,11,"circle",2),a.YNc(3,a6,1,9,"circle",3),a.qZA()),2&e&&(a.Udp("width",t.diameter,"px")("height",t.diameter,"px"),a.Q6J("ngSwitch","indeterminate"===t.mode),a.uIk("viewBox",t._getViewBox()),a.xp6(2),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1))},dependencies:[Jo,Do],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let f6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ar,Nn,Ar]}),n})();function p6(n,e){1&n&&a._UZ(0,"div",9)}function g6(n,e){if(1&n&&(a.TgZ(0,"span",10),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit;a.xp6(1),a.Oqu(t.description)}}function m6(n,e){if(1&n&&(a.TgZ(0,"section",11),a._UZ(1,"ngx-json-viewer",12),a.qZA()),2&n){const t=a.oxw().$implicit,i=a.oxw();a.xp6(1),a.Q6J("json",t.value)("expanded",i.expanded)("depth",i.depth)("_currentDepth",i._currentDepth+1)}}const _6=function(n){return["segment",n]},y6=function(n,e){return{"segment-main":!0,expandable:n,expanded:e}};function v6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"section",2)(1,"section",3),a.NdJ("click",function(){const s=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.toggle(s))}),a.YNc(2,p6,1,0,"div",4),a.TgZ(3,"span",5),a._uU(4),a.qZA(),a.TgZ(5,"span",6),a._uU(6,": "),a.qZA(),a.YNc(7,g6,2,1,"span",7),a.qZA(),a.YNc(8,m6,2,4,"section",8),a.qZA()}if(2&n){const t=e.$implicit,i=a.oxw();a.Q6J("ngClass",a.VKq(6,_6,"segment-type-"+t.type)),a.xp6(1),a.Q6J("ngClass",a.WLB(8,y6,i.isExpandable(t),t.expanded)),a.xp6(1),a.Q6J("ngIf",i.isExpandable(t)),a.xp6(2),a.Oqu(t.key),a.xp6(3),a.Q6J("ngIf",!t.expanded||!i.isExpandable(t)),a.xp6(1),a.Q6J("ngIf",t.expanded&&i.isExpandable(t))}}let b6=(()=>{class n{constructor(){this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]}ngOnChanges(){this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(t=>{this.segments.push(this.parseKeyValue(t,this.json[t]))}):this.segments.push(this.parseKeyValue(`(${typeof this.json})`,this.json))}isExpandable(t){return"object"===t.type||"array"===t.type}toggle(t){this.isExpandable(t)&&(t.expanded=!t.expanded)}parseKeyValue(t,i){const r={key:t,value:i,type:void 0,description:""+i,expanded:this.isExpanded()};switch(typeof r.value){case"number":r.type="number";break;case"boolean":r.type="boolean";break;case"function":r.type="function";break;case"string":r.type="string",r.description='"'+r.value+'"';break;case"undefined":r.type="undefined",r.description="undefined";break;case"object":null===r.value?(r.type="null",r.description="null"):Array.isArray(r.value)?(r.type="array",r.description="Array["+r.value.length+"] "+JSON.stringify(r.value)):r.value instanceof Date?r.type="date":(r.type="object",r.description="Object "+JSON.stringify(r.value))}return r}isExpanded(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}decycle(t){const i=new WeakMap;return function r(s,u){let h,g;return"object"!=typeof s||null===s||s instanceof Boolean||s instanceof Date||s instanceof Number||s instanceof RegExp||s instanceof String?s:(h=i.get(s),void 0!==h?{$ref:h}:(i.set(s,u),Array.isArray(s)?(g=[],s.forEach(function(y,C){g[C]=r(y,u+"["+C+"]")})):(g={},Object.keys(s).forEach(function(y){g[y]=r(s[y],u+"["+JSON.stringify(y)+"]")})),g))}(t,"$")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[a.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(t,i){1&t&&(a.TgZ(0,"section",0),a.YNc(1,v6,9,11,"section",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngForOf",i.segments))},dependencies:[gn,Or,vn,n],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),n})(),w6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})();const E6=["*"];let NT;function aE(n){return function C6(){if(void 0===NT&&(NT=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(NT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return NT}()?.createHTML(n)||n}function l2(n){return Error(`Unable to find icon with the name "${n}"`)}function c2(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function u2(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tm{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let OT=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Tm(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const u=this._sanitizer.sanitize(a.q3G.HTML,r);if(!u)throw u2(r);const h=aE(u);return this._addSvgIconConfig(t,i,new Tm("",h,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Tm(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw u2(i);const u=aE(s);return this._addSvgIconSetConfig(t,new Tm("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,t);if(!i)throw c2(t);const r=this._cachedIconsByUrl.get(i);return r?lt(kT(r)):this._loadSvgIconFromConfig(new Tm(t,null)).pipe((0,Oi.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,gt.U)(s=>kT(s)))}getNamedSvgIcon(t,i=""){const r=d2(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):Go(l2(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?lt(kT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,gt.U)(i=>kT(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?lt(r):JF(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Cl(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),lt(null)})))).pipe((0,gt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw l2(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(s),h=this._extractSvgIconFromSet(u,t,s.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,Oi.b)(i=>t.svgText=i),(0,gt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?lt(null):this._fetchIcon(t).pipe((0,Oi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const u=s.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(aE("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(aE("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:u,value:h}=r[s];"id"!==u&&i.setAttribute(u,h)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,s=r?.withCredentials??!1;if(!this._httpClient)throw function D6(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!u)throw c2(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const g=this._httpClient.get(u,{responseType:"text",withCredentials:s}).pipe((0,gt.U)(y=>aE(y)),g_(()=>this._inProgressUrlFetches.delete(u)),(0,vP.B)());return this._inProgressUrlFetches.set(u,g),g}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(d2(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return S6(s)?new Tm(s.url,null,s.options):new Tm(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Qc,8),a.LFG(ua),a.LFG(X,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kT(n){return n.cloneNode(!0)}function d2(n,e){return n+":"+e}function S6(n){return!(!n.url||!n.options)}const I6=gT(class{constructor(n){this._elementRef=n}}),A6=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),M6=new a.OlP("mat-icon-location",{providedIn:"root",factory:function x6(){const n=(0,a.f3M)(X),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),h2=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],N6=h2.map(n=>`[${n}]`).join(", "),O6=/^url\(['"]?#(.*?)['"]?\)$/;let k6=(()=>{class n extends I6{constructor(t,i,r,s,u,h){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ld.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=ep(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(u=>{s.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(N6),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)h2.forEach(u=>{const h=i[s],g=h.getAttribute(u),y=g?g.match(O6):null;if(y){let C=r.get(h);C||(C=[],r.set(h,C)),C.push({name:u,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(fi(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(OT),a.$8M("aria-hidden"),a.Y36(M6),a.Y36(a.qLn),a.Y36(A6,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:E6,decls:1,vars:0,template:function(t,i){1&t&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),R6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ar,Ar]}),n})();function P6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tbody")(1,"tr")(2,"td"),a._uU(3),a.qZA(),a.TgZ(4,"td"),a._uU(5),a.qZA(),a.TgZ(6,"td"),a._uU(7),a.qZA(),a.TgZ(8,"td"),a._uU(9),a.qZA(),a.TgZ(10,"td"),a._uU(11),a.qZA(),a.TgZ(12,"td")(13,"button",2),a.NdJ("click",function(){const s=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.routeModify(s))}),a.TgZ(14,"mat-icon"),a._uU(15,"edit"),a.qZA()()(),a.TgZ(16,"td")(17,"button",3),a.NdJ("click",function(){const s=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.downloadBook(s))}),a.TgZ(18,"mat-icon"),a._uU(19,"download"),a.qZA()()(),a.TgZ(20,"td")(21,"button",4),a.NdJ("click",function(){const s=a.CHM(t).$implicit,u=a.oxw();return a.KtG(u.deleteBook(s))}),a.TgZ(22,"mat-icon"),a._uU(23,"delete"),a.qZA()()()()()}if(2&n){const t=e.$implicit;a.xp6(3),a.Oqu(t.title),a.xp6(2),a.Oqu(t.author),a.xp6(2),a.Oqu(t.yearofpublication),a.xp6(2),a.Oqu(t.genre),a.xp6(2),a.Oqu(t.pages)}}let F6=(()=>{class n{constructor(t,i){this.firestore=t,this.router=i,this.BookToBeDeleted=new a.vpe,this.BookToBeDownloaded=new a.vpe}ngOnInit(){}deleteBook(t){this.BookToBeDeleted?.emit(t)}downloadBook(t){this.BookToBeDownloaded?.emit(t)}routeModify(t){let i={queryParams:{Id:t.key}};this.firestore.selectedBook=t,this.router.navigate(["modifyBook"],i)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Gx),a.Y36(ir))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-grid"]],inputs:{books:"books"},outputs:{BookToBeDeleted:"BookToBeDeleted",BookToBeDownloaded:"BookToBeDownloaded"},decls:17,vars:1,consts:[[1,"table","table-striped"],[4,"ngFor","ngForOf"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","accent",3,"click"],["mat-flat-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(a.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th"),a._uU(4,"Title"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Author"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"Year"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Genre"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Pages"),a.qZA(),a._UZ(13,"th")(14,"th")(15,"th"),a.qZA()(),a.YNc(16,P6,24,5,"tbody",1),a.qZA()),2&t&&(a.xp6(16),a.Q6J("ngForOf",i.books))},dependencies:[Or,WF,k6]}),n})();function L6(n,e){1&n&&(a.ynx(0),a._UZ(1,"div",17)(2,"mat-progress-spinner",18),a.BQk()),2&n&&(a.xp6(2),a.Q6J("mode","indeterminate"))}let B6=(()=>{class n{constructor(t,i,r,s){this.http=t,this.loader=i,this.firestore=r,this.snackbar=s,this.loading$=this.loader.loading$,this.selectedBook={description:"",yearofpublication:1953,title:"Fahrenheit 451",key:"Hh7wAW8IrcCwDAZeS4zV",language:"Spanish",genre:"Fiction/Novel",author:"Ray Bradbury",publishinghouse:"P&J",pages:183},this.FilteredBooks=this.firestore.books}ngOnInit(){this.loader.show(),setTimeout(()=>{this.FilteredBooks=this.firestore.books,this.loader.hide()},2e3)}DownloadBook(t){let i=t;this.selectedBook=i,(0,ib.saveAs)(new Blob([JSON.stringify(i,null,2)],{type:"JSON"}),i.title+".json")}DownloadCollection(){(0,ib.saveAs)(new Blob([JSON.stringify(this.firestore.books,null,2)],{type:"JSON"}),"BookCollection.json")}DeleteBook(t){console.log(t),this.loader.show(),this.http.delete("http://mybookcollection.somee.com/api/Books/"+t.key).subscribe(r=>{this.loader.hide(),this.snackbar.open("Book deleted succesfully","OK"),console.log(r)})}searchParams(){if(""===this.searchParam)return void(this.FilteredBooks=this.firestore.books);const t=this.searchParam.toLowerCase();this.FilteredBooks=this.firestore.books.filter(i=>this.doSearch(i,t))}doSearch(t,i){if("boolean"==typeof t)return!1;if("object"==typeof t){for(let r in t)if(!this.isInBlackList(r)&&this.doSearch(t[r],i))return!0;return!1}return("string"==typeof t?t.toLocaleLowerCase():t.toString()).includes(i)}isInBlackList(t){return-1!=["description","key"].indexOf(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Qc),a.Y36(yg),a.Y36(Gx),a.Y36(oN))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-main"]],decls:30,vars:6,consts:[[4,"ngIf"],[1,"container","py-4"],[1,"mb-4","bg-light","rounded-3"],[1,"container-fluid"],[1,"display-5","fw-bold"],[1,"form"],[1,"fa","fa-search"],["type","text","placeholder","Search anything...",1,"form-control","form-input",3,"ngModel","ngModelChange"],[1,"grid-container"],[3,"books","BookToBeDeleted","BookToBeDownloaded"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-bg-dark","rounded-3"],[3,"json"],[1,"h-100","p-5","bg-light","border","rounded-3"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"pt-3","mt-4","text-muted","border-top"],[1,"overlay"],[3,"mode"]],template:function(t,i){1&t&&(a.YNc(0,L6,3,1,"ng-container",0),a.ALo(1,"async"),a.TgZ(2,"main")(3,"div",1)(4,"div",2)(5,"div",3)(6,"h1",4),a._uU(7,"Books"),a.qZA(),a.TgZ(8,"div",5),a._UZ(9,"i",6),a.TgZ(10,"input",7),a.NdJ("ngModelChange",function(s){return i.searchParam=s})("ngModelChange",function(){return i.searchParams()}),a.qZA()(),a.TgZ(11,"div",8)(12,"app-grid",9),a.NdJ("BookToBeDeleted",function(s){return i.DeleteBook(s)})("BookToBeDownloaded",function(s){return i.DownloadBook(s)}),a.qZA()()()(),a.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"h1",4),a._uU(17,"Schema"),a.qZA(),a.TgZ(18,"span"),a._UZ(19,"ngx-json-viewer",13),a.qZA()()(),a.TgZ(20,"div",11)(21,"div",14)(22,"h2",4),a._uU(23,"Download Collection"),a.qZA(),a.TgZ(24,"h5"),a._uU(25,"Thank you for taking the time to look at my book collection! Looking forward to working with you."),a.qZA(),a.TgZ(26,"button",15),a.NdJ("click",function(){return i.DownloadCollection()}),a._uU(27,"Download JSON File"),a.qZA()()()(),a.TgZ(28,"footer",16),a._uU(29," \xa9 2023 "),a.qZA()()()),2&t&&(a.Q6J("ngIf",a.lcZ(1,4,i.loading$)),a.xp6(10),a.Q6J("ngModel",i.searchParam),a.xp6(2),a.Q6J("books",i.FilteredBooks),a.xp6(7),a.Q6J("json",i.selectedBook))},dependencies:[vn,vv,vT,vN,Ul,b6,F6,Ga],styles:[".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}h5[_ngcontent-%COMP%]{font-size:larger;font-weight:500}.title-books-container[_ngcontent-%COMP%]{display:flex}.grid-container[_ngcontent-%COMP%]{overflow-y:scroll;max-height:100vh}ngx-json-viewer[_ngcontent-%COMP%]{--ngx-json-key:green}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3}.overlay[_ngcontent-%COMP%]{inset:0;position:fixed;z-index:2;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.form[_ngcontent-%COMP%]{position:relative;padding-bottom:5vh}.form[_ngcontent-%COMP%]   .fa-search[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;color:#9ca3af}.form[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;right:17px;top:13px;padding:2px;border-left:1px solid #d1d5db}.left-pan[_ngcontent-%COMP%]{padding-left:7px}.left-pan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:10px}.form-input[_ngcontent-%COMP%]{height:55px;text-indent:33px;border-radius:10px}.form-input[_ngcontent-%COMP%]:focus{box-shadow:none;border:none}"]}),n})();const V6=["*",[["mat-card-footer"]]],U6=["*","mat-card-footer"];let f2=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:U6,decls:2,vars:0,template:function(t,i){1&t&&(a.F$t(V6),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),H6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ar,Ar]}),n})(),p2=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j6=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Jd(t);return new xi.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Wt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(p2))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G6=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ep(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=oT(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(IF(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(j6),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),$6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[p2]}),n})();const z6=["connectionContainer"],Z6=["inputContainer"],q6=["label"];function W6(n,e){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function K6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function Y6(n,e){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const t=a.oxw(2);a.xp6(3),a.Oqu(t._control.placeholder)}}function Q6(n,e){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function J6(n,e){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function X6(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(t);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,Y6,4,1,"ng-container",12),a.YNc(3,Q6,1,0,"ng-content",12),a.YNc(4,J6,2,0,"span",22),a.qZA()}if(2&n){const t=a.oxw();a.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),a.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),a.uIk("for",t._control.id)("aria-owns",t._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function ez(n,e){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function tz(n,e){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function nz(n,e){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState)}}function iz(n,e){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.Q6J("id",t._hintLabelId),a.xp6(1),a.Oqu(t.hintLabel)}}function rz(n,e){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,iz,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const t=a.oxw();a.Q6J("@transitionMessages",t._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",t.hintLabel)}}const sz=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],oz=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let az=0;const g2=new a.OlP("MatError");let m2=(()=>{class n{constructor(t,i){this.id="mat-error-"+az++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(a.$8M("aria-live"),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&a.uIk("id",i.id)},inputs:{id:"id"},features:[a._Bn([{provide:g2,useExisting:n}])]}),n})();const lz={transitionMessages:Uo("transitionMessages",[wr("enter",ji({opacity:1,transform:"translateY(0%)"})),al("void => enter",[ji({opacity:0,transform:"translateY(-5px)"}),Ii("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let AN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n}),n})();const cz=new a.OlP("MatHint");let RT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const dz=new a.OlP("MatPrefix"),hz=new a.OlP("MatSuffix");let _2=0;const pz=gT(class{constructor(n){this._elementRef=n}},"primary"),gz=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),v2=new a.OlP("MatFormField");let b2=(()=>{class n extends pz{constructor(t,i,r,s,u,h,g){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Wt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+_2++,this._labelId="mat-form-field-label-"+_2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ep(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(uo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Xn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,vx.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(uo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(uo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Xn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ts(this._label.nativeElement,"transitionend").pipe(fi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const C=i.querySelectorAll(`${r}, ${s}`);for(let S=0;S<C.length;S++)C[S].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const g=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(C),k=t.children,F=this._getStartEnd(k[0].getBoundingClientRect());let V=0;for(let $=0;$<k.length;$++)V+=k[$].offsetWidth;u=Math.abs(F-S)-5,h=V>0?.75*V+10:0}for(let C=0;C<g.length;C++)g[C].style.width=`${u}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(dF,8),a.Y36(gz,8),a.Y36(Hs),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(a.Suo(r,AN,5),a.Suo(r,AN,7),a.Suo(r,RT,5),a.Suo(r,RT,7),a.Suo(r,uz,5),a.Suo(r,g2,5),a.Suo(r,cz,5),a.Suo(r,dz,5),a.Suo(r,hz,5)),2&t){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(a.Gf(z6,7),a.Gf(Z6,5),a.Gf(q6,5)),2&t){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:v2,useExisting:n}]),a.qOj],ngContentSelectors:oz,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(a.F$t(sz),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,W6,9,0,"ng-container",3),a.YNc(4,K6,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,X6,5,16,"label",8),a.qZA()(),a.YNc(10,ez,2,0,"div",9),a.qZA(),a.YNc(11,tz,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,nz,2,1,"div",12),a.YNc(14,rz,5,2,"div",13),a.qZA()()),2&t&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[vn,Jo,Do,G6],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[lz.transitionMessages]},changeDetection:0}),n})(),PT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn,Ar,$6,Ar]}),n})();const w2=dT({passive:!0});let mz=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ps.E;const i=Jd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Wt.x,u="cdk-text-field-autofilled",h=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>s.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,w2),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",h,w2)}}),s}stopMonitoring(t){const i=Jd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hs),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const _z=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),yz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let vz=0;const bz=ZG(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Wt.x}});let C2=(()=>{class n extends bz{constructor(t,i,r,s,u,h,g,y,C,S){super(h,s,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=S,this._uid="mat-input-"+vz++,this.focused=!1,this.stateChanges=new Wt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(V=>cF().has(V)),this._iOSKeyupListener=V=>{const $=V.target;!$.value&&0===$.selectionStart&&0===$.selectionEnd&&($.setSelectionRange(1,1),$.setSelectionRange(0,0))};const k=this._elementRef.nativeElement,F=k.nodeName.toLowerCase();this._inputValueAccessor=g||k,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===F,this._isTextarea="textarea"===F,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=k.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=ep(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(vi.required)??!1}set required(t){this._required=ep(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&cF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ep(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){yz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(Hs),a.Y36(Xd,10),a.Y36(AT,8),a.Y36(wv,8),a.Y36(HF),a.Y36(_z,10),a.Y36(mz),a.Y36(a.R0b),a.Y36(v2,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:AN,useExisting:n}]),a.qOj,a.TTD]}),n})(),wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[HF],imports:[E2,PT,Ar,E2,PT]}),n})();function Ez(n,e){1&n&&(a.ynx(0),a._UZ(1,"div",92)(2,"mat-progress-spinner",93),a.BQk()),2&n&&(a.xp6(2),a.Q6J("mode","indeterminate"))}function Cz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The title is required"),a.qZA())}function Dz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The author\xb4s name is required"),a.qZA())}function Tz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The publishing house is required"),a.qZA())}function Sz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The year of publication is required "),a.qZA())}function Iz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The year must be greater than 0 "),a.qZA())}function Az(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The number of pages is required "),a.qZA())}function Mz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The number of pages must be greater than 0 "),a.qZA())}function xz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The language is required "),a.qZA())}function Nz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The language must have less than 30 characters "),a.qZA())}function Oz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," At least one genre is required "),a.qZA())}function kz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," A Description is required "),a.qZA())}let Rz=(()=>{class n{constructor(t,i,r,s){this.fb=t,this.http=i,this.loader=r,this.snackbar=s,this.form=this.fb.group({title:["",vi.required],author:["",vi.required],pages:["",[vi.required,vi.min(1)]],yearofpublication:["",[vi.required,vi.min(1)]],genre:["",vi.required],description:["",vi.required],language:["",[vi.required,vi.maxLength(30)]],publishinghouse:["",vi.required]}),this.loading$=this.loader.loading$}OnSubmitBook(t){this.form.invalid?console.log(this.form.errors):(this.loader.show(),this.http.post("http://mybookcollection.somee.com/api/Books/",t).subscribe(i=>{this.loader.hide(),this.snackbar.open("Book added succesfully","OK"),console.log(i)},i=>{this.loader.hide(),this.snackbar.open("An error ocurred","DISMISS"),console.log(i)}))}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a2),a.Y36(Qc),a.Y36(yg),a.Y36(oN))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-add-book"]],decls:209,vars:15,consts:[[4,"ngIf"],[1,"row","justify-content-center"],["id","formId",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"d-flex","mb-4","justify-content-center","align-items-baseline"],[1,"display-5","fw-bold"],[1,"row"],["appearance","outline","floatLabel","always",1,"col"],["matInput","","type","text","placeholder","Title","formControlName","title"],["matInput","","type","text","placeholder","Author","formControlName","author"],["matInput","","type","text","placeholder","Publishing House","formControlName","publishinghouse"],["matInput","","type","number","placeholder","Year","formControlName","yearofpublication"],["matInput","","type","number","placeholder","Pages","formControlName","pages"],["required","","formControlName","language","matNativeControl",""],["value","","selected","","disabled","","hidden",""],["value","Afrikaans"],["value","Albanian"],["value","Arabic"],["value","Armenian"],["value","Basque"],["value","Bengali"],["value","Bulgarian"],["value","Catalan"],["value","Cambodian"],["value","Chinese (Mandarin)"],["value","Croatian"],["value","Czech"],["value","Danish"],["value","Dutch"],["value","English"],["value","Estonian"],["value","Fiji"],["value","Finnish"],["value","French"],["value","Georgian"],["value","German"],["value","Greek"],["value","Gujarati"],["value","Hebrew"],["value","Hindi"],["value","Hungarian"],["value","Icelandic"],["value","Indonesian"],["value","Irish"],["value","Italian"],["value","Japanese"],["value","Javanese"],["value","Korean"],["value","Latin"],["value","Latvian"],["value","Lithuanian"],["value","Macedonian"],["value","Malay"],["value","Malayalam"],["value","Maltese"],["value","Maori"],["value","Marathi"],["value","Mongolian"],["value","Nepali"],["value","Norwegian"],["value","Persian"],["value","Polish"],["value","Portuguese"],["value","Punjabi"],["value","Quechua"],["value","Romanian"],["value","Russian"],["value","Samoan"],["value","Serbian"],["value","Slovak"],["value","Slovenian"],["value","Spanish"],["value","Swahili"],["value","Swedish "],["value","Tamil"],["value","Tatar"],["value","Telugu"],["value","Thai"],["value","Tibetan"],["value","Tonga"],["value","Turkish"],["value","Ukrainian"],["value","Urdu"],["value","Uzbek"],["value","Vietnamese"],["value","Welsh"],["value","Xhosa"],["matInput","","type","text","placeholder","Genres","formControlName","genre"],["required","","matInput","","type","text","placeholder","Brief description","formControlName","description"],[1,"button-div"],["role","button",1,"button-48"],[1,"text"],[1,"overlay"],[3,"mode"]],template:function(t,i){if(1&t&&(a.YNc(0,Ez,3,1,"ng-container",0),a.ALo(1,"async"),a.TgZ(2,"div",1)(3,"form",2),a.NdJ("ngSubmit",function(){return i.OnSubmitBook(i.form.value)}),a.TgZ(4,"div",3)(5,"mat-card")(6,"span",4)(7,"h1",5),a._uU(8,"Add new Book"),a.qZA()(),a.TgZ(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),a._uU(12,"Title"),a.qZA(),a._UZ(13,"input",8),a.YNc(14,Cz,2,0,"mat-error",0),a.qZA()(),a.TgZ(15,"div",6)(16,"mat-form-field",7)(17,"mat-label"),a._uU(18,"Author"),a.qZA(),a._UZ(19,"input",9),a.YNc(20,Dz,2,0,"mat-error",0),a.qZA()(),a.TgZ(21,"div",6)(22,"mat-form-field",7)(23,"mat-label"),a._uU(24,"Publishing House"),a.qZA(),a._UZ(25,"input",10),a.YNc(26,Tz,2,0,"mat-error",0),a.qZA()(),a.TgZ(27,"div",6)(28,"mat-form-field",7)(29,"mat-label"),a._uU(30,"Year of Publication"),a.qZA(),a._UZ(31,"input",11),a.YNc(32,Sz,2,0,"mat-error",0),a.YNc(33,Iz,2,0,"mat-error",0),a.qZA(),a.TgZ(34,"mat-form-field",7)(35,"mat-label"),a._uU(36,"Number of pages"),a.qZA(),a._UZ(37,"input",12),a.YNc(38,Az,2,0,"mat-error",0),a.YNc(39,Mz,2,0,"mat-error",0),a.qZA(),a.TgZ(40,"mat-form-field",7)(41,"mat-label"),a._uU(42,"Language"),a.qZA(),a.TgZ(43,"select",13)(44,"option",14),a._uU(45,"Select a language..."),a.qZA(),a.TgZ(46,"option",15),a._uU(47,"Afrikaans"),a.qZA(),a.TgZ(48,"option",16),a._uU(49,"Albanian"),a.qZA(),a.TgZ(50,"option",17),a._uU(51,"Arabic"),a.qZA(),a.TgZ(52,"option",18),a._uU(53,"Armenian"),a.qZA(),a.TgZ(54,"option",19),a._uU(55,"Basque"),a.qZA(),a.TgZ(56,"option",20),a._uU(57,"Bengali"),a.qZA(),a.TgZ(58,"option",21),a._uU(59,"Bulgarian"),a.qZA(),a.TgZ(60,"option",22),a._uU(61,"Catalan"),a.qZA(),a.TgZ(62,"option",23),a._uU(63,"Cambodian"),a.qZA(),a.TgZ(64,"option",24),a._uU(65,"Chinese (Mandarin)"),a.qZA(),a.TgZ(66,"option",25),a._uU(67,"Croatian"),a.qZA(),a.TgZ(68,"option",26),a._uU(69,"Czech"),a.qZA(),a.TgZ(70,"option",27),a._uU(71,"Danish"),a.qZA(),a.TgZ(72,"option",28),a._uU(73,"Dutch"),a.qZA(),a.TgZ(74,"option",29),a._uU(75,"English"),a.qZA(),a.TgZ(76,"option",30),a._uU(77,"Estonian"),a.qZA(),a.TgZ(78,"option",31),a._uU(79,"Fiji"),a.qZA(),a.TgZ(80,"option",32),a._uU(81,"Finnish"),a.qZA(),a.TgZ(82,"option",33),a._uU(83,"French"),a.qZA(),a.TgZ(84,"option",34),a._uU(85,"Georgian"),a.qZA(),a.TgZ(86,"option",35),a._uU(87,"German"),a.qZA(),a.TgZ(88,"option",36),a._uU(89,"Greek"),a.qZA(),a.TgZ(90,"option",37),a._uU(91,"Gujarati"),a.qZA(),a.TgZ(92,"option",38),a._uU(93,"Hebrew"),a.qZA(),a.TgZ(94,"option",39),a._uU(95,"Hindi"),a.qZA(),a.TgZ(96,"option",40),a._uU(97,"Hungarian"),a.qZA(),a.TgZ(98,"option",41),a._uU(99,"Icelandic"),a.qZA(),a.TgZ(100,"option",42),a._uU(101,"Indonesian"),a.qZA(),a.TgZ(102,"option",43),a._uU(103,"Irish"),a.qZA(),a.TgZ(104,"option",44),a._uU(105,"Italian"),a.qZA(),a.TgZ(106,"option",45),a._uU(107,"Japanese"),a.qZA(),a.TgZ(108,"option",46),a._uU(109,"Javanese"),a.qZA(),a.TgZ(110,"option",47),a._uU(111,"Korean"),a.qZA(),a.TgZ(112,"option",48),a._uU(113,"Latin"),a.qZA(),a.TgZ(114,"option",49),a._uU(115,"Latvian"),a.qZA(),a.TgZ(116,"option",50),a._uU(117,"Lithuanian"),a.qZA(),a.TgZ(118,"option",51),a._uU(119,"Macedonian"),a.qZA(),a.TgZ(120,"option",52),a._uU(121,"Malay"),a.qZA(),a.TgZ(122,"option",53),a._uU(123,"Malayalam"),a.qZA(),a.TgZ(124,"option",54),a._uU(125,"Maltese"),a.qZA(),a.TgZ(126,"option",55),a._uU(127,"Maori"),a.qZA(),a.TgZ(128,"option",56),a._uU(129,"Marathi"),a.qZA(),a.TgZ(130,"option",57),a._uU(131,"Mongolian"),a.qZA(),a.TgZ(132,"option",58),a._uU(133,"Nepali"),a.qZA(),a.TgZ(134,"option",59),a._uU(135,"Norwegian"),a.qZA(),a.TgZ(136,"option",60),a._uU(137,"Persian"),a.qZA(),a.TgZ(138,"option",61),a._uU(139,"Polish"),a.qZA(),a.TgZ(140,"option",62),a._uU(141,"Portuguese"),a.qZA(),a.TgZ(142,"option",63),a._uU(143,"Punjabi"),a.qZA(),a.TgZ(144,"option",64),a._uU(145,"Quechua"),a.qZA(),a.TgZ(146,"option",65),a._uU(147,"Romanian"),a.qZA(),a.TgZ(148,"option",66),a._uU(149,"Russian"),a.qZA(),a.TgZ(150,"option",67),a._uU(151,"Samoan"),a.qZA(),a.TgZ(152,"option",68),a._uU(153,"Serbian"),a.qZA(),a.TgZ(154,"option",69),a._uU(155,"Slovak"),a.qZA(),a.TgZ(156,"option",70),a._uU(157,"Slovenian"),a.qZA(),a.TgZ(158,"option",71),a._uU(159,"Spanish"),a.qZA(),a.TgZ(160,"option",72),a._uU(161,"Swahili"),a.qZA(),a.TgZ(162,"option",73),a._uU(163,"Swedish "),a.qZA(),a.TgZ(164,"option",74),a._uU(165,"Tamil"),a.qZA(),a.TgZ(166,"option",75),a._uU(167,"Tatar"),a.qZA(),a.TgZ(168,"option",76),a._uU(169,"Telugu"),a.qZA(),a.TgZ(170,"option",77),a._uU(171,"Thai"),a.qZA(),a.TgZ(172,"option",78),a._uU(173,"Tibetan"),a.qZA(),a.TgZ(174,"option",79),a._uU(175,"Tonga"),a.qZA(),a.TgZ(176,"option",80),a._uU(177,"Turkish"),a.qZA(),a.TgZ(178,"option",81),a._uU(179,"Ukrainian"),a.qZA(),a.TgZ(180,"option",82),a._uU(181,"Urdu"),a.qZA(),a.TgZ(182,"option",83),a._uU(183,"Uzbek"),a.qZA(),a.TgZ(184,"option",84),a._uU(185,"Vietnamese"),a.qZA(),a.TgZ(186,"option",85),a._uU(187,"Welsh"),a.qZA(),a.TgZ(188,"option",86),a._uU(189,"Xhosa"),a.qZA()(),a.YNc(190,xz,2,0,"mat-error",0),a.YNc(191,Nz,2,0,"mat-error",0),a.qZA()(),a.TgZ(192,"div",6)(193,"mat-form-field",7)(194,"mat-label"),a._uU(195,"Genres"),a.qZA(),a._UZ(196,"input",87),a.YNc(197,Oz,2,0,"mat-error",0),a.qZA()(),a.TgZ(198,"div",6)(199,"mat-form-field",7)(200,"mat-label"),a._uU(201,"Description"),a.qZA(),a._UZ(202,"textarea",88),a.YNc(203,kz,2,0,"mat-error",0),a.qZA()(),a._UZ(204,"br"),a.TgZ(205,"div",89)(206,"button",90)(207,"span",91),a._uU(208,"Add Book"),a.qZA()()()()()()()),2&t){let r,s,u,h,g,y,C,S,k,F,V;a.Q6J("ngIf",a.lcZ(1,13,i.loading$)),a.xp6(3),a.Q6J("formGroup",i.form),a.xp6(11),a.Q6J("ngIf",null==(r=i.form.get("title"))?null:r.hasError("required")),a.xp6(6),a.Q6J("ngIf",null==(s=i.form.get("author"))?null:s.hasError("required")),a.xp6(6),a.Q6J("ngIf",null==(u=i.form.get("publishinghouse"))?null:u.hasError("required")),a.xp6(6),a.Q6J("ngIf",null==(h=i.form.get("yearofpublication"))?null:h.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==(g=i.form.get("yearofpublication"))?null:g.hasError("min")),a.xp6(5),a.Q6J("ngIf",null==(y=i.form.get("pages"))?null:y.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==(C=i.form.get("pages"))?null:C.hasError("min")),a.xp6(151),a.Q6J("ngIf",null==(S=i.form.get("language"))?null:S.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==(k=i.form.get("language"))?null:k.hasError("maxLength")),a.xp6(6),a.Q6J("ngIf",null==(F=i.form.get("genre"))?null:F.hasError("required")),a.xp6(6),a.Q6J("ngIf",null==(V=i.form.get("description"))?null:V.hasError("required"))}},dependencies:[vn,f2,m2,b2,RT,bN,DN,SN,vv,MT,sE,vT,uN,oE,wv,xT,C2,Ul,Ga],styles:['form[_ngcontent-%COMP%]{width:80%;align-self:center;align-content:center;justify-content:baseline}h1[_ngcontent-%COMP%]{font-family:Roboto,Helvetica Neue,sans-serif}mat-card[_ngcontent-%COMP%]{margin-bottom:2%}.button-div[_ngcontent-%COMP%]{justify-content:center;text-align:center}.button-48[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-color:#fff;border-width:0;box-sizing:border-box;color:#000;cursor:pointer;display:inline-block;font-size:14px;font-weight:700;letter-spacing:0;line-height:1em;margin:0;opacity:1;width:40%;outline:0;padding:1.5em 2.2em;position:relative;text-align:center;text-decoration:none;text-rendering:geometricprecision;text-transform:uppercase;transition:opacity .3s cubic-bezier(.2,0,.335,1),background-color .1s cubic-bezier(.2,0,.335,1),color .1s cubic-bezier(.2,0,.335,1);user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:baseline;white-space:nowrap}.button-48[_ngcontent-%COMP%]:before{animation:opacityFallbackOut .5s step-end forwards;-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:#ebebeb;clip-path:polygon(-1% 0,0 0,-25% 100%,-1% 100%);content:"";height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:clip-path .5s cubic-bezier(.165,.84,.44,1);width:100%}.button-48[_ngcontent-%COMP%]:hover:before{animation:opacityFallbackIn 0s step-start forwards;clip-path:polygon(0 0,101% 0,101% 101%,0 101%)}.button-48[_ngcontent-%COMP%]:after{background-color:#fff}.button-48[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:1;position:relative}mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3}.overlay[_ngcontent-%COMP%]{inset:0;position:fixed;z-index:2;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}']}),n})();function Pz(n,e){1&n&&(a.ynx(0),a._UZ(1,"div",92)(2,"mat-progress-spinner",93),a.BQk()),2&n&&(a.xp6(2),a.Q6J("mode","indeterminate"))}function Fz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The title is required"),a.qZA())}function Lz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The author\xb4s name is required"),a.qZA())}function Bz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The publishing house is required"),a.qZA())}function Vz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The year of publication is required "),a.qZA())}function Uz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The year must be greater than 0 "),a.qZA())}function Hz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The number of pages is required "),a.qZA())}function jz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The number of pages must be greater than 0 "),a.qZA())}function Gz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The language is required "),a.qZA())}function $z(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," The language must have less than 30 characters "),a.qZA())}function zz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," At least one genre is required "),a.qZA())}function Zz(n,e){1&n&&(a.TgZ(0,"mat-error"),a._uU(1," A Description is required "),a.qZA())}const qz=[{path:"",component:B6},{path:"addBook",component:Rz},{path:"modifyBook",component:(()=>{class n{constructor(t,i,r,s,u,h){this.firestore=t,this.route=i,this.fb=r,this.http=s,this.loader=u,this.snackbar=h,this.form=this.fb.group({key:["",vi.required],title:["",vi.required],author:["",vi.required],pages:["",[vi.required,vi.min(1)]],yearofpublication:["",[vi.required,vi.min(1)]],genre:["",vi.required],description:["",vi.required],language:["",[vi.required,vi.maxLength(30)]],publishinghouse:["",vi.required]}),this.book=null,this.loading$=this.loader.loading$,this.route.queryParams.subscribe(g=>{this.book=g.Id}),null!=this.firestore.selectedBook&&this.form.patchValue(this.firestore.selectedBook)}OnSubmitBook(t){this.form.invalid||(this.loader.show(),console.log(t),this.http.put("http://mybookcollection.somee.com/api/Books/"+t.key,t).subscribe(i=>{this.loader.hide(),this.snackbar.open("Book Modified succesfully","OK"),console.log(i)},i=>{this.loader.hide(),this.snackbar.open("An error ocurred","DISMISS"),console.log(i)}))}ngOnInit(){this.route.queryParams.subscribe(t=>{this.book=t.book})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Gx),a.Y36(gd),a.Y36(a2),a.Y36(Qc),a.Y36(yg),a.Y36(oN))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-modify-book"]],decls:210,vars:15,consts:[[4,"ngIf"],[1,"row","justify-content-center"],["id","formId",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"d-flex","mb-4","justify-content-center","align-items-baseline"],[1,"display-5","fw-bold"],[1,"row"],["appearance","outline","floatLabel","always",1,"col"],["matInput","","type","text","placeholder","Title","formControlName","title"],["matInput","","type","text","placeholder","Author","formControlName","author"],["matInput","","type","text","placeholder","Publishing House","formControlName","publishinghouse"],["matInput","","type","number","placeholder","Year","formControlName","yearofpublication"],["matInput","","type","number","placeholder","Pages","formControlName","pages"],["required","","formControlName","language","matNativeControl",""],["value","","selected","","disabled","","hidden",""],["value","Afrikaans"],["value","Albanian"],["value","Arabic"],["value","Armenian"],["value","Basque"],["value","Bengali"],["value","Bulgarian"],["value","Catalan"],["value","Cambodian"],["value","Chinese (Mandarin)"],["value","Croatian"],["value","Czech"],["value","Danish"],["value","Dutch"],["value","English"],["value","Estonian"],["value","Fiji"],["value","Finnish"],["value","French"],["value","Georgian"],["value","German"],["value","Greek"],["value","Gujarati"],["value","Hebrew"],["value","Hindi"],["value","Hungarian"],["value","Icelandic"],["value","Indonesian"],["value","Irish"],["value","Italian"],["value","Japanese"],["value","Javanese"],["value","Korean"],["value","Latin"],["value","Latvian"],["value","Lithuanian"],["value","Macedonian"],["value","Malay"],["value","Malayalam"],["value","Maltese"],["value","Maori"],["value","Marathi"],["value","Mongolian"],["value","Nepali"],["value","Norwegian"],["value","Persian"],["value","Polish"],["value","Portuguese"],["value","Punjabi"],["value","Quechua"],["value","Romanian"],["value","Russian"],["value","Samoan"],["value","Serbian"],["value","Slovak"],["value","Slovenian"],["value","Spanish"],["value","Swahili"],["value","Swedish "],["value","Tamil"],["value","Tatar"],["value","Telugu"],["value","Thai"],["value","Tibetan"],["value","Tonga"],["value","Turkish"],["value","Ukrainian"],["value","Urdu"],["value","Uzbek"],["value","Vietnamese"],["value","Welsh"],["value","Xhosa"],["matInput","","type","text","placeholder","Genres","formControlName","genre"],["required","","matInput","","type","text","placeholder","Brief description","formControlName","description"],[1,"button-div"],["role","button",1,"button-48"],[1,"text"],[1,"overlay"],[3,"mode"]],template:function(t,i){if(1&t&&(a.YNc(0,Pz,3,1,"ng-container",0),a.ALo(1,"async"),a.TgZ(2,"div",1)(3,"div",1)(4,"form",2),a.NdJ("ngSubmit",function(){return i.OnSubmitBook(i.form.value)}),a.TgZ(5,"div",3)(6,"mat-card")(7,"span",4)(8,"h1",5),a._uU(9,"Modify Book"),a.qZA()(),a.TgZ(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),a._uU(13,"Title"),a.qZA(),a._UZ(14,"input",8),a.YNc(15,Fz,2,0,"mat-error",0),a.qZA()(),a.TgZ(16,"div",6)(17,"mat-form-field",7)(18,"mat-label"),a._uU(19,"Author"),a.qZA(),a._UZ(20,"input",9),a.YNc(21,Lz,2,0,"mat-error",0),a.qZA()(),a.TgZ(22,"div",6)(23,"mat-form-field",7)(24,"mat-label"),a._uU(25,"Publishing House"),a.qZA(),a._UZ(26,"input",10),a.YNc(27,Bz,2,0,"mat-error",0),a.qZA()(),a.TgZ(28,"div",6)(29,"mat-form-field",7)(30,"mat-label"),a._uU(31,"Year of Publication"),a.qZA(),a._UZ(32,"input",11),a.YNc(33,Vz,2,0,"mat-error",0),a.YNc(34,Uz,2,0,"mat-error",0),a.qZA(),a.TgZ(35,"mat-form-field",7)(36,"mat-label"),a._uU(37,"Number of pages"),a.qZA(),a._UZ(38,"input",12),a.YNc(39,Hz,2,0,"mat-error",0),a.YNc(40,jz,2,0,"mat-error",0),a.qZA(),a.TgZ(41,"mat-form-field",7)(42,"mat-label"),a._uU(43,"Language"),a.qZA(),a.TgZ(44,"select",13)(45,"option",14),a._uU(46,"Select a language..."),a.qZA(),a.TgZ(47,"option",15),a._uU(48,"Afrikaans"),a.qZA(),a.TgZ(49,"option",16),a._uU(50,"Albanian"),a.qZA(),a.TgZ(51,"option",17),a._uU(52,"Arabic"),a.qZA(),a.TgZ(53,"option",18),a._uU(54,"Armenian"),a.qZA(),a.TgZ(55,"option",19),a._uU(56,"Basque"),a.qZA(),a.TgZ(57,"option",20),a._uU(58,"Bengali"),a.qZA(),a.TgZ(59,"option",21),a._uU(60,"Bulgarian"),a.qZA(),a.TgZ(61,"option",22),a._uU(62,"Catalan"),a.qZA(),a.TgZ(63,"option",23),a._uU(64,"Cambodian"),a.qZA(),a.TgZ(65,"option",24),a._uU(66,"Chinese (Mandarin)"),a.qZA(),a.TgZ(67,"option",25),a._uU(68,"Croatian"),a.qZA(),a.TgZ(69,"option",26),a._uU(70,"Czech"),a.qZA(),a.TgZ(71,"option",27),a._uU(72,"Danish"),a.qZA(),a.TgZ(73,"option",28),a._uU(74,"Dutch"),a.qZA(),a.TgZ(75,"option",29),a._uU(76,"English"),a.qZA(),a.TgZ(77,"option",30),a._uU(78,"Estonian"),a.qZA(),a.TgZ(79,"option",31),a._uU(80,"Fiji"),a.qZA(),a.TgZ(81,"option",32),a._uU(82,"Finnish"),a.qZA(),a.TgZ(83,"option",33),a._uU(84,"French"),a.qZA(),a.TgZ(85,"option",34),a._uU(86,"Georgian"),a.qZA(),a.TgZ(87,"option",35),a._uU(88,"German"),a.qZA(),a.TgZ(89,"option",36),a._uU(90,"Greek"),a.qZA(),a.TgZ(91,"option",37),a._uU(92,"Gujarati"),a.qZA(),a.TgZ(93,"option",38),a._uU(94,"Hebrew"),a.qZA(),a.TgZ(95,"option",39),a._uU(96,"Hindi"),a.qZA(),a.TgZ(97,"option",40),a._uU(98,"Hungarian"),a.qZA(),a.TgZ(99,"option",41),a._uU(100,"Icelandic"),a.qZA(),a.TgZ(101,"option",42),a._uU(102,"Indonesian"),a.qZA(),a.TgZ(103,"option",43),a._uU(104,"Irish"),a.qZA(),a.TgZ(105,"option",44),a._uU(106,"Italian"),a.qZA(),a.TgZ(107,"option",45),a._uU(108,"Japanese"),a.qZA(),a.TgZ(109,"option",46),a._uU(110,"Javanese"),a.qZA(),a.TgZ(111,"option",47),a._uU(112,"Korean"),a.qZA(),a.TgZ(113,"option",48),a._uU(114,"Latin"),a.qZA(),a.TgZ(115,"option",49),a._uU(116,"Latvian"),a.qZA(),a.TgZ(117,"option",50),a._uU(118,"Lithuanian"),a.qZA(),a.TgZ(119,"option",51),a._uU(120,"Macedonian"),a.qZA(),a.TgZ(121,"option",52),a._uU(122,"Malay"),a.qZA(),a.TgZ(123,"option",53),a._uU(124,"Malayalam"),a.qZA(),a.TgZ(125,"option",54),a._uU(126,"Maltese"),a.qZA(),a.TgZ(127,"option",55),a._uU(128,"Maori"),a.qZA(),a.TgZ(129,"option",56),a._uU(130,"Marathi"),a.qZA(),a.TgZ(131,"option",57),a._uU(132,"Mongolian"),a.qZA(),a.TgZ(133,"option",58),a._uU(134,"Nepali"),a.qZA(),a.TgZ(135,"option",59),a._uU(136,"Norwegian"),a.qZA(),a.TgZ(137,"option",60),a._uU(138,"Persian"),a.qZA(),a.TgZ(139,"option",61),a._uU(140,"Polish"),a.qZA(),a.TgZ(141,"option",62),a._uU(142,"Portuguese"),a.qZA(),a.TgZ(143,"option",63),a._uU(144,"Punjabi"),a.qZA(),a.TgZ(145,"option",64),a._uU(146,"Quechua"),a.qZA(),a.TgZ(147,"option",65),a._uU(148,"Romanian"),a.qZA(),a.TgZ(149,"option",66),a._uU(150,"Russian"),a.qZA(),a.TgZ(151,"option",67),a._uU(152,"Samoan"),a.qZA(),a.TgZ(153,"option",68),a._uU(154,"Serbian"),a.qZA(),a.TgZ(155,"option",69),a._uU(156,"Slovak"),a.qZA(),a.TgZ(157,"option",70),a._uU(158,"Slovenian"),a.qZA(),a.TgZ(159,"option",71),a._uU(160,"Spanish"),a.qZA(),a.TgZ(161,"option",72),a._uU(162,"Swahili"),a.qZA(),a.TgZ(163,"option",73),a._uU(164,"Swedish "),a.qZA(),a.TgZ(165,"option",74),a._uU(166,"Tamil"),a.qZA(),a.TgZ(167,"option",75),a._uU(168,"Tatar"),a.qZA(),a.TgZ(169,"option",76),a._uU(170,"Telugu"),a.qZA(),a.TgZ(171,"option",77),a._uU(172,"Thai"),a.qZA(),a.TgZ(173,"option",78),a._uU(174,"Tibetan"),a.qZA(),a.TgZ(175,"option",79),a._uU(176,"Tonga"),a.qZA(),a.TgZ(177,"option",80),a._uU(178,"Turkish"),a.qZA(),a.TgZ(179,"option",81),a._uU(180,"Ukrainian"),a.qZA(),a.TgZ(181,"option",82),a._uU(182,"Urdu"),a.qZA(),a.TgZ(183,"option",83),a._uU(184,"Uzbek"),a.qZA(),a.TgZ(185,"option",84),a._uU(186,"Vietnamese"),a.qZA(),a.TgZ(187,"option",85),a._uU(188,"Welsh"),a.qZA(),a.TgZ(189,"option",86),a._uU(190,"Xhosa"),a.qZA()(),a.YNc(191,Gz,2,0,"mat-error",0),a.YNc(192,$z,2,0,"mat-error",0),a.qZA()(),a.TgZ(193,"div",6)(194,"mat-form-field",7)(195,"mat-label"),a._uU(196,"Genres"),a.qZA(),a._UZ(197,"input",87),a.YNc(198,zz,2,0,"mat-error",0),a.qZA()(),a.TgZ(199,"div",6)(200,"mat-form-field",7)(201,"mat-label"),a._uU(202,"Description"),a.qZA(),a._UZ(203,"textarea",88),a.YNc(204,Zz,2,0,"mat-error",0),a.qZA()(),a._UZ(205,"br"),a.TgZ(206,"div",89)(207,"button",90)(208,"span",91),a._uU(209,"Modify Book"),a.qZA()()()()()()()()),2&t){let r,s,u,h,g,y,C,S,k,F,V;a.Q6J("ngIf",a.lcZ(1,13,i.loading$)),a.xp6(4),a.Q6J("formGroup",i.form),a.xp6(11),a.Q6J("ngIf",(null==(r=i.form.get("title"))?null:r.touched)&&(null==(r=i.form.get("title"))?null:r.hasError("required"))),a.xp6(6),a.Q6J("ngIf",(null==(s=i.form.get("author"))?null:s.touched)&&(null==(s=i.form.get("author"))?null:s.hasError("required"))),a.xp6(6),a.Q6J("ngIf",(null==(u=i.form.get("publishinghouse"))?null:u.touched)&&(null==(u=i.form.get("publishinghouse"))?null:u.hasError("required"))),a.xp6(6),a.Q6J("ngIf",(null==(h=i.form.get("yearofpublication"))?null:h.touched)&&(null==(h=i.form.get("yearofpublication"))?null:h.hasError("required"))),a.xp6(1),a.Q6J("ngIf",null==(g=i.form.get("yearofpublication"))?null:g.hasError("min")),a.xp6(5),a.Q6J("ngIf",(null==(y=i.form.get("pages"))?null:y.touched)&&(null==(y=i.form.get("pages"))?null:y.hasError("required"))),a.xp6(1),a.Q6J("ngIf",null==(C=i.form.get("pages"))?null:C.hasError("min")),a.xp6(151),a.Q6J("ngIf",null==(S=i.form.get("language"))?null:S.hasError("required")),a.xp6(1),a.Q6J("ngIf",null==(k=i.form.get("language"))?null:k.hasError("maxLength")),a.xp6(6),a.Q6J("ngIf",(null==(F=i.form.get("genre"))?null:F.touched)&&(null==(F=i.form.get("genre"))?null:F.hasError("required"))),a.xp6(6),a.Q6J("ngIf",(null==(V=i.form.get("description"))?null:V.touched)&&(null==(V=i.form.get("description"))?null:V.hasError("required")))}},dependencies:[vn,f2,m2,b2,RT,bN,DN,SN,vv,MT,sE,vT,uN,oE,wv,xT,C2,Ul,Ga],styles:['form[_ngcontent-%COMP%]{width:80%;align-self:center;align-content:center;justify-content:baseline}mat-card[_ngcontent-%COMP%]{margin-bottom:2%}.button-div[_ngcontent-%COMP%]{justify-content:center;text-align:center}.button-48[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-color:#fff;border-width:0;box-sizing:border-box;color:#000;cursor:pointer;display:inline-block;font-size:14px;font-weight:700;letter-spacing:0;line-height:1em;margin:0;opacity:1;width:40%;outline:0;padding:1.5em 2.2em;position:relative;text-align:center;text-decoration:none;text-rendering:geometricprecision;text-transform:uppercase;transition:opacity .3s cubic-bezier(.2,0,.335,1),background-color .1s cubic-bezier(.2,0,.335,1),color .1s cubic-bezier(.2,0,.335,1);user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:baseline;white-space:nowrap}mat-progress-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:3}.overlay[_ngcontent-%COMP%]{inset:0;position:fixed;z-index:2;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.button-48[_ngcontent-%COMP%]:before{animation:opacityFallbackOut .5s step-end forwards;-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:#ebebeb;clip-path:polygon(-1% 0,0 0,-25% 100%,-1% 100%);content:"";height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:clip-path .5s cubic-bezier(.165,.84,.44,1);width:100%}.button-48[_ngcontent-%COMP%]:hover:before{animation:opacityFallbackIn 0s step-start forwards;clip-path:polygon(0 0,101% 0,101% 101%,0 101%)}.button-48[_ngcontent-%COMP%]:after{background-color:#fff}.button-48[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:1;position:relative}']}),n})()}];let Wz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[eb.forRoot(qz),eb]}),n})(),Kz=(()=>{class n{constructor(t){this.loader=t,this.title="Szellner-Angular-App",this.loading$=this.loader.loading$}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(yg))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:17,vars:0,consts:[[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[1,"d-flex","align-items-center","text-dark","text-decoration-none"],[1,"header-div"],[1,"header-left"],["routerLink","/","src","../../assets/imgs/logo.png","width","80","viewBox","0 0 118 94","role","img",1,"me-2"],[1,"fs-4","fw-bold"],[1,"header-right"],["routerLink","","role","button",1,"button-48"],[1,"text"],["routerLink","addBook","role","button",1,"button-48"]],template:function(t,i){1&t&&(a.TgZ(0,"div",0)(1,"header",1),a._UZ(2,"link",2),a.TgZ(3,"a",3)(4,"div",4)(5,"div",5),a._UZ(6,"img",6),a.TgZ(7,"span",7),a._uU(8,"My Book Collection"),a.qZA()(),a.TgZ(9,"div",8)(10,"button",9)(11,"span",10),a._uU(12,"Home"),a.qZA()(),a.TgZ(13,"button",11)(14,"span",10),a._uU(15,"Add Book"),a.qZA()()()()()()(),a._UZ(16,"router-outlet"))},dependencies:[O0,hg],styles:['body[_ngcontent-%COMP%]{min-height:75rem}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}.button-48[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-color:#fff;border-width:0;box-sizing:border-box;color:#000;cursor:pointer;display:inline-block;font-size:14px;font-weight:700;letter-spacing:0;line-height:1em;margin:0;opacity:1;outline:0;padding:1.5em 2.2em;position:relative;text-align:right;text-decoration:none;text-rendering:geometricprecision;text-transform:uppercase;transition:opacity .3s cubic-bezier(.694,0,.335,1),background-color .1s cubic-bezier(.694,0,.335,1),color .1s cubic-bezier(.694,0,.335,1);user-select:none;-webkit-user-select:none;touch-action:manipulation;vertical-align:baseline;white-space:nowrap}.button-48[_ngcontent-%COMP%]:before{animation:opacityFallbackOut .5s step-end forwards;-webkit-backface-visibility:hidden;backface-visibility:hidden;background-color:#ebebeb;clip-path:polygon(-1% 0,0 0,-25% 100%,-1% 100%);content:"";height:100%;left:0;position:absolute;top:0;transform:translateZ(0);transition:clip-path .5s cubic-bezier(.165,.84,.44,1);width:100%}.button-48[_ngcontent-%COMP%]:hover:before{animation:opacityFallbackIn 0s step-start forwards;clip-path:polygon(0 0,101% 0,101% 101%,0 101%)}.button-48[_ngcontent-%COMP%]:after{background-color:#fff}.button-48[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{z-index:1;position:relative}.header-left[_ngcontent-%COMP%]{float:left}.header-right[_ngcontent-%COMP%]{float:right}.header-div[_ngcontent-%COMP%]{width:100%}']}),n})();const{isArray:Yz}=Array;function D2(n){return 1===n.length&&Yz(n[0])?n[0]:n}function FT(...n){const e=(0,Bc.jO)(n),t=D2(n);return t.length?new xi.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let u=0;!i.closed&&u<t.length;u++)(0,ba.Xf)(t[u]).subscribe((0,jn.x)(i,h=>{if(r[u].push(h),r.every(g=>g.length)){const g=r.map(y=>y.shift());i.next(e?e(...g):g),r.some((y,C)=>!y.length&&s[C])&&i.complete()}},()=>{s[u]=!0,!r[u].length&&i.complete()}));return()=>{r=s=null}}):ps.E}function MN(...n){const e=(0,Bc.jO)(n);return(0,tr.e)((t,i)=>{const r=n.length,s=new Array(r);let u=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,ba.Xf)(n[g]).subscribe((0,jn.x)(i,y=>{s[g]=y,!h&&!u[g]&&(u[g]=!0,(h=u.every(Uc.y))&&(u=null))},fT.Z));t.subscribe((0,jn.x)(i,g=>{if(h){const y=[g,...s];i.next(e?e(...y):y)}}))})}new xi.y(fT.Z),Math,Math,Math;const hZ=["*"],xZ=["dialog"];function HN(n){return"string"==typeof n}function Am(n){return null!=n}function Sv(n){return(n||document.body).getBoundingClientRect()}const z2={animation:!0,transitionTimerDelayMs:5},T5=()=>{},{transitionTimerDelayMs:S5}=z2,pE=new Map,Gs=(n,e,t,i)=>{let r=i.context||{};const s=pE.get(e);if(s)switch(i.runningTransition){case"continue":return ps.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),pE.delete(e)}const u=t(e,i.animation,r)||T5;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),lt(void 0).pipe(function C5(n){return e=>new xi.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new Wt.x,g=new Wt.x,y=h.pipe(function Jz(...n){return e=>ad(e,lt(...n))}(!0));pE.set(e,{transition$:h,complete:()=>{g.next(),g.complete()},context:r});const C=function D5(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const S=ts(e,"transitionend").pipe(Xn(y),Ni(({target:F})=>F===e));(function T2(...n){return 1===(n=D2(n)).length?(0,ba.Xf)(n[0]):new xi.y(function Qz(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,ba.Xf)(n[i]).subscribe((0,jn.x)(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(uT(C+S5).pipe(Xn(y)),S,g).pipe(Xn(y)).subscribe(()=>{pE.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let jT=(()=>{class n{constructor(){this.animation=z2.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),J2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Mr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Mr||(Mr={})),Mr))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const rB=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sB(n){const e=Array.from(n.querySelectorAll(rB)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let fB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn,n2]}),n})(),_B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();class Om{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let y4=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(fi(1)).subscribe(()=>{Gs(this._zone,this._el.nativeElement,(t,i)=>{i&&Sv(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Gs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(a.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),a.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class yB{close(e){}dismiss(e){}}class v4{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Wt.x,this._dismissed=new Wt.x,this._hidden=new Wt.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,u)=>{this._resolve=s,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Xn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Xn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function $2(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():lt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),FT(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var yE=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(yE||(yE={})),yE))();let b4=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new Wt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new Wt.x,this.hidden=new Wt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":HN(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(fi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},u=FT(Gs(this._zone,t,()=>t.classList.remove("show"),i),Gs(this._zone,this._dialogEl.nativeElement,()=>{},i));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};FT(Gs(this._zone,this._elRef.nativeElement,(s,u)=>{u&&Sv(s),s.classList.add("show")},t),Gs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ts(t,"keydown").pipe(Xn(this._closed$),Ni(r=>r.which===Mr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(yE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;ts(this._dialogEl.nativeElement,"mousedown").pipe(Xn(this._closed$),(0,Oi.b)(()=>i=!1),Zi(()=>ts(t,"mouseup").pipe(Xn(this._closed$),fi(1))),Ni(({target:r})=>t===r)).subscribe(()=>{i=!0}),ts(t,"click").pipe(Xn(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(yE.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=sB(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Gs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(X),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&a.Gf(xZ,7),2&t){let r;a.iGM(r=a.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(a.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),a.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),a.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:hZ,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&t&&a.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),w4=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:u}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=u),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(X))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E4=(()=>{class n{constructor(t,i,r,s,u,h){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new Wt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=ts(e,"focusin").pipe(Xn(t),(0,gt.U)(s=>s.target));ts(e,"keydown").pipe(Xn(t),Ni(s=>s.which===Mr.Tab),MN(r)).subscribe(([s,u])=>{const[h,g]=sB(e);(u===h||u===e)&&s.shiftKey&&(g.focus(),s.preventDefault()),u===g&&!s.shiftKey&&(h.focus(),s.preventDefault())}),i&&ts(e,"click").pipe(Xn(t),MN(r),(0,gt.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const s=r.container instanceof HTMLElement?r.container:Am(r.container)?this._document.querySelector(r.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new yB,g=this._getContentRef(r.injector||t,i,h,r);let y=!1!==r.backdrop?this._attachBackdrop(s):void 0,C=this._attachWindowComponent(s,g.nodes),S=new v4(C,g,y,r.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(C),S.hidden.pipe(fi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=k=>{S.close(k)},h.dismiss=k=>{S.dismiss(k)},this._applyWindowOptions(C.instance,r),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),y&&y.instance&&(this._applyBackdropOptions(y.instance,r),y.changeDetectorRef.detectChanges()),C.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,a.LMc)(y4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,a.LMc)(b4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{Am(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{Am(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s){return i?i instanceof a.Rgc?this._createFromTemplateRef(i,r):HN(i)?this._createFromString(i):this._createFromComponent(t,i,r,s):new Om([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}});return this._applicationRef.attachView(s),new Om([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new Om([[i]])}_createFromComponent(t,i,r,s){const u=a.zs3.create({providers:[{provide:yB,useValue:r}],parent:t}),h=(0,a.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:u}),g=h.location.nativeElement;return s.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new Om([[g]],h.hostView,h)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(X),a.LFG(w4),a.LFG(a.FYo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C4=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(jT))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D4=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(E4),a.LFG(C4))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[D4]}),n})(),CB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),kB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),RB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),FB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),LB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),BB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();new a.OlP("live announcer delay",{providedIn:"root",factory:function L4(){return 100}});let VB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Nn]}),n})(),UB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const B4=[Q2,J2,tB,nB,fB,_B,vB,CB,UB,NB,kB,RB,PB,FB,LB,BB,VB];let V4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[B4,Q2,J2,tB,nB,fB,_B,vB,CB,UB,NB,kB,RB,PB,FB,LB,BB,VB]}),n})();const HB_firebaseConfig={apiKey:"AIzaSyBcDaE8yWHfNT4VyULYdUBSL2-LVirOnWg",authDomain:"booksapi-dtb.firebaseapp.com",projectId:"booksapi-dtb",storageBucket:"booksapi-dtb.appspot.com",messagingSenderId:"1096063644137",appId:"1:1096063644137:web:66e76e8c6a2d461040db78"},$4={provide:new a.OlP("mat-select-scroll-strategy"),deps:[Qw],useFactory:function G4(n){return()=>n.scrollStrategies.reposition()}};let z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$4],imports:[Nn,SF,qF,Ar,Kx,PT,qF,Ar]}),n})(),Z4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[Kz]}),n.\u0275inj=a.cJS({providers:[{provide:sN,useValue:{duration:1e4}}],imports:[vc,Wz,V4,po.hO.initializeApp(HB_firebaseConfig),d3,c0(()=>function q4(){throw new Error("Function not implemented.")}()),H6,PT,n2,r2,wz,a0,KF,Z_,R6,z4,f6,QF,w6]}),n})();(0,a.G48)(),yc().bootstrapModule(Z4).catch(n=>console.error(n))},4327:function(pt,Ae){var ee;void 0!==(ee=function(){"use strict";function re(H,j,K){var Oe=new XMLHttpRequest;Oe.open("GET",H),Oe.responseType="blob",Oe.onload=function(){de(Oe.response,j,K)},Oe.onerror=function(){console.error("could not download file")},Oe.send()}function oe(H){var j=new XMLHttpRequest;j.open("HEAD",H,!1);try{j.send()}catch{}return 200<=j.status&&299>=j.status}function ue(H){try{H.dispatchEvent(new MouseEvent("click"))}catch{var j=document.createEvent("MouseEvents");j.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),H.dispatchEvent(j)}}var X="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,ge=X.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),de=X.saveAs||("object"!=typeof window||window!==X?function(){}:"download"in HTMLAnchorElement.prototype&&!ge?function(H,j,K){var Oe=X.URL||X.webkitURL,Ce=document.createElement("a");Ce.download=j=j||H.name||"download",Ce.rel="noopener","string"==typeof H?(Ce.href=H,Ce.origin===location.origin?ue(Ce):oe(Ce.href)?re(H,j,K):ue(Ce,Ce.target="_blank")):(Ce.href=Oe.createObjectURL(H),setTimeout(function(){Oe.revokeObjectURL(Ce.href)},4e4),setTimeout(function(){ue(Ce)},0))}:"msSaveOrOpenBlob"in navigator?function(H,j,K){if(j=j||H.name||"download","string"!=typeof H)navigator.msSaveOrOpenBlob(function B(H,j){return typeof j>"u"?j={autoBom:!1}:"object"!=typeof j&&(console.warn("Deprecated: Expected third argument to be a object"),j={autoBom:!j}),j.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(H.type)?new Blob(["\ufeff",H],{type:H.type}):H}(H,K),j);else if(oe(H))re(H,j,K);else{var Oe=document.createElement("a");Oe.href=H,Oe.target="_blank",setTimeout(function(){ue(Oe)})}}:function(H,j,K,Oe){if((Oe=Oe||open("","_blank"))&&(Oe.document.title=Oe.document.body.innerText="downloading..."),"string"==typeof H)return re(H,j,K);var Ce="application/octet-stream"===H.type,Te=/constructor/i.test(X.HTMLElement)||X.safari,it=/CriOS\/[\d]+/.test(navigator.userAgent);if((it||Ce&&Te||ge)&&typeof FileReader<"u"){var ve=new FileReader;ve.onloadend=function(){var ft=ve.result;ft=it?ft:ft.replace(/^data:[^;]*;/,"data:attachment/file;"),Oe?Oe.location.href=ft:location=ft,Oe=null},ve.readAsDataURL(H)}else{var he=X.URL||X.webkitURL,et=he.createObjectURL(H);Oe?Oe.location=et:location.href=et,Oe=null,setTimeout(function(){he.revokeObjectURL(et)},4e4)}});X.saveAs=de.saveAs=de,pt.exports=de}.apply(Ae,[]))&&(pt.exports=ee)},9751:(pt,Ae,L)=>{"use strict";L.d(Ae,{y:()=>ge});var a=L(930),ee=L(727),B=L(8822),re=L(9635),oe=L(2416),ue=L(576),X=L(2806);let ge=(()=>{class K{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Te=new K;return Te.source=this,Te.operator=Ce,Te}subscribe(Ce,Te,it){const ve=function j(K){return K&&K instanceof a.Lv||function H(K){return K&&(0,ue.m)(K.next)&&(0,ue.m)(K.error)&&(0,ue.m)(K.complete)}(K)&&(0,ee.Nn)(K)}(Ce)?Ce:new a.Hp(Ce,Te,it);return(0,X.x)(()=>{const{operator:he,source:et}=this;ve.add(he?he.call(ve,et):et?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Te){Ce.error(Te)}}forEach(Ce,Te){return new(Te=de(Te))((it,ve)=>{const he=new a.Hp({next:et=>{try{Ce(et)}catch(ft){ve(ft),he.unsubscribe()}},error:ve,complete:it});this.subscribe(he)})}_subscribe(Ce){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Ce)}[B.L](){return this}pipe(...Ce){return(0,re.U)(Ce)(this)}toPromise(Ce){return new(Ce=de(Ce))((Te,it)=>{let ve;this.subscribe(he=>ve=he,he=>it(he),()=>Te(ve))})}}return K.create=Oe=>new K(Oe),K})();function de(K){var Oe;return null!==(Oe=K??oe.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(pt,Ae,L)=>{"use strict";L.d(Ae,{x:()=>X});var a=L(9751),ee=L(727);const re=(0,L(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=L(8737),ue=L(2806);let X=(()=>{class de extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new ge(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new re}next(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:Oe,observers:Ce}=this;return K||Oe?ee.Lc:(this.currentObservers=null,Ce.push(j),new ee.w0(()=>{this.currentObservers=null,(0,oe.P)(Ce,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:Oe,isStopped:Ce}=this;K?j.error(Oe):Ce&&j.complete()}asObservable(){const j=new a.y;return j.source=this,j}}return de.create=(H,j)=>new ge(H,j),de})();class ge extends X{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,H)}error(H){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==K?K:ee.Lc}}},930:(pt,Ae,L)=>{"use strict";L.d(Ae,{Hp:()=>it,Lv:()=>K});var a=L(576),ee=L(727),B=L(2416),re=L(7849),oe=L(5032);const ue=de("C",void 0,void 0);function de(Me,be,Se){return{kind:Me,value:be,error:Se}}var H=L(3410),j=L(2806);class K extends ee.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,ee.Nn)(be)&&be.add(this)):this.destination=ft}static create(be,Se,Ze){return new it(be,Se,Ze)}next(be){this.isStopped?et(function ge(Me){return de("N",Me,void 0)}(be),this):this._next(be)}error(be){this.isStopped?et(function X(Me){return de("E",void 0,Me)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?et(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Ce(Me,be){return Oe.call(Me,be)}class Te{constructor(be){this.partialObserver=be}next(be){const{partialObserver:Se}=this;if(Se.next)try{Se.next(be)}catch(Ze){ve(Ze)}}error(be){const{partialObserver:Se}=this;if(Se.error)try{Se.error(be)}catch(Ze){ve(Ze)}else ve(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(Se){ve(Se)}}}class it extends K{constructor(be,Se,Ze){let qe;if(super(),(0,a.m)(be)||!be)qe={next:be??void 0,error:Se??void 0,complete:Ze??void 0};else{let q;this&&B.v.useDeprecatedNextContext?(q=Object.create(be),q.unsubscribe=()=>this.unsubscribe(),qe={next:be.next&&Ce(be.next,q),error:be.error&&Ce(be.error,q),complete:be.complete&&Ce(be.complete,q)}):qe=be}this.destination=new Te(qe)}}function ve(Me){B.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Me):(0,re.h)(Me)}function et(Me,be){const{onStoppedNotification:Se}=B.v;Se&&H.z.setTimeout(()=>Se(Me,be))}const ft={closed:!0,next:oe.Z,error:function he(Me){throw Me},complete:oe.Z}},727:(pt,Ae,L)=>{"use strict";L.d(Ae,{Lc:()=>ue,w0:()=>oe,Nn:()=>X});var a=L(576);const B=(0,L(3888).d)(de=>function(j){de(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,Oe)=>`${Oe+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var re=L(8737);class oe{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ce of j)Ce.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,a.m)(K))try{K()}catch(Ce){H=Ce instanceof B?Ce.errors:[Ce]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Ce of Oe)try{ge(Ce)}catch(Te){H=H??[],Te instanceof B?H=[...H,...Te.errors]:H.push(Te)}}if(H)throw new B(H)}}add(H){var j;if(H&&H!==this)if(this.closed)ge(H);else{if(H instanceof oe){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,re.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,re.P)(j,H),H instanceof oe&&H._removeParent(this)}}oe.EMPTY=(()=>{const de=new oe;return de.closed=!0,de})();const ue=oe.EMPTY;function X(de){return de instanceof oe||de&&"closed"in de&&(0,a.m)(de.remove)&&(0,a.m)(de.add)&&(0,a.m)(de.unsubscribe)}function ge(de){(0,a.m)(de)?de():de.unsubscribe()}},2416:(pt,Ae,L)=>{"use strict";L.d(Ae,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Ae,L)=>{"use strict";L.d(Ae,{E:()=>ee});const ee=new(L(9751).y)(oe=>oe.complete())},8996:(pt,Ae,L)=>{"use strict";L.d(Ae,{D:()=>be});var a=L(8421),ee=L(5363),B=L(9468),ue=L(9751),ge=L(2202),de=L(576),H=L(9672);function K(Se,Ze){if(!Se)throw new Error("Iterable cannot be null");return new ue.y(qe=>{(0,H.f)(qe,Ze,()=>{const q=Se[Symbol.asyncIterator]();(0,H.f)(qe,Ze,()=>{q.next().then(_e=>{_e.done?qe.complete():qe.next(_e.value)})},0,!0)})})}var Oe=L(3670),Ce=L(8239),Te=L(1144),it=L(6495),ve=L(2206),he=L(4532),et=L(3260);function be(Se,Ze){return Ze?function Me(Se,Ze){if(null!=Se){if((0,Oe.c)(Se))return function re(Se,Ze){return(0,a.Xf)(Se).pipe((0,B.R)(Ze),(0,ee.Q)(Ze))}(Se,Ze);if((0,Te.z)(Se))return function X(Se,Ze){return new ue.y(qe=>{let q=0;return Ze.schedule(function(){q===Se.length?qe.complete():(qe.next(Se[q++]),qe.closed||this.schedule())})})}(Se,Ze);if((0,Ce.t)(Se))return function oe(Se,Ze){return(0,a.Xf)(Se).pipe((0,B.R)(Ze),(0,ee.Q)(Ze))}(Se,Ze);if((0,ve.D)(Se))return K(Se,Ze);if((0,it.T)(Se))return function j(Se,Ze){return new ue.y(qe=>{let q;return(0,H.f)(qe,Ze,()=>{q=Se[ge.h](),(0,H.f)(qe,Ze,()=>{let _e,$e;try{({value:_e,done:$e}=q.next())}catch(at){return void qe.error(at)}$e?qe.complete():qe.next(_e)},0,!0)}),()=>(0,de.m)(q?.return)&&q.return()})}(Se,Ze);if((0,et.L)(Se))return function ft(Se,Ze){return K((0,et.Q)(Se),Ze)}(Se,Ze)}throw(0,he.z)(Se)}(Se,Ze):(0,a.Xf)(Se)}},8421:(pt,Ae,L)=>{"use strict";L.d(Ae,{Xf:()=>Oe});var a=L(655),ee=L(1144),B=L(8239),re=L(9751),oe=L(3670),ue=L(2206),X=L(4532),ge=L(6495),de=L(3260),H=L(576),j=L(7849),K=L(8822);function Oe(Me){if(Me instanceof re.y)return Me;if(null!=Me){if((0,oe.c)(Me))return function Ce(Me){return new re.y(be=>{const Se=Me[K.L]();if((0,H.m)(Se.subscribe))return Se.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,ee.z)(Me))return function Te(Me){return new re.y(be=>{for(let Se=0;Se<Me.length&&!be.closed;Se++)be.next(Me[Se]);be.complete()})}(Me);if((0,B.t)(Me))return function it(Me){return new re.y(be=>{Me.then(Se=>{be.closed||(be.next(Se),be.complete())},Se=>be.error(Se)).then(null,j.h)})}(Me);if((0,ue.D)(Me))return he(Me);if((0,ge.T)(Me))return function ve(Me){return new re.y(be=>{for(const Se of Me)if(be.next(Se),be.closed)return;be.complete()})}(Me);if((0,de.L)(Me))return function et(Me){return he((0,de.Q)(Me))}(Me)}throw(0,X.z)(Me)}function he(Me){return new re.y(be=>{(function ft(Me,be){var Se,Ze,qe,q;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Se=(0,a.KL)(Me);!(Ze=yield Se.next()).done;)if(be.next(Ze.value),be.closed)return}catch(_e){qe={error:_e}}finally{try{Ze&&!Ze.done&&(q=Se.return)&&(yield q.call(Se))}finally{if(qe)throw qe.error}}be.complete()})})(Me,be).catch(Se=>be.error(Se))})}},6451:(pt,Ae,L)=>{"use strict";L.d(Ae,{T:()=>ue});var a=L(8189),ee=L(8421),B=L(515),re=L(3269),oe=L(8996);function ue(...X){const ge=(0,re.yG)(X),de=(0,re._6)(X,1/0),H=X;return H.length?1===H.length?(0,ee.Xf)(H[0]):(0,a.J)(de)((0,oe.D)(H,ge)):B.E}},5403:(pt,Ae,L)=>{"use strict";L.d(Ae,{x:()=>ee});var a=L(930);function ee(re,oe,ue,X,ge){return new B(re,oe,ue,X,ge)}class B extends a.Lv{constructor(oe,ue,X,ge,de,H){super(oe),this.onFinalize=de,this.shouldUnsubscribe=H,this._next=ue?function(j){try{ue(j)}catch(K){oe.error(K)}}:super._next,this._error=ge?function(j){try{ge(j)}catch(K){oe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(pt,Ae,L)=>{"use strict";L.d(Ae,{U:()=>B});var a=L(4482),ee=L(5403);function B(re,oe){return(0,a.e)((ue,X)=>{let ge=0;ue.subscribe((0,ee.x)(X,de=>{X.next(re.call(oe,de,ge++))}))})}},8189:(pt,Ae,L)=>{"use strict";L.d(Ae,{J:()=>B});var a=L(5577),ee=L(4671);function B(re=1/0){return(0,a.z)(ee.y,re)}},5577:(pt,Ae,L)=>{"use strict";L.d(Ae,{z:()=>ge});var a=L(4004),ee=L(8421),B=L(4482),re=L(9672),oe=L(5403),X=L(576);function ge(de,H,j=1/0){return(0,X.m)(H)?ge((K,Oe)=>(0,a.U)((Ce,Te)=>H(K,Ce,Oe,Te))((0,ee.Xf)(de(K,Oe))),j):("number"==typeof H&&(j=H),(0,B.e)((K,Oe)=>function ue(de,H,j,K,Oe,Ce,Te,it){const ve=[];let he=0,et=0,ft=!1;const Me=()=>{ft&&!ve.length&&!he&&H.complete()},be=Ze=>he<K?Se(Ze):ve.push(Ze),Se=Ze=>{Ce&&H.next(Ze),he++;let qe=!1;(0,ee.Xf)(j(Ze,et++)).subscribe((0,oe.x)(H,q=>{Oe?.(q),Ce?be(q):H.next(q)},()=>{qe=!0},void 0,()=>{if(qe)try{for(he--;ve.length&&he<K;){const q=ve.shift();Te?(0,re.f)(H,Te,()=>Se(q)):Se(q)}Me()}catch(q){H.error(q)}}))};return de.subscribe((0,oe.x)(H,be,()=>{ft=!0,Me()})),()=>{it?.()}}(K,Oe,de,j)))}},5363:(pt,Ae,L)=>{"use strict";L.d(Ae,{Q:()=>re});var a=L(9672),ee=L(4482),B=L(5403);function re(oe,ue=0){return(0,ee.e)((X,ge)=>{X.subscribe((0,B.x)(ge,de=>(0,a.f)(ge,oe,()=>ge.next(de),ue),()=>(0,a.f)(ge,oe,()=>ge.complete(),ue),de=>(0,a.f)(ge,oe,()=>ge.error(de),ue)))})}},3099:(pt,Ae,L)=>{"use strict";L.d(Ae,{B:()=>oe});var a=L(8421),ee=L(7579),B=L(930),re=L(4482);function oe(X={}){const{connector:ge=(()=>new ee.x),resetOnError:de=!0,resetOnComplete:H=!0,resetOnRefCountZero:j=!0}=X;return K=>{let Oe,Ce,Te,it=0,ve=!1,he=!1;const et=()=>{Ce?.unsubscribe(),Ce=void 0},ft=()=>{et(),Oe=Te=void 0,ve=he=!1},Me=()=>{const be=Oe;ft(),be?.unsubscribe()};return(0,re.e)((be,Se)=>{it++,!he&&!ve&&et();const Ze=Te=Te??ge();Se.add(()=>{it--,0===it&&!he&&!ve&&(Ce=ue(Me,j))}),Ze.subscribe(Se),!Oe&&it>0&&(Oe=new B.Hp({next:qe=>Ze.next(qe),error:qe=>{he=!0,et(),Ce=ue(ft,de,qe),Ze.error(qe)},complete:()=>{ve=!0,et(),Ce=ue(ft,H),Ze.complete()}}),(0,a.Xf)(be).subscribe(Oe))})(K)}}function ue(X,ge,...de){if(!0===ge)return void X();if(!1===ge)return;const H=new B.Hp({next:()=>{H.unsubscribe(),X()}});return ge(...de).subscribe(H)}},9468:(pt,Ae,L)=>{"use strict";L.d(Ae,{R:()=>ee});var a=L(4482);function ee(B,re=0){return(0,a.e)((oe,ue)=>{ue.add(B.schedule(()=>oe.subscribe(ue),re))})}},8505:(pt,Ae,L)=>{"use strict";L.d(Ae,{b:()=>oe});var a=L(576),ee=L(4482),B=L(5403),re=L(4671);function oe(ue,X,ge){const de=(0,a.m)(ue)||X||ge?{next:ue,error:X,complete:ge}:ue;return de?(0,ee.e)((H,j)=>{var K;null===(K=de.subscribe)||void 0===K||K.call(de);let Oe=!0;H.subscribe((0,B.x)(j,Ce=>{var Te;null===(Te=de.next)||void 0===Te||Te.call(de,Ce),j.next(Ce)},()=>{var Ce;Oe=!1,null===(Ce=de.complete)||void 0===Ce||Ce.call(de),j.complete()},Ce=>{var Te;Oe=!1,null===(Te=de.error)||void 0===Te||Te.call(de,Ce),j.error(Ce)},()=>{var Ce,Te;Oe&&(null===(Ce=de.unsubscribe)||void 0===Ce||Ce.call(de)),null===(Te=de.finalize)||void 0===Te||Te.call(de)}))}):re.y}},4408:(pt,Ae,L)=>{"use strict";L.d(Ae,{o:()=>oe});var a=L(727);class ee extends a.w0{constructor(X,ge){super()}schedule(X,ge=0){return this}}const B={setInterval(ue,X,...ge){const{delegate:de}=B;return de?.setInterval?de.setInterval(ue,X,...ge):setInterval(ue,X,...ge)},clearInterval(ue){const{delegate:X}=B;return(X?.clearInterval||clearInterval)(ue)},delegate:void 0};var re=L(8737);class oe extends ee{constructor(X,ge){super(X,ge),this.scheduler=X,this.work=ge,this.pending=!1}schedule(X,ge=0){var de;if(this.closed)return this;this.state=X;const H=this.id,j=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(j,H,ge)),this.pending=!0,this.delay=ge,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(j,this.id,ge),this}requestAsyncId(X,ge,de=0){return B.setInterval(X.flush.bind(X,this),de)}recycleAsyncId(X,ge,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ge;null!=ge&&B.clearInterval(ge)}execute(X,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(X,ge);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(X,ge){let H,de=!1;try{this.work(X)}catch(j){de=!0,H=j||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:X,scheduler:ge}=this,{actions:de}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(de,this),null!=X&&(this.id=this.recycleAsyncId(ge,X,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,Ae,L)=>{"use strict";L.d(Ae,{v:()=>B});var a=L(6063);class ee{constructor(oe,ue=ee.now){this.schedulerActionCtor=oe,this.now=ue}schedule(oe,ue=0,X){return new this.schedulerActionCtor(this,oe).schedule(X,ue)}}ee.now=a.l.now;class B extends ee{constructor(oe,ue=ee.now){super(oe,ue),this.actions=[],this._active=!1}flush(oe){const{actions:ue}=this;if(this._active)return void ue.push(oe);let X;this._active=!0;do{if(X=oe.execute(oe.state,oe.delay))break}while(oe=ue.shift());if(this._active=!1,X){for(;oe=ue.shift();)oe.unsubscribe();throw X}}}},4986:(pt,Ae,L)=>{"use strict";L.d(Ae,{P:()=>re,z:()=>B});var a=L(4408);const B=new(L(7565).v)(a.o),re=B},6063:(pt,Ae,L)=>{"use strict";L.d(Ae,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(pt,Ae,L)=>{"use strict";L.d(Ae,{z:()=>a});const a={setTimeout(ee,B,...re){const{delegate:oe}=a;return oe?.setTimeout?oe.setTimeout(ee,B,...re):setTimeout(ee,B,...re)},clearTimeout(ee){const{delegate:B}=a;return(B?.clearTimeout||clearTimeout)(ee)},delegate:void 0}},2202:(pt,Ae,L)=>{"use strict";L.d(Ae,{h:()=>ee});const ee=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Ae,L)=>{"use strict";L.d(Ae,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(pt,Ae,L)=>{"use strict";L.d(Ae,{_6:()=>ue,jO:()=>re,yG:()=>oe});var a=L(576),ee=L(3532);function B(X){return X[X.length-1]}function re(X){return(0,a.m)(B(X))?X.pop():void 0}function oe(X){return(0,ee.K)(B(X))?X.pop():void 0}function ue(X,ge){return"number"==typeof B(X)?X.pop():ge}},8737:(pt,Ae,L)=>{"use strict";function a(ee,B){if(ee){const re=ee.indexOf(B);0<=re&&ee.splice(re,1)}}L.d(Ae,{P:()=>a})},3888:(pt,Ae,L)=>{"use strict";function a(ee){const re=ee(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}L.d(Ae,{d:()=>a})},2806:(pt,Ae,L)=>{"use strict";L.d(Ae,{O:()=>re,x:()=>B});var a=L(2416);let ee=null;function B(oe){if(a.v.useDeprecatedSynchronousErrorHandling){const ue=!ee;if(ue&&(ee={errorThrown:!1,error:null}),oe(),ue){const{errorThrown:X,error:ge}=ee;if(ee=null,X)throw ge}}else oe()}function re(oe){a.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=oe)}},9672:(pt,Ae,L)=>{"use strict";function a(ee,B,re,oe=0,ue=!1){const X=B.schedule(function(){re(),ue?ee.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ee.add(X),!ue)return X}L.d(Ae,{f:()=>a})},4671:(pt,Ae,L)=>{"use strict";function a(ee){return ee}L.d(Ae,{y:()=>a})},1144:(pt,Ae,L)=>{"use strict";L.d(Ae,{z:()=>a});const a=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(pt,Ae,L)=>{"use strict";L.d(Ae,{D:()=>ee});var a=L(576);function ee(B){return Symbol.asyncIterator&&(0,a.m)(B?.[Symbol.asyncIterator])}},576:(pt,Ae,L)=>{"use strict";function a(ee){return"function"==typeof ee}L.d(Ae,{m:()=>a})},3670:(pt,Ae,L)=>{"use strict";L.d(Ae,{c:()=>B});var a=L(8822),ee=L(576);function B(re){return(0,ee.m)(re[a.L])}},6495:(pt,Ae,L)=>{"use strict";L.d(Ae,{T:()=>B});var a=L(2202),ee=L(576);function B(re){return(0,ee.m)(re?.[a.h])}},8239:(pt,Ae,L)=>{"use strict";L.d(Ae,{t:()=>ee});var a=L(576);function ee(B){return(0,a.m)(B?.then)}},3260:(pt,Ae,L)=>{"use strict";L.d(Ae,{L:()=>re,Q:()=>B});var a=L(655),ee=L(576);function B(oe){return(0,a.FC)(this,arguments,function*(){const X=oe.getReader();try{for(;;){const{value:ge,done:de}=yield(0,a.qq)(X.read());if(de)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ge)}}finally{X.releaseLock()}})}function re(oe){return(0,ee.m)(oe?.getReader)}},3532:(pt,Ae,L)=>{"use strict";L.d(Ae,{K:()=>ee});var a=L(576);function ee(B){return B&&(0,a.m)(B.schedule)}},4482:(pt,Ae,L)=>{"use strict";L.d(Ae,{A:()=>ee,e:()=>B});var a=L(576);function ee(re){return(0,a.m)(re?.lift)}function B(re){return oe=>{if(ee(oe))return oe.lift(function(ue){try{return re(ue,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(pt,Ae,L)=>{"use strict";function a(){}L.d(Ae,{Z:()=>a})},9635:(pt,Ae,L)=>{"use strict";L.d(Ae,{U:()=>B,z:()=>ee});var a=L(4671);function ee(...re){return B(re)}function B(re){return 0===re.length?a.y:1===re.length?re[0]:function(ue){return re.reduce((X,ge)=>ge(X),ue)}}},7849:(pt,Ae,L)=>{"use strict";L.d(Ae,{h:()=>B});var a=L(2416),ee=L(3410);function B(re){ee.z.setTimeout(()=>{const{onUnhandledError:oe}=a.v;if(!oe)throw re;oe(re)})}},4532:(pt,Ae,L)=>{"use strict";function a(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Ae,{z:()=>a})},655:(pt,Ae,L)=>{"use strict";function re(le,me){var De={};for(var Pe in le)Object.prototype.hasOwnProperty.call(le,Pe)&&me.indexOf(Pe)<0&&(De[Pe]=le[Pe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Pe=Object.getOwnPropertySymbols(le);Le<Pe.length;Le++)me.indexOf(Pe[Le])<0&&Object.prototype.propertyIsEnumerable.call(le,Pe[Le])&&(De[Pe[Le]]=le[Pe[Le]])}return De}function K(le,me,De,Pe){return new(De||(De=Promise))(function(Ie,_t){function $t(ln){try{rt(Pe.next(ln))}catch(Mt){_t(Mt)}}function un(ln){try{rt(Pe.throw(ln))}catch(Mt){_t(Mt)}}function rt(ln){ln.done?Ie(ln.value):function Le(Ie){return Ie instanceof De?Ie:new De(function(_t){_t(Ie)})}(ln.value).then($t,un)}rt((Pe=Pe.apply(le,me||[])).next())})}function Me(le){return this instanceof Me?(this.v=le,this):new Me(le)}function be(le,me,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Pe=De.apply(le,me||[]),Ie=[];return Le={},_t("next"),_t("throw"),_t("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function _t(Rt){Pe[Rt]&&(Le[Rt]=function(Fi){return new Promise(function(Dn,Mn){Ie.push([Rt,Fi,Dn,Mn])>1||$t(Rt,Fi)})})}function $t(Rt,Fi){try{!function un(Rt){Rt.value instanceof Me?Promise.resolve(Rt.value.v).then(rt,ln):Mt(Ie[0][2],Rt)}(Pe[Rt](Fi))}catch(Dn){Mt(Ie[0][3],Dn)}}function rt(Rt){$t("next",Rt)}function ln(Rt){$t("throw",Rt)}function Mt(Rt,Fi){Rt(Fi),Ie.shift(),Ie.length&&$t(Ie[0][0],Ie[0][1])}}function Ze(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,me=le[Symbol.asyncIterator];return me?me.call(le):(le=function it(le){var me="function"==typeof Symbol&&Symbol.iterator,De=me&&le[me],Pe=0;if(De)return De.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Pe>=le.length&&(le=void 0),{value:le&&le[Pe++],done:!le}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),De={},Pe("next"),Pe("throw"),Pe("return"),De[Symbol.asyncIterator]=function(){return this},De);function Pe(Ie){De[Ie]=le[Ie]&&function(_t){return new Promise(function($t,un){!function Le(Ie,_t,$t,un){Promise.resolve(un).then(function(rt){Ie({value:rt,done:$t})},_t)}($t,un,(_t=le[Ie](_t)).done,_t.value)})}}}L.d(Ae,{FC:()=>be,KL:()=>Ze,_T:()=>re,mG:()=>K,qq:()=>Me})},4650:(pt,Ae,L)=>{"use strict";L.d(Ae,{$8M:()=>Ec,$Z:()=>KE,AFp:()=>Pf,ALo:()=>Sf,AaK:()=>ge,BQk:()=>uf,CHM:()=>ic,CRH:()=>jg,CZH:()=>Ny,CqO:()=>TC,D6c:()=>y1,EJc:()=>oA,EiD:()=>o0,EpF:()=>DC,F$t:()=>MC,F4k:()=>J0,FYo:()=>p_,FiY:()=>ot,G48:()=>fA,Gf:()=>zb,GfV:()=>uo,Gpc:()=>j,Hsn:()=>xC,Ikx:()=>J_,JOm:()=>$i,JVY:()=>Vr,KtG:()=>rc,L6k:()=>wl,LAX:()=>Vp,LFG:()=>Wn,LMc:()=>CA,LSH:()=>hi,Lbi:()=>nw,Lck:()=>Ob,MAs:()=>Y0,MGl:()=>G_,MMx:()=>kb,NdJ:()=>SC,O4$:()=>Pu,OlP:()=>En,Oqu:()=>hb,PXZ:()=>o1,Q6J:()=>lf,QGY:()=>Q0,QP$:()=>Pt,QbO:()=>Rs,Qsj:()=>PE,QtT:()=>Mb,R0b:()=>Ps,RDi:()=>v,Rgc:()=>Af,SBq:()=>ps,SDv:()=>gy,Sil:()=>Zg,Suo:()=>Zb,TTD:()=>vs,TgZ:()=>Al,Tol:()=>LC,Udp:()=>mg,VKq:()=>AD,W1O:()=>GD,WFA:()=>df,WLB:()=>MD,X6Q:()=>hA,XFs:()=>st,Xpm:()=>xe,Xts:()=>c0,Y36:()=>pd,YKP:()=>nu,YNc:()=>yC,Yjl:()=>Q,Yz7:()=>rt,Z0I:()=>Fi,ZZ4:()=>qy,_Bn:()=>Ag,_UZ:()=>wC,_Vd:()=>qp,_c5:()=>_1,_uU:()=>DI,aQg:()=>mw,c2e:()=>sA,cJS:()=>Mt,cg1:()=>go,d8E:()=>hr,dDg:()=>Ud,dqk:()=>yn,eBb:()=>c_,eFA:()=>an,ekj:()=>Qc,eoX:()=>Py,f3M:()=>T,g9A:()=>tw,h0i:()=>Na,hGG:()=>$d,hij:()=>Z_,iGM:()=>$b,ifc:()=>Dt,ip1:()=>_o,jDz:()=>Oa,kEZ:()=>Pb,kL8:()=>ZC,lG2:()=>G,lcZ:()=>Bb,lqb:()=>Vc,lri:()=>Vd,mCW:()=>Lc,n5z:()=>Ts,oAB:()=>Qt,oxw:()=>eb,pB0:()=>Up,pQV:()=>Md,q3G:()=>zi,q4F:()=>Ni,qLn:()=>xs,qOj:()=>$0,qZA:()=>cf,qzn:()=>co,rWj:()=>Ry,s9C:()=>tb,sBO:()=>Uy,sIi:()=>Jh,s_b:()=>Bg,soG:()=>Oy,tb:()=>e1,tp0:()=>vt,uIk:()=>dg,vHH:()=>Te,vpe:()=>ka,wAp:()=>Lt,xp6:()=>Gc,ynx:()=>fg,z2F:()=>By,z3N:()=>di,zSh:()=>xi,zs3:()=>dd});var a=L(7579),ee=L(727),B=L(9751),re=L(6451),oe=L(3099);function ue(o){for(let l in o)if(o[l]===ue)return l;throw Error("Could not find renamed property on target object.")}function X(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function ge(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ge).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function de(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const H=ue({__forward_ref__:ue});function j(o){return o.__forward_ref__=j,o.toString=function(){return ge(this())},o}function K(o){return Oe(o)?o():o}function Oe(o){return"function"==typeof o&&o.hasOwnProperty(H)&&o.__forward_ref__===j}class Te extends Error{constructor(l,c){super(function it(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function ve(o){return"string"==typeof o?o:null==o?"":String(o)}function be(o,l){throw new Te(-201,!1)}function Ie(o,l,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}function rt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Mt(o){return{providers:o.providers||[],imports:o.imports||[]}}function Rt(o){return Dn(o,is)||Dn(o,Zr)}function Fi(o){return null!==Rt(o)}function Dn(o,l){return o.hasOwnProperty(l)?o[l]:null}function mr(o){return o&&(o.hasOwnProperty(_r)||o.hasOwnProperty(Yo))?o[_r]:null}const is=ue({\u0275prov:ue}),_r=ue({\u0275inj:ue}),Zr=ue({ngInjectableDef:ue}),Yo=ue({ngInjectorDef:ue});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Ki;function Ei(o){const l=Ki;return Ki=o,l}function Nr(o,l,c){const d=Rt(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&st.Optional?null:void 0!==l?l:void be(ge(o))}function Ln(o){return{toString:o}.toString()}var ai=(()=>((ai=ai||{})[ai.OnPush=0]="OnPush",ai[ai.Default=1]="Default",ai))(),Dt=(()=>{return(o=Dt||(Dt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Dt;var o})();const yn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bi={},jt=[],zs=ue({\u0275cmp:ue}),dn=ue({\u0275dir:ue}),os=ue({\u0275pipe:ue}),hn=ue({\u0275mod:ue}),Ci=ue({\u0275fac:ue}),lr=ue({__NG_ELEMENT_ID__:ue});let ht=0;function xe(o){return Ln(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||jt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Dt.Emulated,id:"c"+ht++,styles:o.styles||jt,_:null,setInput:null,schemas:o.schemas||null,tView:null},_=o.dependencies,b=o.features;return f.inputs=z(o.inputs,d),f.outputs=z(o.outputs),b&&b.forEach(E=>E(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(Vt).filter(Gt):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(Qe).filter(Gt):null,f})}function Vt(o){return ce(o)||ne(o)}function Gt(o){return null!==o}function Qt(o){return Ln(()=>({type:o.type,bootstrap:o.bootstrap||jt,declarations:o.declarations||jt,imports:o.imports||jt,exports:o.exports||jt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function z(o,l){if(null==o)return Bi;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),c[f]=d,l&&(l[f]=_)}return c}const G=xe;function Q(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function ce(o){return o[zs]||null}function ne(o){return o[dn]||null}function Qe(o){return o[os]||null}function Pt(o){const l=ce(o)||ne(o)||Qe(o);return null!==l&&l.standalone}function en(o,l){const c=o[hn]||null;if(!c&&!0===l)throw new Error(`Type ${ge(o)} does not have '\u0275mod' property.`);return c}function Di(o){return Array.isArray(o)&&"object"==typeof o[1]}function cr(o){return Array.isArray(o)&&!0===o[1]}function Jo(o){return 0!=(8&o.flags)}function Do(o){return 2==(2&o.flags)}function bu(o){return 1==(1&o.flags)}function Qi(o){return null!==o.template}function sp(o){return 0!=(256&o[2])}function ls(o,l){return o.hasOwnProperty(Ci)?o[Ci]:null}class ys{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function vs(){return So}function So(o){return o.type.prototype.ngOnChanges&&(o.setInput=ql),$a}function $a(){const o=lp(this),l=o?.current;if(l){const c=o.previous;if(c===Bi)o.previous=l;else for(let d in l)c[d]=l[d];o.current=null,this.ngOnChanges(l)}}function ql(o,l,c,d){const f=lp(o)||function Nn(o,l){return o[Cu]=l}(o,{previous:Bi,current:null}),_=f.current||(f.current={}),b=f.previous,E=this.declaredInputs[c],D=b[E];_[E]=new ys(D&&D.currentValue,l,b===Bi),o[d]=l}vs.ngInherit=!0;const Cu="__ngSimpleChanges__";function lp(o){return o[Cu]||null}function Bn(o){for(;Array.isArray(o);)o=o[0];return o}function Rr(o,l){return Bn(l[o])}function Ji(o,l){return Bn(l[o.index])}function Io(o,l){return o.data[l]}function ws(o,l){return o[l]}function on(o,l){const c=l[o];return Di(c)?c:c[0]}function Ao(o){return 64==(64&o[2])}function Wr(o,l){return null==l?null:o[l]}function Xl(o){o[18]=0}function Pn(o,l){o[5]+=l;let c=o,d=o[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Ht={lFrame:ku(null),bindingsEnabled:!0};function Es(){return Ht.bindingsEnabled}function Ne(){return Ht.lFrame.lView}function tn(){return Ht.lFrame.tView}function ic(o){return Ht.lFrame.contextLView=o,o[8]}function rc(o){return Ht.lFrame.contextLView=null,o}function Vn(){let o=sc();for(;null!==o&&64===o.type;)o=o.parent;return o}function sc(){return Ht.lFrame.currentTNode}function ea(){const o=Ht.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}function Pr(o,l){const c=Ht.lFrame;c.currentTNode=o,c.isParent=l}function Za(){return Ht.lFrame.isParent}function qa(){Ht.lFrame.isParent=!1}function Un(){const o=Ht.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function Mo(){return Ht.lFrame.bindingIndex++}function Cs(o){const l=Ht.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}function Ka(o){Ht.lFrame.inI18n=o}function jm(o,l){const c=Ht.lFrame;c.bindingIndex=c.bindingRootIndex=o,oc(l)}function oc(o){Ht.lFrame.currentDirectiveIndex=o}function Ya(o){const l=Ht.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function xu(){return Ht.lFrame.currentQueryIndex}function Qa(o){Ht.lFrame.currentQueryIndex=o}function Nu(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function ac(o,l,c){if(c&st.SkipSelf){let f=l,_=o;for(;!(f=f.parent,null!==f||c&st.Host||(f=Nu(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;l=f,o=_}const d=Ht.lFrame=Ou();return d.currentTNode=l,d.lView=o,!0}function lc(o){const l=Ou(),c=o[1];Ht.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Ou(){const o=Ht.lFrame,l=null===o?null:o.child;return null===l?ku(o):l}function ku(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function Ru(){const o=Ht.lFrame;return Ht.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const ch=Ru;function xo(){const o=Ru();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ci(){return Ht.lFrame.selectedIndex}function vr(o){Ht.lFrame.selectedIndex=o}function wn(){const o=Ht.lFrame;return Io(o.tView,o.selectedIndex)}function Pu(){Ht.lFrame.currentNamespace="svg"}function dc(o,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const _=o.data[c].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:M,ngOnDestroy:N}=_;b&&(o.contentHooks||(o.contentHooks=[])).push(-c,b),E&&((o.contentHooks||(o.contentHooks=[])).push(c,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,E)),D&&(o.viewHooks||(o.viewHooks=[])).push(-c,D),M&&((o.viewHooks||(o.viewHooks=[])).push(c,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,M)),null!=N&&(o.destroyHooks||(o.destroyHooks=[])).push(c,N)}}function Oo(o,l,c){na(o,l,3,c)}function ta(o,l,c,d){(3&o[2])===c&&na(o,l,c,d)}function dh(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function na(o,l,c,d){const _=d??-1,b=l.length-1;let E=0;for(let D=void 0!==d?65535&o[18]:0;D<b;D++)if("number"==typeof l[D+1]){if(E=l[D],null!=d&&E>=d)break}else l[D]<0&&(o[18]+=65536),(E<_||-1==_)&&(hh(o,c,l,D),o[18]=(4294901760&o[18])+D+2),D++}function hh(o,l,c,d){const f=c[d]<0,_=c[d+1],E=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class Xs{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ia(o,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const _=c[d++],b=c[d++],E=c[d++];o.setAttribute(l,b,E,_)}else{const _=f,b=c[++d];gc(_)?o.setProperty(l,_,b):o.setAttribute(l,_,b),d++}}return d}function Po(o){return 3===o||4===o||6===o}function gc(o){return 64===o.charCodeAt(0)}function Ja(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||ph(o,c,f,null,-1===c||2===c?l[++d]:null)}}return o}function ph(o,l,c,d,f){let _=0,b=o.length;if(-1===l)b=-1;else for(;_<o.length;){const E=o[_++];if("number"==typeof E){if(E===l){b=-1;break}if(E>l){b=_-1;break}}}for(;_<o.length;){const E=o[_];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==f&&(o[_+1]=f));if(d===o[_+1])return void(o[_+2]=f)}_++,null!==d&&_++,null!==f&&_++}-1!==b&&(o.splice(b,0,l),_=b+1),o.splice(_++,0,c),null!==d&&o.splice(_++,0,d),null!==f&&o.splice(_++,0,f)}function gh(o){return-1!==o}function Ti(o){return 32767&o}function el(o,l){let c=function Xa(o){return o>>16}(o),d=l;for(;c>0;)d=d[15],c--;return d}let us=!0;function tl(o){const l=us;return us=o,l}let qn=0;const Kr={};function Fo(o,l){const c=_c(o,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(o.injectorIndex=l.length,il(d.data,o),il(l,null),il(d.blueprint,null));const f=yc(o,l),_=o.injectorIndex;if(gh(f)){const b=Ti(f),E=el(f,l),D=E[1].data;for(let M=0;M<8;M++)l[_+M]=E[b+M]|D[b+M]}return l[_+8]=f,_}function il(o,l){o.push(0,0,0,0,0,0,0,0,l)}function _c(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function yc(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=oa(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function eo(o,l,c){!function mc(o,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(lr)&&(d=c[lr]),null==d&&(d=c[lr]=qn++);const f=255&d;l.data[o+(f>>5)]|=1<<f}(o,l,c)}function to(o,l,c){if(c&st.Optional||void 0!==o)return o;be()}function vc(o,l,c,d){if(c&st.Optional&&void 0===d&&(d=null),0==(c&(st.Self|st.Host))){const f=o[9],_=Ei(void 0);try{return f?f.get(l,d,c&st.Optional):Nr(l,d,c&st.Optional)}finally{Ei(_)}}return to(d,0,c)}function Lo(o,l,c,d=st.Default,f){if(null!==o){if(1024&l[2]){const b=function sa(o,l,c,d,f){let _=o,b=l;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const E=rl(_,b,c,d|st.Self,Kr);if(E!==Kr)return E;let D=_.parent;if(!D){const M=b[21];if(M){const N=M.get(c,Kr,d);if(N!==Kr)return N}D=oa(b),b=b[15]}_=D}return f}(o,l,c,d,Kr);if(b!==Kr)return b}const _=rl(o,l,c,d,Kr);if(_!==Kr)return _}return vc(l,c,d,f)}function rl(o,l,c,d,f){const _=function Vu(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(lr)?o[lr]:void 0;return"number"==typeof l?l>=0?255&l:Uu:l}(c);if("function"==typeof _){if(!ac(l,o,d))return d&st.Host?to(f,0,d):vc(l,c,d,f);try{const b=_(d);if(null!=b||d&st.Optional)return b;be()}finally{ch()}}else if("number"==typeof _){let b=null,E=_c(o,l),D=-1,M=d&st.Host?l[16][6]:null;for((-1===E||d&st.SkipSelf)&&(D=-1===E?yc(o,l):l[E+8],-1!==D&&sl(d,!1)?(b=l[1],E=Ti(D),l=el(D,l)):E=-1);-1!==E;){const N=l[1];if(bc(_,E,N.data)){const P=yh(E,l,c,b,d,M);if(P!==Kr)return P}D=l[E+8],-1!==D&&sl(d,l[1].data[E+8]===M)&&bc(_,E,l)?(b=N,E=Ti(D),l=el(D,l)):E=-1}}return f}function yh(o,l,c,d,f,_){const b=l[1],E=b.data[o+8],N=ra(E,b,c,null==d?Do(E)&&us:d!=b&&0!=(3&E.type),f&st.Host&&_===E);return null!==N?Ds(l,b,N,E):Kr}function ra(o,l,c,d,f){const _=o.providerIndexes,b=l.data,E=1048575&_,D=o.directiveStart,N=_>>20,W=f?E+N:o.directiveEnd;for(let ie=d?E:E+N;ie<W;ie++){const ye=b[ie];if(ie<D&&c===ye||ie>=D&&ye.type===c)return ie}if(f){const ie=b[D];if(ie&&Qi(ie)&&ie.type===c)return D}return null}function Ds(o,l,c,d){let f=o[c];const _=l.data;if(function ko(o){return o instanceof Xs}(f)){const b=f;b.resolving&&function et(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Te(-200,`Circular dependency in DI detected for ${o}${c}`)}(function he(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ve(o)}(_[c]));const E=tl(b.canSeeViewProviders);b.resolving=!0;const D=b.injectImpl?Ei(b.injectImpl):null;ac(o,d,st.Default);try{f=o[c]=b.factory(void 0,_,o,d),l.firstCreatePass&&c>=d.directiveStart&&function uh(o,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:_}=l.type.prototype;if(d){const b=So(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,b),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,b)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),_&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,_),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,_))}(c,_[c],l)}finally{null!==D&&Ei(D),tl(E),b.resolving=!1,ch()}}return f}function bc(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function sl(o,l){return!(o&st.Self||o&st.Host&&l)}class Bo{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Lo(this._tNode,this._lView,l,d,c)}}function Uu(){return new Bo(Vn(),Ne())}function Ts(o){return Ln(()=>{const l=o.prototype.constructor,c=l[Ci]||wc(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const _=f[Ci]||wc(f);if(_&&_!==c)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function wc(o){return Oe(o)?()=>{const l=wc(K(o));return l&&l()}:ls(o)}function oa(o){const l=o[1],c=l.type;return 2===c?l.declTNode:1===c?o[6]:null}function Ec(o){return function _h(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const _=c[f];if(Po(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(_===l)return c[f+1];f+=2}}}return null}(Vn(),o)}const no="__parameters__";function ca(o,l,c){return Ln(()=>{const d=function Cc(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(l);function f(..._){if(this instanceof f)return d.apply(this,_),this;const b=new f(..._);return E.annotation=b,E;function E(D,M,N){const P=D.hasOwnProperty(no)?D[no]:Object.defineProperty(D,no,{value:[]})[no];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(b),D}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class En{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ii(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(l===o&&(l=o.slice(0,c)),Ii(d,l)):l!==o&&l.push(d)}return l}function ds(o,l){o.forEach(c=>Array.isArray(c)?ds(c,l):l(c))}function Hu(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function ji(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function wr(o,l){const c=[];for(let d=0;d<o;d++)c.push(l);return c}function Fr(o,l,c){let d=Lr(o,l);return d>=0?o[1|d]=c:(d=~d,function vh(o,l,c,d){let f=o.length;if(f==l)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=c,o[l+1]=d}}(o,d,l,c)),d}function ha(o,l){const c=Lr(o,l);if(c>=0)return o[1|c]}function Lr(o,l){return function Ho(o,l,c){let d=0,f=o.length>>c;for(;f!==d;){const _=d+(f-d>>1),b=o[_<<c];if(l===b)return _<<c;b>l?f=_:d=_+1}return~(f<<c)}(o,l,1)}const hs={},Gu="__NG_DI_FLAG__",Ac="ngTempTokenPath",$u=/\n/gm,mp="__source";let pa;function ro(o){const l=pa;return pa=o,l}function Eh(o,l=st.Default){if(void 0===pa)throw new Te(-203,!1);return null===pa?Nr(o,void 0,l):pa.get(o,l&st.Optional?null:void 0,l)}function Wn(o,l=st.Default){return(function rs(){return Ki}()||Eh)(K(o),l)}function T(o,l=st.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Wn(o,l)}function I(o){const l=[];for(let c=0;c<o.length;c++){const d=K(o[c]);if(Array.isArray(d)){if(0===d.length)throw new Te(900,!1);let f,_=st.Default;for(let b=0;b<d.length;b++){const E=d[b],D=U(E);"number"==typeof D?-1===D?f=E.token:_|=D:f=E}l.push(Wn(f,_))}else l.push(Wn(d))}return l}function O(o,l){return o[Gu]=l,o.prototype[Gu]=l,o}function U(o){return o[Gu]}const ot=O(ca("Optional"),8),vt=O(ca("SkipSelf"),4);var $i=(()=>(($i=$i||{})[$i.Important=1]="Important",$i[$i.DashCase=2]="DashCase",$i))();const Sh=/^>|^->|<!--|-->|--!>|<!-$/g,Ih=/(<|>)/;const qu=new Map;let Xm=0;const As="__ngContext__";function er(o,l){Di(l)?(o[As]=l[20],function _a(o){qu.set(o[20],o)}(l)):o[As]=l}let Ip;function Ap(o,l){return Ip(o,l)}function oo(o){const l=o[3];return cr(l)?l[3]:l}function Ku(o){return Yu(o[13])}function ya(o){return Yu(o[4])}function Yu(o){for(;null!==o&&!cr(o);)o=o[4];return o}function ao(o,l,c,d,f){if(null!=d){let _,b=!1;cr(d)?_=d:Di(d)&&(b=!0,d=d[0]);const E=Bn(d);0===o&&null!==c?null==f?s_(l,c,E):lo(l,c,E,f||null,!0):1===o&&null!==c?lo(l,c,E,f||null,!0):2===o?l_(l,E,b):3===o&&l.destroyNode(E),null!=_&&function Fp(o,l,c,d,f){const _=c[7];_!==Bn(c)&&ao(l,o,d,_,f);for(let E=10;E<c.length;E++){const D=c[E];Fc(D[1],D,o,l,d,_)}}(l,o,_,c,f)}}function Mp(o,l){return o.createText(l)}function xh(o,l,c){o.setValue(l,c)}function i_(o,l){return o.createComment(function kc(o){return o.replace(Sh,l=>l.replace(Ih,"\u200b$1\u200b"))}(l))}function Nh(o,l,c){return o.createElement(l,c)}function Ju(o,l){const c=o[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Pn(f,-1)),c.splice(d,1)}function Xu(o,l){if(o.length<=10)return;const c=10+l,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&Ju(f,d),l>0&&(o[c-1][4]=d[4]);const _=ji(o,10+l);!function qv(o,l){Fc(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const b=_[19];null!==b&&b.detachView(_[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function ed(o,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&Fc(o,l,c,3,null,null),function Yv(o){let l=o[13];if(!l)return xp(o[1],o);for(;l;){let c=null;if(Di(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==o;)Di(l)&&xp(l[1],l),l=l[3];null===l&&(l=o),Di(l)&&xp(l[1],l),c=l&&l[4]}l=c}}(l)}}function xp(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function r_(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Xs)){const _=c[d+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const E=f[_[b]],D=_[b+1];try{D.call(E)}finally{}}else try{_.call(f)}finally{}}}}(o,l),function Qv(o,l){const c=o.cleanup,d=l[7];let f=-1;if(null!==c)for(let _=0;_<c.length-1;_+=2)if("string"==typeof c[_]){const b=c[_+1],E="function"==typeof b?b(l):Bn(l[b]),D=d[f=c[_+2]],M=c[_+3];"boolean"==typeof M?E.removeEventListener(c[_],D,M):M>=0?d[f=M]():d[f=-M].unsubscribe(),_+=2}else{const b=d[f=c[_+1]];c[_].call(b)}if(null!==d){for(let _=f+1;_<d.length;_++)(0,d[_])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&cr(l[3])){c!==l[3]&&Ju(c,l);const d=l[19];null!==d&&d.detachView(o)}!function t_(o){qu.delete(o[20])}(l)}}function Oh(o,l,c){return kh(o,l.parent,c)}function kh(o,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===Dt.None||f===Dt.Emulated)return null}return Ji(d,c)}function lo(o,l,c,d,f){o.insertBefore(l,c,d,f)}function s_(o,l,c){o.appendChild(l,c)}function yl(o,l,c,d,f){null!==d?lo(o,l,c,d,f):s_(o,l,c)}function va(o,l){return o.parentNode(l)}function o_(o,l,c){return Pc(o,l,c)}function kp(o,l,c){return 40&o.type?Ji(o,c):null}let a_,nd,Lp,Pc=kp;function Rp(o,l){Pc=o,a_=l}function Rh(o,l,c,d){const f=Oh(o,d,l),_=l[11],E=o_(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let D=0;D<c.length;D++)yl(_,f,c[D],E,!1);else yl(_,f,c,E,!1);void 0!==a_&&a_(_,d,l,c,f)}function fs(o,l){if(null!==l){const c=l.type;if(3&c)return Ji(l,o);if(4&c)return Ph(-1,o[l.index]);if(8&c){const d=l.child;if(null!==d)return fs(o,d);{const f=o[l.index];return cr(f)?Ph(-1,f):Bn(f)}}if(32&c)return Ap(l,o)()||Bn(o[l.index]);{const d=td(o,l);return null!==d?Array.isArray(d)?d[0]:fs(oo(o[16]),d):fs(o,l.next)}}return null}function td(o,l){return null!==l?o[16][6].projection[l.projection]:null}function Ph(o,l){const c=10+o+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return fs(d,f)}return l[7]}function l_(o,l,c){const d=va(o,l);d&&function Np(o,l,c,d){o.removeChild(l,c,d)}(o,d,l,c)}function Pp(o,l,c,d,f,_,b){for(;null!=c;){const E=d[c.index],D=c.type;if(b&&0===l&&(E&&er(Bn(E),d),c.flags|=4),64!=(64&c.flags))if(8&D)Pp(o,l,c.child,d,f,_,!1),ao(l,o,f,E,_);else if(32&D){const M=Ap(c,d);let N;for(;N=M();)ao(l,o,f,N,_);ao(l,o,f,E,_)}else 16&D?Fh(o,l,d,c,f,_):ao(l,o,f,E,_);c=b?c.projectionNext:c.next}}function Fc(o,l,c,d,f,_){Pp(c,d,o.firstChild,l,f,_,!1)}function Fh(o,l,c,d,f,_){const b=c[16],D=b[6].projection[d.projection];if(Array.isArray(D))for(let M=0;M<D.length;M++)ao(l,o,f,D[M],_);else Pp(o,l,D,b[3],f,_,!0)}function Ms(o,l,c){o.setAttribute(l,"style",c)}function vl(o,l,c){""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c)}function bl(o){return function id(){if(void 0===nd&&(nd=null,yn.trustedTypes))try{nd=yn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return nd}()?.createHTML(o)||o}function v(o){Lp=o}class fe{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ze extends fe{getTypeName(){return"HTML"}}class ct extends fe{getTypeName(){return"Style"}}class Ft extends fe{getTypeName(){return"Script"}}class St extends fe{getTypeName(){return"URL"}}class Ai extends fe{getTypeName(){return"ResourceURL"}}function di(o){return o instanceof fe?o.changingThisBreaksApplicationSecurity:o}function co(o,l){const c=function Bp(o){return o instanceof fe&&o.getTypeName()||null}(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Vr(o){return new ze(o)}function wl(o){return new ct(o)}function c_(o){return new Ft(o)}function Vp(o){return new St(o)}function Up(o){return new Ai(o)}function Hp(o){const l=new sd(o);return function t0(){try{return!!(new window.DOMParser).parseFromString(bl(""),"text/html")}catch{return!1}}()?new Lh(l):l}class Lh{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(bl(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class sd{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=bl(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=bl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const b=c.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const jp=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Lc(o){return(o=String(o)).match(jp)?o:"unsafe:"+o}function El(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function Bh(...o){const l={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const TE=El("area,br,col,hr,img,wbr"),SE=El("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),IE=El("rp,rt"),u_=Bh(TE,Bh(SE,El("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bh(IE,El("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bh(IE,SE)),r0=El("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),AE=Bh(r0,El("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),El("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),XT=El("script,style,template");class eS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!u_.hasOwnProperty(c))return this.sanitizedSomething=!0,!XT.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const _=d.item(f),b=_.name,E=b.toLowerCase();if(!AE.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let D=_.value;r0[E]&&(D=Lc(D)),this.buf.push(" ",b,'="',s0(D),'"')}return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();u_.hasOwnProperty(c)&&!TE.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(s0(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const tS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nS=/([^\#-~ |!])/g;function s0(o){return o.replace(/&/g,"&amp;").replace(tS,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(nS,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Vh;function o0(o,l){let c=null;try{Vh=Vh||Hp(o);let d=l?String(l):"";c=Vh.getInertBodyElement(d);let f=5,_=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=_,_=c.innerHTML,c=Vh.getInertBodyElement(d)}while(d!==_);return bl((new eS).sanitizeChildren(a0(c)||c))}finally{if(c){const d=a0(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function a0(o){return"content"in o&&function eO(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var zi=(()=>((zi=zi||{})[zi.NONE=0]="NONE",zi[zi.HTML=1]="HTML",zi[zi.STYLE=2]="STYLE",zi[zi.SCRIPT=3]="SCRIPT",zi[zi.URL=4]="URL",zi[zi.RESOURCE_URL=5]="RESOURCE_URL",zi))();function hi(o){const l=function zp(){const o=Ne();return o&&o[12]}();return l?l.sanitize(zi.URL,o)||"":co(o,"URL")?di(o):Lc(ve(o))}const c0=new En("ENVIRONMENT_INITIALIZER"),oS=new En("INJECTOR",-1),aS=new En("INJECTOR_DEF_TYPES");class lS{get(l,c=hs){if(c===hs){const d=new Error(`NullInjectorError: No provider for ${ge(l)}!`);throw d.name="NullInjectorError",d}return c}}function sO(...o){return{\u0275providers:cS(0,o)}}function cS(o,...l){const c=[],d=new Set;let f;return ds(l,_=>{const b=_;ME(b,c,[],d)&&(f||(f=[]),f.push(b))}),void 0!==f&&uS(f,c),c}function uS(o,l){for(let c=0;c<o.length;c++){const{providers:f}=o[c];ds(f,_=>{l.push(_)})}}function ME(o,l,c,d){if(!(o=K(o)))return!1;let f=null,_=mr(o);const b=!_&&ce(o);if(_||b){if(b&&!b.standalone)return!1;f=o}else{const D=o.ngModule;if(_=mr(D),!_)return!1;f=D}const E=d.has(f);if(b){if(E)return!1;if(d.add(f),b.dependencies){const D="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const M of D)ME(M,l,c,d)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let M;d.add(f);try{ds(_.imports,N=>{ME(N,l,c,d)&&(M||(M=[]),M.push(N))})}finally{}void 0!==M&&uS(M,l)}if(!E){const M=ls(f)||(()=>new f);l.push({provide:f,useFactory:M,deps:jt},{provide:aS,useValue:f,multi:!0},{provide:c0,useValue:()=>Wn(f),multi:!0})}const D=_.providers;null==D||E||ds(D,N=>{l.push(N)})}}return f!==o&&void 0!==o.providers}const Bc=ue({provide:String,useValue:ue});function lt(o){return null!==o&&"object"==typeof o&&Bc in o}function od(o){return"function"==typeof o}const xi=new En("Set Injector scope."),h_={},dS={};let u0;function f_(){return void 0===u0&&(u0=new lS),u0}class Vc{}class xE extends Vc{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,d0(l,b=>this.processProvider(b)),this.records.set(oS,Hc(void 0,this)),f.has("environment")&&this.records.set(Vc,Hc(void 0,this));const _=this.records.get(xi);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(aS.multi,jt,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=ro(this),d=Ei(void 0);try{return l()}finally{ro(c),Ei(d)}}get(l,c=hs,d=st.Default){this.assertNotDestroyed();const f=ro(this),_=Ei(void 0);try{if(!(d&st.SkipSelf)){let E=this.records.get(l);if(void 0===E){const D=function fS(o){return"function"==typeof o||"object"==typeof o&&o instanceof En}(l)&&Rt(l);E=D&&this.injectableDefInScope(D)?Hc(Uc(l),h_):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(d&st.Self?f_():this.parent).get(l,c=d&st.Optional&&c===hs?null:c)}catch(b){if("NullInjectorError"===b.name){if((b[Ac]=b[Ac]||[]).unshift(ge(l)),f)throw b;return function J(o,l,c,d){const f=o[Ac];throw l[mp]&&f.unshift(l[mp]),o.message=function se(o,l,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ge(l);if(Array.isArray(l))f=l.map(ge).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let E=l[b];_.push(b+":"+("string"==typeof E?JSON.stringify(E):ge(E)))}f=`{${_.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace($u,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[Ac]=null,o}(b,l,"R3InjectorError",this.source)}throw b}finally{Ei(_),ro(f)}}resolveInjectorInitializers(){const l=ro(this),c=Ei(void 0);try{const d=this.get(c0.multi,jt,st.Self);for(const f of d)f()}finally{ro(l),Ei(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(ge(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(l){let c=od(l=K(l))?l:K(l&&l.provide);const d=function hS(o){return lt(o)?Hc(void 0,o.useValue):Hc(NE(o),h_)}(l);if(od(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Hc(void 0,h_,!0),f.factory=()=>I(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===h_&&(c.value=dS,c.value=c.factory()),"object"==typeof c.value&&c.value&&function jn(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=K(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Uc(o){const l=Rt(o),c=null!==l?l.factory:ls(o);if(null!==c)return c;if(o instanceof En)throw new Te(204,!1);if(o instanceof Function)return function gt(o){const l=o.length;if(l>0)throw wr(l,"?"),new Te(204,!1);const c=function Mn(o){const l=o&&(o[is]||o[Zr]);if(l){const c=function Fn(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Te(204,!1)}function NE(o,l,c){let d;if(od(o)){const f=K(o);return ls(f)||Uc(f)}if(lt(o))d=()=>K(o.useValue);else if(function Mi(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...I(o.deps||[]));else if(function Wt(o){return!(!o||!o.useExisting)}(o))d=()=>Wn(K(o.useExisting));else{const f=K(o&&(o.useClass||o.provide));if(!function OE(o){return!!o.deps}(o))return ls(f)||Uc(f);d=()=>new f(...I(o.deps))}return d}function Hc(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function Zp(o){return!!o.\u0275providers}function d0(o,l){for(const c of o)Array.isArray(c)?d0(c,l):Zp(c)?d0(c.\u0275providers,l):l(c)}class Uh{}class RE{resolveComponentFactory(l){throw function pS(o){const l=Error(`No component factory found for ${ge(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let qp=(()=>{class o{}return o.NULL=new RE,o})();function wa(){return Go(Vn(),Ne())}function Go(o,l){return new ps(Ji(o,l))}let ps=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=wa,o})();function ld(o){return o instanceof ps?o.nativeElement:o}class p_{}let PE=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Zi(){const o=Ne(),c=on(Vn().index,o);return(Di(c)?c:o)[11]}(),o})(),fi=(()=>{class o{}return o.\u0275prov=rt({token:o,providedIn:"root",factory:()=>null}),o})();class uo{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Ni=new uo("14.2.12"),nr={};function h0(o){return o.ngOriginalError}class xs{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&h0(l);for(;c&&h0(c);)c=h0(c);return c||null}}function Ea(o){return o instanceof Function?o():o}function BE(o,l,c){let d=o.length;for(;;){const f=o.indexOf(l,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const _=l.length;if(f+_===d||o.charCodeAt(f+_)<=32)return f}c=f+1}}const p0="ng-template";function VE(o,l,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==BE(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function g0(o){return 4===o.type&&o.value!==p0}function lO(o,l,c){return l===(4!==o.type||c?o.value:p0)}function Cr(o,l,c){let d=4;const f=o.attrs||[],_=function HE(o){for(let l=0;l<o.length;l++)if(Po(o[l]))return l;return o.length}(f);let b=!1;for(let E=0;E<l.length;E++){const D=l[E];if("number"!=typeof D){if(!b)if(4&d){if(d=2|1&d,""!==D&&!lO(o,D,c)||""===D&&1===l.length){if(ur(d))return!1;b=!0}}else{const M=8&d?D:l[++E];if(8&d&&null!==o.attrs){if(!VE(o.attrs,M,c)){if(ur(d))return!1;b=!0}continue}const P=m0(8&d?"class":D,f,g0(o),c);if(-1===P){if(ur(d))return!1;b=!0;continue}if(""!==M){let W;W=P>_?"":f[P+1].toLowerCase();const ie=8&d?W:null;if(ie&&-1!==BE(ie,M,0)||2&d&&M!==W){if(ur(d))return!1;b=!0}}}}else{if(!b&&!ur(d)&&!ur(D))return!1;if(b&&ur(D))continue;b=!1,d=D|1&d}}return ur(d)||b}function ur(o){return 0==(1&o)}function m0(o,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let _=!1;for(;f<l.length;){const b=l[f];if(b===o)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function jE(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,o)}function UE(o,l,c=!1){for(let d=0;d<l.length;d++)if(Cr(o,l[d],c))return!0;return!1}function _S(o,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function _0(o,l){return o?":not("+l.trim()+")":l}function yS(o){let l=o[0],c=1,d=2,f="",_=!1;for(;c<o.length;){let b=o[c];if("string"==typeof b)if(2&d){const E=o[++c];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!ur(b)&&(l+=_0(_,f),f=""),d=b,_=_||!ur(d);c++}return""!==f&&(l+=_0(_,f)),l}const zt={};function Gc(o){rn(tn(),Ne(),ci()+o,!1)}function rn(o,l,c,d){if(!d)if(3==(3&l[2])){const _=o.preOrderCheckHooks;null!==_&&Oo(l,_,c)}else{const _=o.preOrderHooks;null!==_&&ta(l,_,0,c)}vr(c)}function y0(o,l=null,c=null,d){const f=Kp(o,l,c,d);return f.resolveInjectorInitializers(),f}function Kp(o,l=null,c=null,d,f=new Set){const _=[c||jt,sO(o)];return d=d||("object"==typeof o?void 0:ge(o)),new xE(_,l||f_(),d||null,f)}let dd=(()=>{class o{static create(c,d){if(Array.isArray(c))return y0({name:""},d,c,"");{const f=c.name??"";return y0({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=hs,o.NULL=new lS,o.\u0275prov=rt({token:o,providedIn:"any",factory:()=>Wn(oS)}),o.__NG_ELEMENT_ID__=-1,o})();function pd(o,l=st.Default){const c=Ne();return null===c?Wn(o,l):Lo(Vn(),c,K(o),l)}function KE(){throw new Error("invalid")}function Zc(o,l){return o<<17|l<<2}function $o(o){return o>>17&32767}function S_(o){return 2|o}function Ca(o){return(131068&o)>>2}function zo(o,l){return-131069&o|l<<2}function Tl(o){return 1|o}function Xp(o,l){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],_=c[d+1];if(-1!==_){const b=o.data[_];Qa(f),b.contentQueries(2,l[_],_)}}}function R_(o,l,c,d,f,_,b,E,D,M,N){const P=l.blueprint.slice();return P[0]=f,P[2]=76|d,(null!==N||o&&1024&o[2])&&(P[2]|=1024),Xl(P),P[3]=P[15]=o,P[8]=c,P[10]=b||o&&o[10],P[11]=E||o&&o[11],P[12]=D||o&&o[12]||null,P[9]=M||o&&o[9]||null,P[6]=_,P[20]=function e_(){return Xm++}(),P[21]=N,P[16]=2==l.type?o[16]:P,P}function qc(o,l,c,d,f){let _=o.data[l];if(null===_)_=P_(o,l,c,d,f),function Hm(){return Ht.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=c,_.value=d,_.attrs=f;const b=ea();_.injectorIndex=null===b?-1:b.injectorIndex}return Pr(_,!0),_}function P_(o,l,c,d,f){const _=sc(),b=Za(),D=o.data[l]=function jS(o,l,c,d,f,_){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,c,l,d,f);return null===o.firstChild&&(o.firstChild=D),null!==_&&(b?null==_.child&&null!==D.parent&&(_.child=D):null===_.next&&(_.next=D)),D}function eg(o,l,c,d){if(0===c)return-1;const f=l.length;for(let _=0;_<c;_++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function nC(o,l,c){lc(l);try{const d=o.viewQuery;null!==d&&V0(1,d,c);const f=o.template;null!==f&&US(o,l,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Xp(o,l),o.staticViewQueries&&V0(2,o.viewQuery,c);const _=o.components;null!==_&&function VS(o,l){for(let c=0;c<l.length;c++)tI(o,l[c])}(l,_)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[2]&=-5,xo()}}function k0(o,l,c,d){const f=l[2];if(128!=(128&f)){lc(l);try{Xl(l),function Au(o){return Ht.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&US(o,l,c,2,d);const b=3==(3&f);if(b){const M=o.preOrderCheckHooks;null!==M&&Oo(l,M,null)}else{const M=o.preOrderHooks;null!==M&&ta(l,M,0,null),dh(l,0)}if(function XS(o){for(let l=Ku(o);null!==l;l=ya(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],_=f[3];0==(512&f[2])&&Pn(_,1),f[2]|=512}}}(l),function JS(o){for(let l=Ku(o);null!==l;l=ya(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Ao(d)&&k0(f,d,f.template,d[8])}}(l),null!==o.contentQueries&&Xp(o,l),b){const M=o.contentCheckHooks;null!==M&&Oo(l,M)}else{const M=o.contentHooks;null!==M&&ta(l,M,1),dh(l,1)}!function Jp(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)vr(~f);else{const _=f,b=c[++d],E=c[++d];jm(b,_),E(2,l[_])}}}finally{vr(-1)}}(o,l);const E=o.components;null!==E&&function O0(o,l){for(let c=0;c<l.length;c++)eI(o,l[c])}(l,E);const D=o.viewQuery;if(null!==D&&V0(2,D,d),b){const M=o.viewCheckHooks;null!==M&&Oo(l,M)}else{const M=o.viewHooks;null!==M&&ta(l,M,2),dh(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Pn(l[3],-1))}finally{xo()}}}function US(o,l,c,d,f){const _=ci(),b=2&d;try{vr(-1),b&&l.length>22&&rn(o,l,22,!1),c(d,f)}finally{vr(_)}}function F_(o,l,c){if(Jo(l)){const f=l.directiveEnd;for(let _=l.directiveStart;_<f;_++){const b=o.data[_];b.contentQueries&&b.contentQueries(1,c[_],_)}}}function R0(o,l,c){!Es()||(function ZS(o,l,c,d){const f=c.directiveStart,_=c.directiveEnd;o.firstCreatePass||Fo(c,l),er(d,l);const b=c.initialInputs;for(let E=f;E<_;E++){const D=o.data[E],M=Qi(D);M&&Kh(l,c,D);const N=Ds(l,o,E,c);er(N,l),null!==b&&YS(0,E-f,N,D,0,b),M&&(on(c.index,l)[8]=N)}}(o,l,c,Ji(c,l)),128==(128&c.flags)&&function qS(o,l,c){const d=c.directiveStart,f=c.directiveEnd,_=c.index,b=function Mu(){return Ht.lFrame.currentDirectiveIndex}();try{vr(_);for(let E=d;E<f;E++){const D=o.data[E],M=l[E];oc(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&sC(D,M)}}finally{vr(-1),oc(b)}}(o,l,c))}function P0(o,l,c=Ji){const d=l.localNames;if(null!==d){let f=l.index+1;for(let _=0;_<d.length;_+=2){const b=d[_+1],E=-1===b?c(l,o):o[b];o[f++]=E}}}function iC(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=tg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function tg(o,l,c,d,f,_,b,E,D,M){const N=22+d,P=N+f,W=function ho(o,l){const c=[];for(let d=0;d<l;d++)c.push(d<o?null:zt);return c}(N,P),ie="function"==typeof M?M():M;return W[1]={type:o,blueprint:W,template:c,queries:null,viewQuery:E,declTNode:l,data:W.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:D,consts:ie,incompleteFirstPass:!1}}function rC(o,l,c,d){const f=lC(l);null===c?f.push(d):(f.push(c),o.firstCreatePass&&lg(o).push(d,f.length-1))}function F0(o,l,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function ig(o,l){const d=l.directiveEnd,f=o.data,_=l.attrs,b=[];let E=null,D=null;for(let M=l.directiveStart;M<d;M++){const N=f[M],P=N.inputs,W=null===_||g0(l)?null:QS(P,_);b.push(W),E=F0(P,M,E),D=F0(N.outputs,M,D)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=E,l.outputs=D}function Ns(o,l,c,d,f,_,b,E){const D=Ji(l,c);let N,M=l.inputs;!E&&null!=M&&(N=M[d])?(Yh(o,c,N,d,f),Do(l)&&md(c,l.index)):3&l.type&&(d=function GS(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=b?b(f,l.value||"",d):f,_.setProperty(D,d,f))}function md(o,l){const c=on(l,o);16&c[2]||(c[2]|=32)}function _d(o,l,c,d){let f=!1;if(Es()){const _=function WS(o,l,c){const d=o.directiveRegistry;let f=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];UE(c,b.selectors,!1)&&(f||(f=[]),eo(Fo(c,l),o,b.type),Qi(b)?(oC(o,c),f.unshift(b)):f.push(b))}return f}(o,l,c),b=null===d?null:{"":-1};if(null!==_){f=!0,L_(c,o.data.length,_.length);for(let N=0;N<_.length;N++){const P=_[N];P.providersResolver&&P.providersResolver(P)}let E=!1,D=!1,M=eg(o,l,_.length,null);for(let N=0;N<_.length;N++){const P=_[N];c.mergedAttrs=Ja(c.mergedAttrs,P.hostAttrs),sg(o,c,l,M,P),KS(M,P,b),null!==P.contentQueries&&(c.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=128);const W=P.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),E=!0),!D&&(W.ngOnChanges||W.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),D=!0),M++}ig(o,c)}b&&function wO(o,l,c){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const _=c[l[f+1]];if(null==_)throw new Te(-301,!1);d.push(l[f],_)}}}(c,d,b)}return c.mergedAttrs=Ja(c.mergedAttrs,c.attrs),f}function Wh(o,l,c,d,f,_){const b=_.hostBindings;if(b){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const D=~l.index;(function zS(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(E)!=D&&E.push(D),E.push(d,f,b)}}function sC(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function oC(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function KS(o,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=o;Qi(l)&&(c[""]=o)}}function L_(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function sg(o,l,c,d,f){o.data[d]=f;const _=f.factory||(f.factory=ls(f.type)),b=new Xs(_,Qi(f),pd);o.blueprint[d]=b,c[d]=b,Wh(o,l,0,d,eg(o,c,f.hostVars,zt),f)}function Kh(o,l,c){const d=Ji(l,o),f=iC(c),_=o[10],b=og(o,R_(o,f,null,c.onPush?32:16,d,l,_,_.createRenderer(d,c),null,null,null));o[l.index]=b}function L0(o,l,c,d,f,_,b){if(null==_)o.removeAttribute(l,f,c);else{const E=null==b?ve(_):b(_,d||"",f);o.setAttribute(l,f,E,c)}}function YS(o,l,c,d,f,_){const b=_[l];if(null!==b){const E=d.setInput;for(let D=0;D<b.length;){const M=b[D++],N=b[D++],P=b[D++];null!==E?d.setInput(c,P,M,N):c[N]=P}}}function QS(o,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function aC(o,l,c,d){return new Array(o,!0,!1,l,null,0,d,c,null,null)}function eI(o,l){const c=on(l,o);if(Ao(c)){const d=c[1];48&c[2]?k0(d,c,d.template,c[8]):c[5]>0&&B_(c)}}function B_(o){for(let d=Ku(o);null!==d;d=ya(d))for(let f=10;f<d.length;f++){const _=d[f];if(Ao(_))if(512&_[2]){const b=_[1];k0(b,_,b.template,_[8])}else _[5]>0&&B_(_)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=on(c[d],o);Ao(f)&&f[5]>0&&B_(f)}}function tI(o,l){const c=on(l,o),d=c[1];(function B0(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(d,c),nC(d,c,c[8])}function og(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function ag(o){for(;o;){o[2]|=32;const l=oo(o);if(sp(o)&&!l)return o;o=l}return null}function yd(o,l,c,d=!0){const f=l[10];f.begin&&f.begin();try{k0(o,l,o.template,c)}catch(b){throw d&&H0(l,b),b}finally{f.end&&f.end()}}function V0(o,l,c){Qa(0),l(o,c)}function lC(o){return o[7]||(o[7]=[])}function lg(o){return o.cleanup||(o.cleanup=[])}function U0(o,l,c){return(null===o||Qi(o))&&(c=function Kl(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[l.index])),c[11]}function H0(o,l){const c=o[9],d=c?c.get(xs,null):null;d&&d.handleError(l)}function Yh(o,l,c,d,f){for(let _=0;_<c.length;){const b=c[_++],E=c[_++],D=l[b],M=o.data[b];null!==M.setInput?M.setInput(D,f,d,E):D[E]=f}}function cg(o,l,c){let d=c?o.styles:null,f=c?o.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const E=l[b];"number"==typeof E?_=E:1==_?f=de(f,E):2==_&&(d=de(d,E+": "+l[++b]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function Wc(o,l,c,d,f=!1){for(;null!==c;){const _=l[c.index];if(null!==_&&d.push(Bn(_)),cr(_))for(let E=10;E<_.length;E++){const D=_[E],M=D[1].firstChild;null!==M&&Wc(D[1],D,M,d)}const b=c.type;if(8&b)Wc(o,l,c.child,d);else if(32&b){const E=Ap(c,l);let D;for(;D=E();)d.push(D)}else if(16&b){const E=td(l,c);if(Array.isArray(E))d.push(...E);else{const D=oo(l[16]);Wc(D[1],D,E,d,!0)}}c=f?c.projectionNext:c.next}return d}class Qh{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Wc(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(cr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Xu(l,d),ji(c,d))}this._attachedToViewContainer=!1}ed(this._lView[1],this._lView)}onDestroy(l){rC(this._lView[1],this._lView,null,l)}markForCheck(){ag(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kv(o,l){Fc(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=l}}class nI extends Qh{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;yd(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class j0 extends qp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=ce(l);return new Kc(c,this.ngModule)}}function cC(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class rI{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,nr,d);return f!==nr||c===nr?f:this.parentInjector.get(l,c,d)}}class Kc extends Uh{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function GE(o){return o.map(yS).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return cC(this.componentDef.inputs)}get outputs(){return cC(this.componentDef.outputs)}create(l,c,d,f){let _=(f=f||this.ngModule)instanceof Vc?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new rI(l,_):l,E=b.get(p_,null);if(null===E)throw new Te(407,!1);const D=b.get(fi,null),M=E.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",P=d?function ng(o,l,c){return o.selectRootElement(l,c===Dt.ShadowDom)}(M,d,this.componentDef.encapsulation):Nh(M,N,function iI(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(N)),W=this.componentDef.onPush?288:272,ie=tg(0,null,null,1,0,null,null,null,null,null),ye=R_(null,ie,null,W,null,null,E,M,D,b,null);let je,Ge;lc(ye);try{const mt=function aI(o,l,c,d,f,_){const b=c[1];c[22]=o;const D=qc(b,22,2,"#host",null),M=D.mergedAttrs=l.hostAttrs;null!==M&&(cg(D,M,!0),null!==o&&(ia(f,o,M),null!==D.classes&&vl(f,o,D.classes),null!==D.styles&&Ms(f,o,D.styles)));const N=d.createRenderer(o,l),P=R_(c,iC(l),null,l.onPush?32:16,c[22],D,d,N,_||null,null,null);return b.firstCreatePass&&(eo(Fo(D,c),b,l.type),oC(b,D),L_(D,c.length,1)),og(c,P),c[22]=P}(P,this.componentDef,ye,E,M);if(P)if(d)ia(M,P,["ng-version",Ni.full]);else{const{attrs:kt,classes:Re}=function $E(o){const l=[],c=[];let d=1,f=2;for(;d<o.length;){let _=o[d];if("string"==typeof _)2===f?""!==_&&l.push(_,o[++d]):8===f&&c.push(_);else{if(!ur(f))break;f=_}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);kt&&ia(M,P,kt),Re&&Re.length>0&&vl(M,P,Re.join(" "))}if(Ge=Io(ie,22),void 0!==c){const kt=Ge.projection=[];for(let Re=0;Re<this.ngContentSelectors.length;Re++){const xt=c[Re];kt.push(null!=xt?Array.from(xt):null)}}je=function lI(o,l,c,d){const f=c[1],_=function $S(o,l,c){const d=Vn();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),sg(o,d,l,eg(o,l,1,null),c),ig(o,d));const f=Ds(l,o,d.directiveStart,d);er(f,l);const _=Ji(d,l);return _&&er(_,l),f}(f,c,l);if(o[8]=c[8]=_,null!==d)for(const E of d)E(_,l);if(l.contentQueries){const E=Vn();l.contentQueries(1,_,E.directiveStart)}const b=Vn();return!f.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(vr(b.index),Wh(c[1],b,0,b.directiveStart,b.directiveEnd,l),sC(l,_)),_}(mt,this.componentDef,ye,[cI]),nC(ie,ye,null)}finally{xo()}return new oI(this.componentType,je,Go(Ge,ye),ye,Ge)}}class oI extends class kE{}{constructor(l,c,d,f,_){super(),this.location=d,this._rootLView=f,this._tNode=_,this.instance=c,this.hostView=this.changeDetectorRef=new nI(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const _=this._rootLView;Yh(_[1],_,f,l,c),md(_,this._tNode.index)}}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function cI(){const o=Vn();dc(Ne()[1],o)}function $0(o){let l=function G0(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;l;){let f;if(Qi(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Te(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const b=o;b.inputs=V_(o.inputs),b.declaredInputs=V_(o.declaredInputs),b.outputs=V_(o.outputs);const E=f.hostBindings;E&&fC(o,E);const D=f.viewQuery,M=f.contentQueries;if(D&&dC(o,D),M&&hC(o,M),X(o.inputs,f.inputs),X(o.declaredInputs,f.declaredInputs),X(o.outputs,f.outputs),Qi(f)&&f.data.animation){const N=o.data;N.animation=(N.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const E=_[b];E&&E.ngInherit&&E(o),E===$0&&(c=!1)}}l=Object.getPrototypeOf(l)}!function uC(o){let l=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Ja(f.hostAttrs,c=Ja(c,f.hostAttrs))}}(d)}function V_(o){return o===Bi?{}:o===jt?[]:o}function dC(o,l){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function hC(o,l){const c=o.contentQueries;o.contentQueries=c?(d,f,_)=>{l(d,f,_),c(d,f,_)}:l}function fC(o,l){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let U_=null;function vd(){if(!U_){const o=yn.Symbol;if(o&&o.iterator)U_=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(U_=d)}}}return U_}function Jh(o){return!!H_(o)&&(Array.isArray(o)||!(o instanceof Map)&&vd()in o)}function H_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ia(o,l,c){return o[l]=c}function Ur(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function bd(o,l,c,d){const f=Ur(o,l,c);return Ur(o,l+1,d)||f}function dg(o,l,c,d){const f=Ne();return Ur(f,Mo(),l)&&(tn(),function Sa(o,l,c,d,f,_){const b=Ji(o,l);L0(l[11],b,_,o.value,c,d,f)}(wn(),f,o,l,c,d)),dg}function Xh(o,l,c,d){return Ur(o,Mo(),c)?l+ve(c)+d:zt}function yC(o,l,c,d,f,_,b,E){const D=Ne(),M=tn(),N=o+22,P=M.firstCreatePass?function xO(o,l,c,d,f,_,b,E,D){const M=l.consts,N=qc(l,o,4,b||null,Wr(M,E));_d(l,c,N,Wr(M,D)),dc(l,N);const P=N.tViews=tg(2,N,d,f,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,N),P.queries=l.queries.embeddedTView(N)),N}(N,M,D,l,c,d,f,_,b):M.data[N];Pr(P,!1);const W=D[11].createComment("");Rh(M,D,W,P),er(W,D),og(D,D[N]=aC(W,D,W,P)),bu(P)&&R0(M,D,P),null!=b&&P0(D,P,E)}function Y0(o){return ws(function Iu(){return Ht.lFrame.contextLView}(),22+o)}function lf(o,l,c){const d=Ne();return Ur(d,Mo(),l)&&Ns(tn(),wn(),d,o,l,d[11],c,!1),lf}function vC(o,l,c,d,f){const b=f?"class":"style";Yh(o,c,l.inputs[b],b,d)}function Al(o,l,c,d){const f=Ne(),_=tn(),b=22+o,E=f[11],D=f[b]=Nh(E,l,function uc(){return Ht.lFrame.currentNamespace}()),M=_.firstCreatePass?function bC(o,l,c,d,f,_,b){const E=l.consts,M=qc(l,o,2,f,Wr(E,_));return _d(l,c,M,Wr(E,b)),null!==M.attrs&&cg(M,M.attrs,!1),null!==M.mergedAttrs&&cg(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(b,_,f,0,l,c,d):_.data[b];Pr(M,!0);const N=M.mergedAttrs;null!==N&&ia(E,D,N);const P=M.classes;null!==P&&vl(E,D,P);const W=M.styles;return null!==W&&Ms(E,D,W),64!=(64&M.flags)&&Rh(_,f,D,M),0===function tc(){return Ht.lFrame.elementDepthCount}()&&er(D,f),function nc(){Ht.lFrame.elementDepthCount++}(),bu(M)&&(R0(_,f,M),F_(_,M,f)),null!==d&&P0(f,M),Al}function cf(){let o=Vn();Za()?qa():(o=o.parent,Pr(o,!1));const l=o;!function Du(){Ht.lFrame.elementDepthCount--}();const c=tn();return c.firstCreatePass&&(dc(c,o),Jo(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function pc(o){return 0!=(16&o.flags)}(l)&&vC(c,l,Ne(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function fh(o){return 0!=(32&o.flags)}(l)&&vC(c,l,Ne(),l.stylesWithoutHost,!1),cf}function wC(o,l,c,d){return Al(o,l,c,d),cf(),wC}function fg(o,l,c){const d=Ne(),f=tn(),_=o+22,b=f.firstCreatePass?function EC(o,l,c,d,f){const _=l.consts,b=Wr(_,d),E=qc(l,o,8,"ng-container",b);return null!==b&&cg(E,b,!0),_d(l,c,E,Wr(_,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(_,f,d,l,c):f.data[_];Pr(b,!0);const E=d[_]=d[11].createComment("");return Rh(f,d,E,b),er(E,d),bu(b)&&(R0(f,d,b),F_(f,b,d)),null!=c&&P0(d,b),fg}function uf(){let o=Vn();const l=tn();return Za()?qa():(o=o.parent,Pr(o,!1)),l.firstCreatePass&&(dc(l,o),Jo(o)&&l.queries.elementEnd(o)),uf}function DC(){return Ne()}function Q0(o){return!!o&&"function"==typeof o.then}function J0(o){return!!o&&"function"==typeof o.subscribe}const TC=J0;function SC(o,l,c,d){const f=Ne(),_=tn(),b=Vn();return X0(_,f,f[11],b,o,l,0,d),SC}function df(o,l){const c=Vn(),d=Ne(),f=tn();return X0(f,d,U0(Ya(f.data),c,d),c,o,l),df}function X0(o,l,c,d,f,_,b,E){const D=bu(d),N=o.firstCreatePass&&lg(o),P=l[8],W=lC(l);let ie=!0;if(3&d.type||E){const Ge=Ji(d,l),mt=E?E(Ge):Ge,kt=W.length,Re=E?_n=>E(Bn(_n[d.index])):d.index;let xt=null;if(!E&&D&&(xt=function NO(o,l,c,d){const f=o.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===c&&f[_+1]===d){const E=l[7],D=f[_+2];return E.length>D?E[D]:null}"string"==typeof b&&(_+=2)}return null}(o,l,f,d.index)),null!==xt)(xt.__ngLastListenerFn__||xt).__ngNextListenerFn__=_,xt.__ngLastListenerFn__=_,ie=!1;else{_=AC(d,l,P,_,!1);const _n=c.listen(mt,f,_);W.push(_,_n),N&&N.push(f,Re,kt,kt+1)}}else _=AC(d,l,P,_,!1);const ye=d.outputs;let je;if(ie&&null!==ye&&(je=ye[f])){const Ge=je.length;if(Ge)for(let mt=0;mt<Ge;mt+=2){const In=l[je[mt]][je[mt+1]].subscribe(_),zd=W.length;W.push(_,In),N&&N.push(f,d.index,zd,-(zd+1))}}}function IC(o,l,c,d){try{return!1!==c(d)}catch(f){return H0(o,f),!1}}function AC(o,l,c,d,f){return function _(b){if(b===Function)return d;ag(2&o.flags?on(o.index,l):l);let D=IC(l,0,d,b),M=_.__ngNextListenerFn__;for(;M;)D=IC(l,0,M,b)&&D,M=M.__ngNextListenerFn__;return f&&!1===D&&(b.preventDefault(),b.returnValue=!1),D}}function eb(o=1){return function No(o){return(Ht.lFrame.contextLView=function cc(o,l){for(;o>0;)l=l[15],o--;return l}(o,Ht.lFrame.contextLView))[8]}(o)}function fI(o,l){let c=null;const d=function mS(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let f=0;f<l.length;f++){const _=l[f];if("*"!==_){if(null===d?UE(o,_,!0):_S(d,_))return f}else c=f}return c}function MC(o){const l=Ne()[16][6];if(!l.projection){const d=l.projection=wr(o?o.length:1,null),f=d.slice();let _=l.child;for(;null!==_;){const b=o?fI(_,o):0;null!==b&&(f[b]?f[b].projectionNext=_:d[b]=_,f[b]=_),_=_.next}}}function xC(o,l=0,c){const d=Ne(),f=tn(),_=qc(f,22+o,16,null,c||null);null===_.projection&&(_.projection=l),qa(),64!=(64&_.flags)&&function Br(o,l,c){Fh(l[11],0,l,c,Oh(o,c,l),o_(c.parent||l[6],c,l))}(f,d,_)}function tb(o,l,c){return G_(o,"",l,"",c),tb}function G_(o,l,c,d,f){const _=Ne(),b=Xh(_,l,c,d);return b!==zt&&Ns(tn(),wn(),_,o,b,_[11],f,!1),G_}function OC(o,l,c,d,f){const _=o[c+1],b=null===l;let E=d?$o(_):Ca(_),D=!1;for(;0!==E&&(!1===D||b);){const N=o[E+1];kC(o[E],l)&&(D=!0,o[E+1]=d?Tl(N):S_(N)),E=d?$o(N):Ca(N)}D&&(o[c+1]=d?S_(_):Tl(_))}function kC(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Lr(o,l)>=0}const pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ml(o){return o.substring(pi.key,pi.keyEnd)}function RC(o,l){const c=pi.textEnd;return c===l?-1:(l=pi.keyEnd=function pg(o,l,c){for(;l<c&&o.charCodeAt(l)>32;)l++;return l}(o,pi.key=l,c),hf(o,l,c))}function hf(o,l,c){for(;l<c&&o.charCodeAt(l)<=32;)l++;return l}function mg(o,l,c){return Ma(o,l,c,!1),mg}function Qc(o,l){return Ma(o,l,null,!0),Qc}function LC(o){!function xa(o,l,c,d){const f=tn(),_=Cs(2);f.firstUpdatePass&&wI(f,null,_,d);const b=Ne();if(c!==zt&&Ur(b,_,c)){const E=f.data[ci()];if(CI(E,d)&&!bI(f,_)){let D=d?E.classesWithoutHost:E.stylesWithoutHost;null!==D&&(c=de(D,c||"")),vC(f,E,b,c,d)}else!function ub(o,l,c,d,f,_,b,E){f===zt&&(f=jt);let D=0,M=0,N=0<f.length?f[0]:null,P=0<_.length?_[0]:null;for(;null!==N||null!==P;){const W=D<f.length?f[D+1]:void 0,ie=M<_.length?_[M+1]:void 0;let je,ye=null;N===P?(D+=2,M+=2,W!==ie&&(ye=P,je=ie)):null===P||null!==N&&N<P?(D+=2,ye=N):(M+=2,ye=P,je=ie),null!==ye&&db(o,l,c,d,ye,je,b,E),N=D<f.length?f[D]:null,P=M<_.length?_[M]:null}}(f,E,b,b[11],b[_+1],b[_+1]=function BC(o,l,c){if(null==c||""===c)return jt;const d=[],f=di(c);if(Array.isArray(f))for(let _=0;_<f.length;_++)o(d,f[_],!0);else if("object"==typeof f)for(const _ in f)f.hasOwnProperty(_)&&o(d,_,f[_]);else"string"==typeof f&&l(d,f);return d}(o,l,c),d,_)}}(Fr,xl,o,!0)}function xl(o,l){for(let c=function yI(o){return function ab(o){pi.key=0,pi.keyEnd=0,pi.value=0,pi.valueEnd=0,pi.textEnd=o.length}(o),RC(o,hf(o,0,pi.textEnd))}(l);c>=0;c=RC(l,c))Fr(o,Ml(l),!0)}function Ma(o,l,c,d){const f=Ne(),_=tn(),b=Cs(2);_.firstUpdatePass&&wI(_,o,b,d),l!==zt&&Ur(f,b,l)&&db(_,_.data[ci()],f,f[11],o,f[b+1]=function EI(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ge(di(o)))),o}(l,c),d,b)}function bI(o,l){return l>=o.expandoStartIndex}function wI(o,l,c,d){const f=o.data;if(null===f[c+1]){const _=f[ci()],b=bI(o,c);CI(_,d)&&null===l&&!b&&(l=!1),l=function RO(o,l,c,d){const f=Ya(o);let _=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=_g(c=cb(null,o,l,c,d),l.attrs,d),_=null);else{const b=l.directiveStylingLast;if(-1===b||o[b]!==f)if(c=cb(f,o,l,c,d),null===_){let D=function PO(o,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Ca(d))return o[$o(d)]}(o,l,d);void 0!==D&&Array.isArray(D)&&(D=cb(null,o,l,D[1],d),D=_g(D,l.attrs,d),function FO(o,l,c,d){o[$o(c?l.classBindings:l.styleBindings)]=d}(o,l,d,D))}else _=function LO(o,l,c){let d;const f=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<f;_++)d=_g(d,o[_].hostAttrs,c);return _g(d,l.attrs,c)}(o,l,d)}return void 0!==_&&(d?l.residualClasses=_:l.residualStyles=_),c}(f,_,l,d),function mI(o,l,c,d,f,_){let b=_?l.classBindings:l.styleBindings,E=$o(b),D=Ca(b);o[d]=c;let N,M=!1;if(Array.isArray(c)){const P=c;N=P[1],(null===N||Lr(P,N)>0)&&(M=!0)}else N=c;if(f)if(0!==D){const W=$o(o[E+1]);o[d+1]=Zc(W,E),0!==W&&(o[W+1]=zo(o[W+1],d)),o[E+1]=function MS(o,l){return 131071&o|l<<17}(o[E+1],d)}else o[d+1]=Zc(E,0),0!==E&&(o[E+1]=zo(o[E+1],d)),E=d;else o[d+1]=Zc(D,0),0===E?E=d:o[D+1]=zo(o[D+1],d),D=d;M&&(o[d+1]=S_(o[d+1])),OC(o,N,d,!0),OC(o,N,d,!1),function _I(o,l,c,d,f){const _=f?o.residualClasses:o.residualStyles;null!=_&&"string"==typeof l&&Lr(_,l)>=0&&(c[d+1]=Tl(c[d+1]))}(l,N,o,d,_),b=Zc(E,D),_?l.classBindings=b:l.styleBindings=b}(f,_,l,c,b,d)}}function cb(o,l,c,d,f){let _=null;const b=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<b&&(_=l[E],d=_g(d,_.hostAttrs,f),_!==o);)E++;return null!==o&&(c.directiveStylingLast=E),d}function _g(o,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?f=b:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Fr(o,b,!!c||l[++_]))}return void 0===o?null:o}function db(o,l,c,d,f,_,b,E){if(!(3&l.type))return;const D=o.data,M=D[E+1];ff(function I_(o){return 1==(1&o)}(M)?VC(D,l,c,f,Ca(M),b):void 0)||(ff(_)||function T_(o){return 2==(2&o)}(M)&&(_=VC(D,null,c,f,E,b)),function Jv(o,l,c,d,f){if(l)f?o.addClass(c,d):o.removeClass(c,d);else{let _=-1===d.indexOf("-")?void 0:$i.DashCase;null==f?o.removeStyle(c,d,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=$i.Important),o.setStyle(c,d,f,_))}}(d,b,Rr(ci(),c),f,_))}function VC(o,l,c,d,f,_){const b=null===l;let E;for(;f>0;){const D=o[f],M=Array.isArray(D),N=M?D[1]:D,P=null===N;let W=c[f+1];W===zt&&(W=P?jt:void 0);let ie=P?ha(W,d):N===d?W:void 0;if(M&&!ff(ie)&&(ie=ha(D,d)),ff(ie)&&(E=ie,b))return E;const ye=o[f+1];f=b?$o(ye):Ca(ye)}if(null!==l){let D=_?l.residualClasses:l.residualStyles;null!=D&&(E=ha(D,d))}return E}function ff(o){return void 0!==o}function CI(o,l){return 0!=(o.flags&(l?16:32))}function DI(o,l=""){const c=Ne(),d=tn(),f=o+22,_=d.firstCreatePass?qc(d,f,1,l,null):d.data[f],b=c[f]=Mp(c[11],l);Rh(d,c,b,_),Pr(_,!1)}function hb(o){return Z_("",o,""),hb}function Z_(o,l,c){const d=Ne(),f=Xh(d,o,l,c);return f!==zt&&function fo(o,l,c){const d=Rr(l,o);xh(o[11],d,c)}(d,ci(),f),Z_}function J_(o,l,c){const d=Ne();return Ur(d,Mo(),l)&&Ns(tn(),wn(),d,o,l,d[11],c,!0),J_}function hr(o,l,c){const d=Ne();if(Ur(d,Mo(),l)){const _=tn(),b=wn();Ns(_,b,d,o,l,U0(Ya(_.data),b,d),c,!0)}return hr}const Cd=void 0;var $C=["en",[["a","p"],["AM","PM"],Cd],[["AM","PM"],Cd,Cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cd,"{1} 'at' {0}",Cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function X_(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Xc={};function go(o){const l=function _b(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=qC(l);if(c)return c;const d=l.split("-")[0];if(c=qC(d),c)return c;if("en"===d)return $C;throw new Te(701,!1)}function ZC(o){return go(o)[Lt.PluralCase]}function qC(o){return o in Xc||(Xc[o]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[o]),Xc[o]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const WC=["zero","one","two","few","many"],Dd="en-US",mf={marker:"element"},_f={marker:"ICU"};var Jn=(()=>((Jn=Jn||{})[Jn.SHIFT=2]="SHIFT",Jn[Jn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Jn[Jn.COMMENT=2]="COMMENT",Jn))();let KC=Dd;function ty(o){(function Le(o,l){null==o&&Ie(l,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(KC=o.toLowerCase().replace(/_/g,"-"))}function QC(o,l,c){const d=l.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?kp(o,0,c):Bn(c[f])}function yf(o,l,c,d,f){const _=l.insertBeforeIndex;if(Array.isArray(_)){let b=d,E=null;if(3&l.type||(E=b,b=f),null!==b&&0==(2&l.flags))for(let D=1;D<_.length;D++)lo(o,b,c[_[D]],E,!1)}}function JC(o,l){if(o.push(l),o.length>1)for(let c=o.length-2;c>=0;c--){const d=o[c];vf(d)||OI(d,l)&&null===kI(d)&&ny(d,l.index)}}function vf(o){return!(64&o.type)}function OI(o,l){return vf(l)||o.index>l.index}function kI(o){const l=o.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function ny(o,l){const c=o.insertBeforeIndex;Array.isArray(c)?c[0]=l:(Rp(QC,yf),o.insertBeforeIndex=l)}function Td(o,l){const c=o.data[l];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function tD(o,l,c){const d=P_(o,c,64,null,null);return JC(l,d),d}function Sd(o,l){const c=l[o.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function iy(o){return o>>>17}function ry(o){return(131070&o)>>>1}let bf=0,wf=0;function oy(o,l,c,d){const f=c[11];let b,_=null;for(let E=0;E<l.length;E++){const D=l[E];if("string"==typeof D){const M=l[++E];null===c[M]&&(c[M]=Mp(f,D))}else if("number"==typeof D)switch(1&D){case 0:const M=iy(D);let N,P;if(null===_&&(_=M,b=va(f,d)),M===_?(N=d,P=b):(N=null,P=Bn(c[M])),null!==P){const je=ry(D);lo(f,P,c[je],N,!1);const mt=Td(o,je);if(null!==mt&&"object"==typeof mt){const kt=Sd(mt,c);null!==kt&&oy(o,mt.create[kt],c,c[mt.anchorIdx])}}break;case 1:const ie=l[++E],ye=l[++E];L0(f,Rr(D>>>1,c),null,null,ie,ye,null)}else switch(D){case _f:const M=l[++E],N=l[++E];null===c[N]&&er(c[N]=i_(f,M),c);break;case mf:const P=l[++E],W=l[++E];null===c[W]&&er(c[W]=Nh(f,P,null),c)}}}function vb(o,l,c,d,f){for(let _=0;_<c.length;_++){const b=c[_],E=c[++_];if(b&f){let D="";for(let M=_+1;M<=_+E;M++){const N=c[M];if("string"==typeof N)D+=N;else if("number"==typeof N)if(N<0)D+=ve(l[d-N]);else{const P=N>>>2;switch(3&N){case 1:const W=c[++M],ie=c[++M],ye=o.data[P];"string"==typeof ye?L0(l[11],l[P],null,ye,W,D,ie):Ns(o,ye,l,W,D,l[11],ie,!1);break;case 0:const je=l[P];null!==je&&xh(l[11],je,D);break;case 2:bb(o,Td(o,P),l,D);break;case 3:rD(o,Td(o,P),d,l)}}}}else{const D=c[_+1];if(D>0&&3==(3&D)){const N=Td(o,D>>>2);l[N.currentCaseLViewIndex]<0&&rD(o,N,d,l)}}_+=E}}function rD(o,l,c,d){let f=d[l.currentCaseLViewIndex];if(null!==f){let _=bf;f<0&&(f=d[l.currentCaseLViewIndex]=~f,_=-1),vb(o,d,l.update[f],c,_)}}function bb(o,l,c,d){const f=function wb(o,l){let c=o.cases.indexOf(l);if(-1===c)switch(o.type){case 1:{const d=function NI(o,l){const c=ZC(l)(parseInt(o,10)),d=WC[c];return void 0!==d?d:"other"}(l,function YC(){return KC}());c=o.cases.indexOf(d),-1===c&&"other"!==d&&(c=o.cases.indexOf("other"));break}case 0:c=o.cases.indexOf("other")}return-1===c?null:c}(l,d);if(Sd(l,c)!==f&&(ay(o,l,c),c[l.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=c[l.anchorIdx];b&&oy(o,l.create[f],c,b)}}function ay(o,l,c){let d=Sd(l,c);if(null!==d){const f=l.remove[d];for(let _=0;_<f.length;_++){const b=f[_];if(b>0){const E=Rr(b,c);null!==E&&l_(c[11],E)}else ay(o,Td(o,~b),c)}}}function fr(){const o=[];let c,d,l=-1;function _(E,D){l=0;const M=Sd(E,D);d=null!==M?E.remove[M]:jt}function b(){if(l<d.length){const E=d[l++];return E>0?c[E]:(o.push(l,d),_(c[1].data[~E],c),b())}return 0===o.length?null:(d=o.pop(),l=o.pop(),b())}return function f(E,D){for(c=D;o.length;)o.pop();return _(E.value,D),b}}const Eg=/\ufffd(\d+):?\d*\ufffd/gi,FI=/\ufffd(\d+)\ufffd/,Cb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,LI=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Db=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,aD=/\uE500/g;function cy(o,l,c,d,f,_,b){const E=eg(o,d,1,null);let D=E<<Jn.SHIFT,M=ea();l===M&&(M=null),null===M&&(D|=Jn.APPEND_EAGERLY),b&&(D|=Jn.COMMENT,function Hv(o){void 0===Ip&&(Ip=o())}(fr)),f.push(D,null===_?"":_);const N=P_(o,E,b?32:1,null===_?"":_,null);JC(c,N);const P=N.index;return Pr(N,!1),null!==M&&l!==M&&function eD(o,l){let c=o.insertBeforeIndex;null===c?(Rp(QC,yf),c=o.insertBeforeIndex=[null,l]):(function _e(o,l,c){o!=l&&Ie(c,o,l,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(l))}(M,P),N}function Tb(o,l,c,d,f,_,b){const E=b.match(Eg),D=cy(o,l,c,_,d,E?null:b,!1);E&&Cg(f,b,D.index,null,0,null)}function Cg(o,l,c,d,f,_){const b=o.length,E=b+1;o.push(null,null);const D=b+2,M=l.split(Eg);let N=0;for(let P=0;P<M.length;P++){const W=M[P];if(1&P){const ie=f+parseInt(W,10);o.push(-1-ie),N|=Sb(ie)}else""!==W&&o.push(W)}return o.push(c<<2|(d?1:0)),d&&o.push(d,_),o[b]=N,o[E]=o.length-D,N}function Sb(o){return 1<<Math.min(o,31)}function Ib(o){let l,_,c="",d=0,f=!1;for(;null!==(l=LI.exec(o));)f?l[0]===`\ufffd/*${_}\ufffd`&&(d=l.index,f=!1):(c+=o.substring(d,l.index+l[0].length),_=l[1],f=!0);return c+=o.slice(d),c}function uD(o,l,c,d,f,_){let b=0;const E={type:f.type,currentCaseLViewIndex:eg(o,l,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function dy(o,l,c){o.push(Sb(l.mainBinding),2,-1-l.mainBinding,c<<2|2)})(c,f,_),function XC(o,l,c){const d=o.data[l];null===d?o.data[l]=c:d.value=c}(o,_,E);const D=f.values;for(let M=0;M<D.length;M++){const N=D[M],P=[];for(let W=0;W<N.length;W++){const ie=N[W];if("string"!=typeof ie){const ye=P.push(ie)-1;N[W]=`\x3c!--\ufffd${ye}\ufffd--\x3e`}}b=UI(o,E,l,c,d,f.cases[M],N.join(""),P)|b}b&&function fD(o,l,c){o.push(l,1,c<<2|3)}(c,b,_)}function VI(o){const l=[],c=[];let d=1,f=0;const _=eu(o=o.replace(Cb,function(b,E,D){return d="select"===D?0:1,f=parseInt(E.slice(1),10),""}));for(let b=0;b<_.length;){let E=_[b++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&l.push(E);const D=eu(_[b++]);l.length>c.length&&c.push(D)}return{type:d,mainBinding:f,cases:l,values:c}}function eu(o){if(!o)return[];let l=0;const c=[],d=[],f=/[{}]/g;let _;for(f.lastIndex=0;_=f.exec(o);){const E=_.index;if("}"==_[0]){if(c.pop(),0==c.length){const D=o.substring(l,E);Cb.test(D)?d.push(VI(D)):d.push(D),l=E+1}}else{if(0==c.length){const D=o.substring(l,E);d.push(D),l=E+1}c.push("{")}}const b=o.substring(l);return d.push(b),d}function UI(o,l,c,d,f,_,b,E){const D=[],M=[],N=[];l.cases.push(_),l.create.push(D),l.remove.push(M),l.update.push(N);const W=Hp(function p(){return void 0!==Lp?Lp:typeof document<"u"?document:void 0}()).getInertBodyElement(b),ie=a0(W)||W;return ie?dD(o,l,c,d,D,M,N,ie,f,E,0):0}function dD(o,l,c,d,f,_,b,E,D,M,N){let P=0,W=E.firstChild;for(;W;){const ie=eg(o,c,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const ye=W,je=ye.tagName.toLowerCase();if(u_.hasOwnProperty(je)){Ad(f,mf,je,D,ie),o.data[ie]=je;const Re=ye.attributes;for(let xt=0;xt<Re.length;xt++){const _n=Re.item(xt),In=_n.name.toLowerCase();_n.value.match(Eg)?AE.hasOwnProperty(In)&&Cg(b,_n.value,ie,_n.name,0,r0[In]?Lc:null):pD(f,ie,_n)}P=dD(o,l,c,d,f,_,b,W,ie,M,N+1)|P,tu(_,ie,N)}break;case Node.TEXT_NODE:const Ge=W.textContent||"",mt=Ge.match(Eg);Ad(f,null,mt?"":Ge,D,ie),tu(_,ie,N),mt&&(P=Cg(b,Ge,ie,null,0,null)|P);break;case Node.COMMENT_NODE:const kt=FI.exec(W.textContent||"");if(kt){const xt=M[parseInt(kt[1],10)];Ad(f,_f,"",D,ie),uD(o,c,d,D,xt,ie),hD(_,ie,N)}}W=W.nextSibling}return P}function tu(o,l,c){0===c&&o.push(l)}function hD(o,l,c){0===c&&(o.push(~l),o.push(l))}function Ad(o,l,c,d,f){null!==l&&o.push(l),o.push(c,f,function yb(o,l,c){return o|l<<17|c<<1}(0,d,f))}function pD(o,l,c){o.push(l<<1|1,c.name,c.value)}function fy(o,l,c=-1){const d=tn(),f=Ne(),_=22+o,b=Wr(d.consts,l),E=ea();d.firstCreatePass&&function ly(o,l,c,d,f,_){const b=ea(),E=[],D=[],M=[[]];f=function uy(o,l){if(function cD(o){return-1===o}(l))return Ib(o);{const c=o.indexOf(`:${l}\ufffd`)+2+l.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return Ib(o.substring(c,d))}}(f,_);const N=function BI(o){return o.replace(aD," ")}(f).split(Db);for(let P=0;P<N.length;P++){let W=N[P];if(0==(1&P)){const ie=eu(W);for(let ye=0;ye<ie.length;ye++){let je=ie[ye];if(0==(1&ye)){const Ge=je;""!==Ge&&Tb(o,b,M[0],E,D,c,Ge)}else{const Ge=je;if("object"!=typeof Ge)throw new Error(`Unable to parse ICU expression in "${f}" message.`);uD(o,c,D,l,Ge,cy(o,b,M[0],c,E,"",!0).index)}}}else{const ie=47===W.charCodeAt(0),je=(W.charCodeAt(ie?1:0),22+Number.parseInt(W.substring(ie?2:1)));if(ie)M.shift(),Pr(ea(),!1);else{const Ge=tD(o,M[0],je);M.unshift([]),Pr(Ge,!0)}}}o.data[d]={create:E,update:D}}(d,null===E?0:E.index,f,_,b,c);const D=d.data[_],N=kh(d,E===f[6]?null:E,f);(function iD(o,l,c,d){const f=o[11];for(let _=0;_<l.length;_++){const b=l[_++],E=l[_],D=(b&Jn.COMMENT)===Jn.COMMENT,M=(b&Jn.APPEND_EAGERLY)===Jn.APPEND_EAGERLY,N=b>>>Jn.SHIFT;let P=o[N];null===P&&(P=o[N]=D?f.createComment(E):Mp(f,E)),M&&null!==c&&lo(f,c,P,d,!1)}})(f,D.create,N,E&&8&E.type?f[E.index]:null),Ka(!0)}function gy(o,l,c){fy(o,l,c),function py(){Ka(!1)}()}function Md(o){return function RI(o){o&&(bf|=1<<Math.min(wf,31)),wf++}(Ur(Ne(),Mo(),o)),Md}function Mb(o){!function nD(o,l,c){if(wf>0){const d=o.data[c];vb(o,l,Array.isArray(d)?d:d.update,function cs(){return Ht.lFrame.bindingIndex}()-wf-1,bf)}bf=0,wf=0}(tn(),Ne(),o+22)}function Ef(o,l,c,d,f){if(o=K(o),Array.isArray(o))for(let _=0;_<o.length;_++)Ef(o[_],l,c,d,f);else{const _=tn(),b=Ne();let E=od(o)?o:K(o.provide),D=NE(o);const M=Vn(),N=1048575&M.providerIndexes,P=M.directiveStart,W=M.providerIndexes>>20;if(od(o)||!o.multi){const ie=new Xs(D,f,pd),ye=_y(E,l,f?N:N+W,P);-1===ye?(eo(Fo(M,b),_,E),Ig(_,o,l.length),l.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(ie),b.push(ie)):(c[ye]=ie,b[ye]=ie)}else{const ie=_y(E,l,N+W,P),ye=_y(E,l,N,N+W),je=ie>=0&&c[ie],Ge=ye>=0&&c[ye];if(f&&!Ge||!f&&!je){eo(Fo(M,b),_,E);const mt=function bD(o,l,c,d,f){const _=new Xs(o,c,pd);return _.multi=[],_.index=l,_.componentProviders=0,Nb(_,f,d&&!c),_}(f?jI:vD,c.length,f,d,D);!f&&Ge&&(c[ye].providerFactory=mt),Ig(_,o,l.length,0),l.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(mt),b.push(mt)}else Ig(_,o,ie>-1?ie:ye,Nb(c[f?ye:ie],D,!f&&d));!f&&d&&Ge&&c[ye].componentProviders++}}}function Ig(o,l,c,d){const f=od(l),_=function d_(o){return!!o.useClass}(l);if(f||_){const D=(_?K(l.useClass):l).prototype.ngOnDestroy;if(D){const M=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const N=M.indexOf(c);-1===N?M.push(c,[d,D]):M[N+1].push(d,D)}else M.push(c,D)}}}function Nb(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function _y(o,l,c,d){for(let f=c;f<d;f++)if(l[f]===o)return f;return-1}function vD(o,l,c,d){return xd(this.multi,[])}function jI(o,l,c,d){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=Ds(c,c[1],this.providerFactory.index,d);_=E.slice(0,b),xd(f,_);for(let D=b;D<E.length;D++)_.push(E[D])}else _=[],xd(f,_);return _}function xd(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function Ag(o,l=[]){return c=>{c.providersResolver=(d,f)=>function xb(o,l,c){const d=tn();if(d.firstCreatePass){const f=Qi(o);Ef(c,d.data,d.blueprint,f,!0),Ef(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class Na{}class nu{}function Ob(o,l){return new wD(o,l??null)}class wD extends Na{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new j0(this);const d=en(l);this._bootstrapComponents=Ea(d.bootstrap),this._r3Injector=Kp(l,c,[{provide:Na,useValue:this},{provide:qp,useValue:this.componentFactoryResolver}],ge(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class yy extends nu{constructor(l){super(),this.moduleType=l}create(l){return new wD(this.moduleType,l)}}class ED extends Na{constructor(l,c,d){super(),this.componentFactoryResolver=new j0(this),this.instance=null;const f=new xE([...l,{provide:Na,useValue:this},{provide:qp,useValue:this.componentFactoryResolver}],c||f_(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function kb(o,l,c=null){return new ED(o,l,c).injector}let Nd=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=cS(0,c.type),f=d.length>0?kb([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=rt({token:o,providedIn:"environment",factory:()=>new o(Wn(Vc))}),o})();function Oa(o){o.getStandaloneInjector=l=>l.get(Nd).getOrCreateStandaloneInjector(o)}function AD(o,l,c,d){return vy(Ne(),Un(),o,l,c,d)}function MD(o,l,c,d,f){return function kD(o,l,c,d,f,_,b){const E=l+c;return bd(o,E,f,_)?Ia(o,E+2,b?d.call(b,f,_):d(f,_)):Tf(o,E+2)}(Ne(),Un(),o,l,c,d,f)}function Pb(o,l,c,d,f,_){return function RD(o,l,c,d,f,_,b,E){const D=l+c;return function wd(o,l,c,d,f){const _=bd(o,l,c,d);return Ur(o,l+2,f)||_}(o,D,f,_,b)?Ia(o,D+3,E?d.call(E,f,_,b):d(f,_,b)):Tf(o,D+3)}(Ne(),Un(),o,l,c,d,f,_)}function Tf(o,l){const c=o[l];return c===zt?void 0:c}function vy(o,l,c,d,f,_){const b=l+c;return Ur(o,b,f)?Ia(o,b+1,_?d.call(_,f):d(f)):Tf(o,b+1)}function Sf(o,l){const c=tn();let d;const f=o+22;c.firstCreatePass?(d=function by(o,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(o===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const _=d.factory||(d.factory=ls(d.type)),b=Ei(pd);try{const E=tl(!1),D=_();return tl(E),function K0(o,l,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=d}(c,Ne(),f,D),D}finally{Ei(b)}}function Bb(o,l,c){const d=o+22,f=Ne(),_=ws(f,d);return function If(o,l){return o[1].data[l].pure}(f,d)?vy(f,Un(),l,_.transform,c,_):_.transform(c)}function Vb(o){return l=>{setTimeout(o,void 0,l)}}const ka=class WI extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,_=c||(()=>null),b=d;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),_=D.error?.bind(D),b=D.complete?.bind(D)}this.__isAsync&&(_=Vb(_),f&&(f=Vb(f)),b&&(b=Vb(b)));const E=super.subscribe({next:f,error:_,complete:b});return l instanceof ee.w0&&l.add(E),E}};function LD(){return this._results[vd()]()}class wy{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=vd(),d=wy.prototype;d[c]||(d[c]=LD)}get changes(){return this._changes||(this._changes=new ka)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=Ii(l);(this._changesDetected=!function Uo(o,l,c){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],_=l[d];if(c&&(f=c(f),_=c(_)),_!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Af=(()=>{class o{}return o.__NG_ELEMENT_ID__=kl,o})();const Ey=Af,BD=class extends Ey{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=R_(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(d)),nC(d,f,l),new Qh(f)}};function kl(){return Lg(Vn(),Ne())}function Lg(o,l){return 4&o.type?new BD(l,o,Go(o,l)):null}let Bg=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ub,o})();function Ub(){return jb(Vn(),Ne())}const Vg=Bg,Hb=class extends Vg{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const l=yc(this._hostTNode,this._hostLView);if(gh(l)){const c=el(l,this._hostLView),d=Ti(l);return new Bo(c[1].data[d+8],c)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Cy(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,_;"number"==typeof d?f=d:null!=d&&(f=d.index,_=d.injector);const b=l.createEmbeddedView(c||{},_);return this.insert(b,f),b}createComponent(l,c,d,f,_){const b=l&&!function da(o){return"function"==typeof o}(l);let E;if(b)E=c;else{const P=c||{};E=P.index,d=P.injector,f=P.projectableNodes,_=P.environmentInjector||P.ngModuleRef}const D=b?l:new Kc(ce(l)),M=d||this.parentInjector;if(!_&&null==D.ngModule){const W=(b?M:this.parentInjector).get(Vc,null);W&&(_=W)}const N=D.create(M,f,void 0,_);return this.insert(N.hostView,E),N}insert(l,c){const d=l._lView,f=d[1];if(function Jl(o){return cr(o[3])}(d)){const N=this.indexOf(l);if(-1!==N)this.detach(N);else{const P=d[3],W=new Hb(P,P[6],P[3]);W.detach(W.indexOf(l))}}const _=this._adjustIndex(c),b=this._lContainer;!function Qu(o,l,c,d){const f=10+d,_=c.length;d>0&&(c[f-1][4]=l),d<_-10?(l[4]=c[f],Hu(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const b=l[17];null!==b&&c!==b&&function _l(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(b,l);const E=l[19];null!==E&&E.insertView(o),l[2]|=64}(f,d,b,_);const E=Ph(_,b),D=d[11],M=va(D,b[7]);return null!==M&&function Wv(o,l,c,d,f,_){d[0]=f,d[6]=l,Fc(o,d,c,1,f,_)}(f,b[6],D,d,M,E),l.attachToViewContainerRef(),Hu(Mf(b),_,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Cy(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Xu(this._lContainer,c);d&&(ji(Mf(this._lContainer),c),ed(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Xu(this._lContainer,c);return d&&null!=ji(Mf(this._lContainer),c)?new Qh(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function Cy(o){return o[8]}function Mf(o){return o[8]||(o[8]=[])}function jb(o,l){let c;const d=l[o.index];if(cr(d))c=d;else{let f;if(8&o.type)f=Bn(d);else{const _=l[11];f=_.createComment("");const b=Ji(o,l);lo(_,va(_,b),f,function Op(o,l){return o.nextSibling(l)}(_,b),!1)}l[o.index]=c=aC(d,l,f,o),og(l,c)}return new Hb(c,o,l)}class kd{constructor(l){this.queryList=l,this.matches=null}clone(){return new kd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ty{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let _=0;_<d;_++){const b=c.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new Ty(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==jD(l,c).matches&&this.queries[c].setDirty()}}class Gb{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Ug{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,_=this.getByIndex(d).embeddedTView(l,f);_&&(_.indexInDeclarationView=d,null!==c?c.push(_):c=[_])}return null!==c?new Ug(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Hg{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Hg(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const _=d[f];this.matchTNodeWithReadOption(l,c,VD(c,_)),this.matchTNodeWithReadOption(l,c,ra(c,l,_,!1,!1))}else d===Af?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,ra(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===ps||f===Bg||f===Af&&4&c.type)this.addMatch(c.index,-2);else{const _=ra(c,l,f,!1,!1);null!==_&&this.addMatch(c.index,_)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function VD(o,l){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function UD(o,l,c,d){return-1===c?function Sy(o,l){return 11&o.type?Go(o,l):4&o.type?Lg(o,l):null}(l,o):-2===c?function HD(o,l,c){return c===ps?Go(l,o):c===Af?Lg(l,o):c===Bg?jb(l,o):void 0}(o,l,d):Ds(o,o[1],c,l)}function iu(o,l,c,d){const f=l[19].queries[d];if(null===f.matches){const _=o.data,b=c.matches,E=[];for(let D=0;D<b.length;D+=2){const M=b[D];E.push(M<0?null:UD(l,_[M],b[D+1],c.metadata.read))}f.matches=E}return f.matches}function Iy(o,l,c,d){const f=o.queries.getByIndex(c),_=f.matches;if(null!==_){const b=iu(o,l,f,c);for(let E=0;E<_.length;E+=2){const D=_[E];if(D>0)d.push(b[E/2]);else{const M=_[E+1],N=l[-D];for(let P=10;P<N.length;P++){const W=N[P];W[17]===W[3]&&Iy(W[1],W,M,d)}if(null!==N[9]){const P=N[9];for(let W=0;W<P.length;W++){const ie=P[W];Iy(ie[1],ie,M,d)}}}}}return d}function $b(o){const l=Ne(),c=tn(),d=xu();Qa(d+1);const f=jD(c,d);if(o.dirty&&function Ql(o){return 4==(4&o[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const _=f.crossesNgTemplate?Iy(c,l,d,[]):iu(c,l,f,d);o.reset(_,ld),o.notifyOnChanges()}return!0}return!1}function zb(o,l,c){const d=tn();d.firstCreatePass&&(Wb(d,new Gb(o,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),qb(d,Ne(),l)}function Zb(o,l,c,d){const f=tn();if(f.firstCreatePass){const _=Vn();Wb(f,new Gb(l,c,d),_.index),function xf(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}qb(f,Ne(),c)}function jg(){return function ks(o,l){return o[19].queries[l].queryList}(Ne(),xu())}function qb(o,l,c){const d=new wy(4==(4&c));rC(o,l,d,d.destroy),null===l[19]&&(l[19]=new Ty),l[19].queries.push(new kd(d))}function Wb(o,l,c){null===o.queries&&(o.queries=new Ug),o.queries.track(new Hg(l,c))}function jD(o,l){return o.queries.getByIndex(l)}function GD(o,l){return Lg(o,l)}function ae(...o){}const _o=new En("Application Initializer");let Ny=(()=>{class o{constructor(c){this.appInits=c,this.resolve=ae,this.reject=ae,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(Q0(_))c.push(_);else if(TC(_)){const b=new Promise((E,D)=>{_.subscribe({complete:E,error:D})});c.push(b)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Wn(_o,8))},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Pf=new En("AppId",{providedIn:"root",factory:function Rl(){return`${Pl()}${Pl()}${Pl()}`}});function Pl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tw=new En("Platform Initializer"),nw=new En("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),e1=new En("appBootstrapListener"),Rs=new En("AnimationModuleType");let sA=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Oy=new En("LocaleId",{providedIn:"root",factory:()=>T(Oy,st.Optional|st.SkipSelf)||function iw(){return typeof $localize<"u"&&$localize.locale||Dd}()}),oA=new En("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class t1{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Zg=(()=>{class o{compileModuleSync(c){return new yy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),_=Ea(en(c).declarations).reduce((b,E)=>{const D=ce(E);return D&&b.push(new Kc(D)),b},[]);return new t1(d,_)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const yi=(()=>Promise.resolve(0))();function Fl(o){typeof Zone>"u"?yi.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ps{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function rw(){let o=yn.requestAnimationFrame,l=yn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Bd(o){const l=()=>{!function ky(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(yn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,yo(o),o.isCheckStableRunning=!0,Pa(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),yo(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,_,b,E)=>{try{return Lf(o),c.invokeTask(f,_,b,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||o.shouldCoalesceRunChangeDetection)&&l(),Ll(o)}},onInvoke:(c,d,f,_,b,E,D)=>{try{return Lf(o),c.invoke(f,_,b,E,D)}finally{o.shouldCoalesceRunChangeDetection&&l(),Ll(o)}},onHasTask:(c,d,f,_)=>{c.hasTask(f,_),d===f&&("microTask"==_.change?(o._hasPendingMicrotasks=_.microTask,yo(o),Pa(o)):"macroTask"==_.change&&(o.hasPendingMacrotasks=_.macroTask))},onHandleError:(c,d,f,_)=>(c.handleError(f,_),o.runOutsideAngular(()=>o.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ps.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(Ps.isInAngularZone())throw new Te(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,l,Wg,ae,ae);try{return _.runTask(b,c,d)}finally{_.cancelTask(b)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const Wg={};function Pa(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function yo(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Lf(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ll(o){o._nesting--,Pa(o)}class r1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ka,this.onMicrotaskEmpty=new ka,this.onStable=new ka,this.onError=new ka}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const Vd=new En(""),Ry=new En("");let Fy,Ud=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fy||(function Kg(o){Fy=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ps.assertNotInAngularZone(),Fl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fl(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:_,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Wn(Ps),Wn(Py),Wn(Ry))},o.\u0275prov=rt({token:o,factory:o.\u0275fac}),o})(),Py=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Fy?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Bl=null;const Yg=new En("AllowMultipleToken"),Hd=new En("PlatformDestroyListeners");class o1{constructor(l,c){this.name=l,this.token=c}}function an(o,l,c=[]){const d=`Platform: ${l}`,f=new En(d);return(_=[])=>{let b=Qg();if(!b||b.injector.get(Yg,!1)){const E=[...c,..._,{provide:f,useValue:!0}];o?o(E):function su(o){if(Bl&&!Bl.get(Yg,!1))throw new Te(400,!1);Bl=o;const l=o.get(ow);(function sw(o){const l=o.get(tw,null);l&&l.forEach(c=>c())})(o)}(function jd(o=[],l){return dd.create({name:l,providers:[{provide:xi,useValue:"platform"},{provide:Hd,useValue:new Set([()=>Bl=null])},...o]})}(E,d))}return function Cn(o){const l=Qg();if(!l)throw new Te(401,!1);return l}()}}function Qg(){return Bl?.get(ow)??null}let ow=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function aw(o,l){let c;return c="noop"===o?new r1:("zone.js"===o?void 0:o)||new Ps(l),c}(d?.ngZone,function Ly(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),_=[{provide:Ps,useValue:f}];return f.run(()=>{const b=dd.create({providers:_,parent:this.injector,name:c.moduleType.name}),E=c.create(b),D=E.injector.get(xs,null);if(!D)throw new Te(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:N=>{D.handleError(N)}});E.onDestroy(()=>{Vy(this._modules,E),M.unsubscribe()})}),function lw(o,l,c){try{const d=c();return Q0(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(D,f,()=>{const M=E.injector.get(Ny);return M.runInitializers(),M.donePromise.then(()=>(ty(E.injector.get(Oy,Dd)||Dd),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const f=cw({},d);return function uA(o,l,c){const d=new yy(c);return Promise.resolve(d)}(0,0,c).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(c){const d=c.injector.get(By);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Te(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Hd,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Wn(dd))},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function cw(o,l){return Array.isArray(l)?l.reduce(cw,o):{...o,...l}}let By=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new B.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new B.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Ps.assertNotInAngularZone(),Fl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ps.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),M.unsubscribe()}});this.isStable=(0,re.T)(_,b.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof Uh;if(!this._injector.get(Ny).done)throw!f&&Pt(c),new Te(405,false);let b;b=f?c:this._injector.get(qp).resolveComponentFactory(c),this.componentTypes.push(b.componentType);const E=function s1(o){return o.isBoundToModule}(b)?void 0:this._injector.get(Na),M=b.create(dd.NULL,[],d||b.selector,E),N=M.location.nativeElement,P=M.injector.get(Vd,null);return P?.registerApplication(N),M.onDestroy(()=>{this.detachView(M.hostView),Vy(this.components,M),P?.unregisterApplication(N)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Vy(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(e1,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Vy(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Te(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(Wn(Ps),Wn(Vc),Wn(xs))},o.\u0275prov=rt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Vy(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}let d1=!0,uw=!1;function hA(){return uw=!0,d1}function fA(){if(uw)throw new Error("Cannot enable prod mode after platform setup.");d1=!1}let Uy=(()=>{class o{}return o.__NG_ELEMENT_ID__=Sr,o})();function Sr(o){return function Sn(o,l,c){if(Do(o)&&!c){const d=on(o.index,l);return new Qh(d,d)}return 47&o.type?new Qh(l[16],l):null}(Vn(),Ne(),16==(16&o))}class Gr{constructor(){}supports(l){return Jh(l)}create(l){return new zy(l)}}const fw=(o,l)=>l;class zy{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||fw}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,_=null;for(;c||d;){const b=!d||c&&c.currentIndex<Uf(d,f,_)?c:d,E=Uf(b,f,_),D=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(c=c._next,null==b.previousIndex)f++;else{_||(_=[]);const M=E-f,N=D-f;if(M!=N){for(let W=0;W<M;W++){const ie=W<_.length?_[W]:_[W]=0,ye=ie+W;N<=ye&&ye<M&&(_[W]=ie+1)}_[b.previousIndex]=N-M}}E!==D&&l(b,E,D)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Jh(l))throw new Te(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,_,b,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)_=l[E],b=this._trackByFn(E,_),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,_,b,E)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,b,E),d=!0),c=c._next}else f=0,function pC(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[vd()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,E=>{b=this._trackByFn(f,E),null!==c&&Object.is(c.trackById,b)?(d&&(c=this._verifyReinsertion(c,E,b,f)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,b,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,_,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,_,f)):l=this._addAfter(new nm(c,d),_,f),l}_verifyReinsertion(l,c,d,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==_?l=this._reinsertAfter(_,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,_=l._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new Zy),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Zy),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class nm{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class p1{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Zy{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new p1,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uf(o,l,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class pw{constructor(){}supports(l){return l instanceof Map||H_(l)}create(){return new g1}}class g1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||H_(l)))throw new Te(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const _=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,_)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const d=new mA(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class mA{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gw(){return new qy([new Gr])}let qy=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||gw()),deps:[[o,new vt,new ot]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Te(901,!1)}}return o.\u0275prov=rt({token:o,providedIn:"root",factory:gw}),o})();function im(){return new mw([new pw])}let mw=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||im()),deps:[[o,new vt,new ot]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Te(901,!1)}}return o.\u0275prov=rt({token:o,providedIn:"root",factory:im}),o})();const _1=an(null,"core",[]);let $d=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Wn(By))},o.\u0275mod=Qt({type:o}),o.\u0275inj=Mt({}),o})();function y1(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function CA(o,l){const c=ce(o),d=l.elementInjector||f_();return new Kc(c).create(d,l.projectableNodes,l.hostElement,l.environmentInjector)}},3942:(pt,Ae,L)=>{"use strict";L.d(Ae,{Z:()=>Te});var a=L(2090),ee=L(4859),B=L(9681),re=L(1877);class oe{constructor(ve,he){this._delegate=ve,this.firebase=he,(0,B._addComponent)(ve,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ve,he=B._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const ft=this._delegate.container.getProvider(ve);return!ft.isInitialized()&&"EXPLICIT"===(null===(et=ft.getComponent())||void 0===et?void 0:et.instantiationMode)&&ft.initialize(),ft.getImmediate({identifier:he})}_removeServiceInstance(ve,he=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(he)}_addComponent(ve){(0,B._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,B._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const X=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function de(){const it=function ge(it){const ve={},he={__esModule:!0,initializeApp:function Me(qe,q={}){const _e=B.initializeApp(qe,q);if((0,a.r3)(ve,_e.name))return ve[_e.name];const $e=new it(_e,he);return ve[_e.name]=$e,$e},app:ft,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Se(qe){const q=qe.name,_e=q.replace("-compat","");if(B._registerComponent(qe)&&"PUBLIC"===qe.type){const $e=(at=ft())=>{if("function"!=typeof at[_e])throw X.create("invalid-app-argument",{appName:q});return at[_e]()};void 0!==qe.serviceProps&&(0,a.ZB)($e,qe.serviceProps),he[_e]=$e,it.prototype[_e]=function(...at){return this._getService.bind(this,q).apply(this,qe.multipleInstances?at:[])}}return"PUBLIC"===qe.type?he[_e]:null},removeApp:function et(qe){delete ve[qe]},useAsService:function Ze(qe,q){return"serverAuth"===q?null:q},modularAPIs:B}};function ft(qe){if(!(0,a.r3)(ve,qe=qe||B._DEFAULT_ENTRY_NAME))throw X.create("no-app",{appName:qe});return ve[qe]}return he.default=he,Object.defineProperty(he,"apps",{get:function be(){return Object.keys(ve).map(qe=>ve[qe])}}),ft.App=it,he}(oe);return it.INTERNAL=Object.assign(Object.assign({},it.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ve(he){(0,a.ZB)(it,he)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),it}(),j=new re.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const it=self.firebase.SDK_VERSION;it&&it.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=H;!function Ce(it){(0,B.registerVersion)("@firebase/app-compat","0.2.4",it)}()},9681:(pt,Ae,L)=>{"use strict";L.r(Ae),L.d(Ae,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>mr,_DEFAULT_ENTRY_NAME:()=>Le,_addComponent:()=>un,_addOrOverwriteComponent:()=>rt,_apps:()=>_t,_clearComponents:()=>Fi,_components:()=>$t,_getProvider:()=>Mt,_registerComponent:()=>ln,_removeServiceInstance:()=>Rt,deleteApp:()=>Yo,getApp:()=>_r,getApps:()=>Zr,initializeApp:()=>is,onLog:()=>rs,registerVersion:()=>Ki,setLogLevel:()=>Ei});var a=L(5861),ee=L(4859),B=L(1877),re=L(2090),oe=L(8766);class ue{constructor(xe){this.container=xe}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function X(ht){return"VERSION"===ht.getComponent()?.type}(ut)){const Vt=ut.getImmediate();return`${Vt.library}/${Vt.version}`}return null}).filter(ut=>ut).join(" ")}}const ge="@firebase/app",H=new B.Yd("@firebase/app"),Le="[DEFAULT]",Ie={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,$t=new Map;function un(ht,xe){try{ht.container.addComponent(xe)}catch(ut){H.debug(`Component ${xe.name} failed to register with FirebaseApp ${ht.name}`,ut)}}function rt(ht,xe){ht.container.addOrOverwriteComponent(xe)}function ln(ht){const xe=ht.name;if($t.has(xe))return H.debug(`There were multiple attempts to register component ${xe}.`),!1;$t.set(xe,ht);for(const ut of _t.values())un(ut,ht);return!0}function Mt(ht,xe){const ut=ht.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),ht.container.getProvider(xe)}function Rt(ht,xe,ut=Le){Mt(ht,xe).clearInstance(ut)}function Fi(){$t.clear()}const Mn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Fn{constructor(xe,ut,Vt){this._isDeleted=!1,this._options=Object.assign({},xe),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=Vt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(xe){this.checkDestroyed(),this._automaticDataCollectionEnabled=xe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(xe){this._isDeleted=xe}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}const mr="9.17.2";function is(ht,xe={}){let ut=ht;"object"!=typeof xe&&(xe={name:xe});const Vt=Object.assign({name:Le,automaticDataCollectionEnabled:!1},xe),Gt=Vt.name;if("string"!=typeof Gt||!Gt)throw Mn.create("bad-app-name",{appName:String(Gt)});if(ut||(ut=(0,re.aH)()),!ut)throw Mn.create("no-options");const Qt=_t.get(Gt);if(Qt){if((0,re.vZ)(ut,Qt.options)&&(0,re.vZ)(Vt,Qt.config))return Qt;throw Mn.create("duplicate-app",{appName:Gt})}const Yi=new ee.H0(Gt);for(const G of $t.values())Yi.addComponent(G);const z=new Fn(ut,Vt,Yi);return _t.set(Gt,z),z}function _r(ht=Le){const xe=_t.get(ht);if(!xe&&ht===Le)return is();if(!xe)throw Mn.create("no-app",{appName:ht});return xe}function Zr(){return Array.from(_t.values())}function Yo(ht){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(ht){const xe=ht.name;_t.has(xe)&&(_t.delete(xe),yield Promise.all(ht.container.getProviders().map(ut=>ut.delete())),ht.isDeleted=!0)})).apply(this,arguments)}function Ki(ht,xe,ut){var Vt;let Gt=null!==(Vt=Ie[ht])&&void 0!==Vt?Vt:ht;ut&&(Gt+=`-${ut}`);const Qt=Gt.match(/\s|\//),Yi=xe.match(/\s|\//);if(Qt||Yi){const z=[`Unable to register library "${Gt}" with version "${xe}":`];return Qt&&z.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),Qt&&Yi&&z.push("and"),Yi&&z.push(`version name "${xe}" contains illegal characters (whitespace or "/")`),void H.warn(z.join(" "))}ln(new ee.wA(`${Gt}-version`,()=>({library:Gt,version:xe}),"VERSION"))}function rs(ht,xe){if(null!==ht&&"function"!=typeof ht)throw Mn.create("invalid-log-argument");(0,B.Am)(ht,xe)}function Ei(ht){(0,B.Ub)(ht)}const Ln="firebase-heartbeat-store";let ai=null;function bn(){return ai||(ai=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(ht,xe)=>{0===xe&&ht.createObjectStore(Ln)}}).catch(ht=>{throw Mn.create("idb-open",{originalErrorMessage:ht.message})})),ai}function Dt(){return(Dt=(0,a.Z)(function*(ht){try{return(yield bn()).transaction(Ln).objectStore(Ln).get(Li(ht))}catch(xe){if(xe instanceof re.ZR)H.warn(xe.message);else{const ut=Mn.create("idb-get",{originalErrorMessage:xe?.message});H.warn(ut.message)}}})).apply(this,arguments)}function yn(ht,xe){return ei.apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(ht,xe){try{const Vt=(yield bn()).transaction(Ln,"readwrite");return yield Vt.objectStore(Ln).put(xe,Li(ht)),Vt.done}catch(ut){if(ut instanceof re.ZR)H.warn(ut.message);else{const Vt=Mn.create("idb-set",{originalErrorMessage:ut?.message});H.warn(Vt.message)}}})).apply(this,arguments)}function Li(ht){return`${ht.name}!${ht.options.appId}`}class zs{constructor(xe){this.container=xe,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new hn(ut),this._heartbeatsCachePromise=this._storage.read().then(Vt=>(this._heartbeatsCache=Vt,Vt))}triggerHeartbeat(){var xe=this;return(0,a.Z)(function*(){const Vt=xe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=dn();if(null===xe._heartbeatsCache&&(xe._heartbeatsCache=yield xe._heartbeatsCachePromise),xe._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!xe._heartbeatsCache.heartbeats.some(Qt=>Qt.date===Gt))return xe._heartbeatsCache.heartbeats.push({date:Gt,agent:Vt}),xe._heartbeatsCache.heartbeats=xe._heartbeatsCache.heartbeats.filter(Qt=>{const Yi=new Date(Qt.date).valueOf();return Date.now()-Yi<=2592e6}),xe._storage.overwrite(xe._heartbeatsCache)})()}getHeartbeatsHeader(){var xe=this;return(0,a.Z)(function*(){if(null===xe._heartbeatsCache&&(yield xe._heartbeatsCachePromise),null===xe._heartbeatsCache||0===xe._heartbeatsCache.heartbeats.length)return"";const ut=dn(),{heartbeatsToSend:Vt,unsentEntries:Gt}=function os(ht,xe=1024){const ut=[];let Vt=ht.slice();for(const Gt of ht){const Qt=ut.find(Yi=>Yi.agent===Gt.agent);if(Qt){if(Qt.dates.push(Gt.date),Ci(ut)>xe){Qt.dates.pop();break}}else if(ut.push({agent:Gt.agent,dates:[Gt.date]}),Ci(ut)>xe){ut.pop();break}Vt=Vt.slice(1)}return{heartbeatsToSend:ut,unsentEntries:Vt}}(xe._heartbeatsCache.heartbeats),Qt=(0,re.L)(JSON.stringify({version:2,heartbeats:Vt}));return xe._heartbeatsCache.lastSentHeartbeatDate=ut,Gt.length>0?(xe._heartbeatsCache.heartbeats=Gt,yield xe._storage.overwrite(xe._heartbeatsCache)):(xe._heartbeatsCache.heartbeats=[],xe._storage.overwrite(xe._heartbeatsCache)),Qt})()}}function dn(){return(new Date).toISOString().substring(0,10)}class hn{constructor(xe){this.app=xe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var xe=this;return(0,a.Z)(function*(){return(yield xe._canUseIndexedDBPromise)&&(yield function Nt(ht){return Dt.apply(this,arguments)}(xe.app))||{heartbeats:[]}})()}overwrite(xe){var ut=this;return(0,a.Z)(function*(){var Vt;if(yield ut._canUseIndexedDBPromise){const Qt=yield ut.read();return yn(ut.app,{lastSentHeartbeatDate:null!==(Vt=xe.lastSentHeartbeatDate)&&void 0!==Vt?Vt:Qt.lastSentHeartbeatDate,heartbeats:xe.heartbeats})}})()}add(xe){var ut=this;return(0,a.Z)(function*(){var Vt;if(yield ut._canUseIndexedDBPromise){const Qt=yield ut.read();return yn(ut.app,{lastSentHeartbeatDate:null!==(Vt=xe.lastSentHeartbeatDate)&&void 0!==Vt?Vt:Qt.lastSentHeartbeatDate,heartbeats:[...Qt.heartbeats,...xe.heartbeats]})}})()}}function Ci(ht){return(0,re.L)(JSON.stringify({version:2,heartbeats:ht})).length}!function lr(ht){ln(new ee.wA("platform-logger",xe=>new ue(xe),"PRIVATE")),ln(new ee.wA("heartbeat",xe=>new zs(xe),"PRIVATE")),Ki(ge,"0.9.4",ht),Ki(ge,"0.9.4","esm2017"),Ki("fire-js","")}("")},4859:(pt,Ae,L)=>{"use strict";L.d(Ae,{H0:()=>ge,wA:()=>B});var a=L(5861),ee=L(2090);class B{constructor(H,j,K){this.name=H,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const re="[DEFAULT]";class oe{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const K=new ee.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:j});Oe&&K.resolve(Oe)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const K=this.normalizeInstanceIdentifier(H?.identifier),Oe=null!==(j=H?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ce){if(Oe)return null;throw Ce}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function X(de){return"EAGER"===de.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(j);try{const Ce=this.getOrInitializeService({instanceIdentifier:Oe});K.resolve(Ce)}catch{}}}}clearInstance(H=re){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,a.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=re){return this.instances.has(H)}getOptions(H=re){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,K=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[Ce,Te]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ce)&&Te.resolve(Oe);return Oe}onInit(H,j){var K;const Oe=this.normalizeInstanceIdentifier(j),Ce=null!==(K=this.onInitCallbacks.get(Oe))&&void 0!==K?K:new Set;Ce.add(H),this.onInitCallbacks.set(Oe,Ce);const Te=this.instances.get(Oe);return Te&&H(Te,Oe),()=>{Ce.delete(H)}}invokeOnInitCallbacks(H,j){const K=this.onInitCallbacks.get(j);if(K)for(const Oe of K)try{Oe(H,j)}catch{}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let K=this.instances.get(H);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(de=H,de===re?void 0:de),options:j}),this.instances.set(H,K),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(K,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,K)}catch{}var de;return K||null}normalizeInstanceIdentifier(H=re){return this.component?this.component.multipleInstances?H:re:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new oe(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Ae,L)=>{"use strict";L.d(Ae,{Am:()=>de,Ub:()=>ge,Yd:()=>X,in:()=>ee});const a=[];var ee=(()=>{return(H=ee||(ee={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",ee;var H})();const B={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},re=ee.INFO,oe={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ue=(H,j,...K)=>{if(j<H.logLevel)return;const Oe=(new Date).toISOString(),Ce=oe[j];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ce](`[${Oe}]  ${H.name}:`,...K)};class X{constructor(j){this.name=j,this._logLevel=re,this._logHandler=ue,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in ee))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?B[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...j),this._logHandler(this,ee.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...j),this._logHandler(this,ee.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...j),this._logHandler(this,ee.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...j),this._logHandler(this,ee.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...j),this._logHandler(this,ee.ERROR,...j)}}function ge(H){a.forEach(j=>{j.setLogLevel(H)})}function de(H,j){for(const K of a){let Oe=null;j&&j.level&&(Oe=B[j.level]),K.userLogHandler=null===H?null:(Ce,Te,...it)=>{const ve=it.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch{return null}}).filter(he=>he).join(" ");Te>=(Oe??Ce.logLevel)&&H({level:ee[Te].toLowerCase(),message:ve,args:it,type:Ce.name})}}}},259:(pt,Ae,L)=>{"use strict";L.d(Ae,{C6:()=>a.getApps,KN:()=>a.registerVersion,Mq:()=>a.getApp});var a=L(9681);(0,a.registerVersion)("firebase","9.17.2","app")},9260:(pt,Ae,L)=>{"use strict";L.d(Ae,{Z:()=>a.Z});var a=L(3942);a.Z.registerVersion("firebase","9.17.2","app-compat")},4217:(pt,Ae,L)=>{"use strict";L.r(Ae);var a=L(5861),ee=L(3942),B=L(2090),re=L(9681),oe=L(1877),ue=L(655),X=L(4859);const Te=function Oe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},it=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new oe.Yd("@firebase/auth");function ft(v,...p){et.logLevel<=oe.in.ERROR&&et.error(`Auth (${re.SDK_VERSION}): ${v}`,...p)}function Me(v,...p){throw qe(v,...p)}function be(v,...p){return qe(v,...p)}function Se(v,p,m){const w=Object.assign(Object.assign({},it()),{[p]:m});return new B.LL("auth","Firebase",w).create(p,{appName:v.name})}function Ze(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(v,"argument-error"),Se(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return ve.create(v,...p)}function q(v,p,...m){if(!v)throw qe(p,...m)}function _e(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ft(p),new Error(p)}function $e(v,p){v||_e(p)}const at=new Map;function Ct(v){$e(v instanceof Function,"Expected a class definition");let p=at.get(v);return p?($e(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,at.set(v,p),p)}function me(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function De(){return"http:"===Pe()||"https:"===Pe()}function Pe(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class _t{constructor(p,m){this.shortDelay=p,this.longDelay=m,$e(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Le(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(v,p){$e(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class un{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ln=new _t(3e4,6e4);function Mt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Rt(v,p,m,w){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(v,p,m,w,x={}){return Dn(v,x,(0,a.Z)(function*(){let R={},Y={};w&&("GET"===p?Y=w:R={body:JSON.stringify(w)});const fe=(0,B.xO)(Object.assign({key:v.config.apiKey},Y)).slice(1),ze=yield v._getAdditionalHeaders();return ze["Content-Type"]="application/json",v.languageCode&&(ze["X-Firebase-Locale"]=v.languageCode),un.fetch()(is(v,v.config.apiHost,m,fe),Object.assign({method:p,headers:ze,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Dn(v,p,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},rt),p);try{const x=new _r(v),R=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const Y=yield R.json();if("needConfirmation"in Y)throw Zr(v,"account-exists-with-different-credential",Y);if(R.ok&&!("errorMessage"in Y))return Y;{const fe=R.ok?Y.errorMessage:Y.error.message,[ze,ct]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw Zr(v,"credential-already-in-use",Y);if("EMAIL_EXISTS"===ze)throw Zr(v,"email-already-in-use",Y);if("USER_DISABLED"===ze)throw Zr(v,"user-disabled",Y);const Ft=w[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(ct)throw Se(v,Ft,ct);Me(v,Ft)}}catch(x){if(x instanceof B.ZR)throw x;Me(v,"internal-error",{message:String(x)})}})).apply(this,arguments)}function Fn(v,p,m,w){return mr.apply(this,arguments)}function mr(){return(mr=(0,a.Z)(function*(v,p,m,w,x={}){const R=yield Rt(v,p,m,w,x);return"mfaPendingCredential"in R&&Me(v,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function is(v,p,m,w){const x=`${p}${m}?${w}`;return v.config.emulator?$t(v.config,x):`${v.config.apiScheme}://${x}`}class _r{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(be(this.auth,"network-request-failed")),ln.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zr(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const x=be(v,p,w);return x.customData._tokenResponse=m,x}function st(){return(st=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Ki(v,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ei(v,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function ss(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function bn(){return(bn=(0,a.Z)(function*(v,p=!1){const m=(0,B.m9)(v),w=yield m.getIdToken(p),x=Dt(w);q(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const R="object"==typeof x.firebase?x.firebase:void 0,Y=R?.sign_in_provider;return{claims:x,token:w,authTime:ss(Nt(x.auth_time)),issuedAtTime:ss(Nt(x.iat)),expirationTime:ss(Nt(x.exp)),signInProvider:Y||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function Nt(v){return 1e3*Number(v)}function Dt(v){const[p,m,w]=v.split(".");if(void 0===p||void 0===m||void 0===w)return ft("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,B.tV)(m);return x?JSON.parse(x):(ft("Failed to decode base64 JWT payload"),null)}catch(x){return ft("Caught error parsing JWT payload as JSON",x?.toString()),null}}function ei(v,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&Bi(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Bi({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class jt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class zs{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=ss(this.lastLoginAt),this.creationTime=ss(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(v){return os.apply(this,arguments)}function os(){return(os=(0,a.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),x=yield ei(v,Ei(m,{idToken:w}));q(x?.users.length,m,"internal-error");const R=x.users[0];v._notifyReloadListener(R);const Y=null!==(p=R.providerUserInfo)&&void 0!==p&&p.length?ht(R.providerUserInfo):[],fe=lr(v.providerData,Y),Ft=!!v.isAnonymous&&!(v.email&&R.passwordHash||fe?.length),St={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:fe,metadata:new zs(R.createdAt,R.lastLoginAt),isAnonymous:Ft};Object.assign(v,St)})).apply(this,arguments)}function Ci(){return(Ci=(0,a.Z)(function*(v){const p=(0,B.m9)(v);yield dn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function lr(v,p){return[...v.filter(w=>!p.some(x=>x.providerId===w.providerId)),...p]}function ht(v){return v.map(p=>{var{providerId:m}=p,w=(0,ue._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ut(){return(ut=(0,a.Z)(function*(v,p){const m=yield Dn(v,{},(0,a.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:R}=v.config,Y=is(v,x,"/v1/token",`key=${R}`),fe=yield v._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(Y,{method:"POST",headers:fe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){q(p.idToken,"internal-error"),q(typeof p.idToken<"u","internal-error"),q(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function yn(v){const p=Dt(v);return q(p,"internal-error"),q(typeof p.exp<"u","internal-error"),q(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,a.Z)(function*(){return q(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,a.Z)(function*(){const{accessToken:x,refreshToken:R,expiresIn:Y}=yield function xe(v,p){return ut.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(x,R,Number(Y))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:x,expirationTime:R}=m,Y=new Vt;return w&&(q("string"==typeof w,"internal-error",{appName:p}),Y.refreshToken=w),x&&(q("string"==typeof x,"internal-error",{appName:p}),Y.accessToken=x),R&&(q("number"==typeof R,"internal-error",{appName:p}),Y.expirationTime=R),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return _e("not implemented")}}function Gt(v,p){q("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Qt{constructor(p){var{uid:m,auth:w,stsTokenManager:x}=p,R=(0,ue._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new zs(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,a.Z)(function*(){const w=yield ei(m,m.stsTokenManager.getToken(m.auth,p));return q(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function ai(v){return bn.apply(this,arguments)}(this,p)}reload(){return function hn(v){return Ci.apply(this,arguments)}(this)}_assign(p){this!==p&&(q(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Qt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,a.Z)(function*(){let x=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),x=!0),m&&(yield dn(w)),yield w.auth._persistUserIfCurrent(w),x&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,a.Z)(function*(){const m=yield p.getIdToken();return yield ei(p,function Yo(v,p){return st.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,x,R,Y,fe,ze,ct,Ft;const St=null!==(w=m.displayName)&&void 0!==w?w:void 0,Ai=null!==(x=m.email)&&void 0!==x?x:void 0,di=null!==(R=m.phoneNumber)&&void 0!==R?R:void 0,co=null!==(Y=m.photoURL)&&void 0!==Y?Y:void 0,Bp=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,Vr=null!==(ze=m._redirectEventId)&&void 0!==ze?ze:void 0,wl=null!==(ct=m.createdAt)&&void 0!==ct?ct:void 0,c_=null!==(Ft=m.lastLoginAt)&&void 0!==Ft?Ft:void 0,{uid:Vp,emailVerified:Up,isAnonymous:Hp,providerData:Lh,stsTokenManager:sd}=m;q(Vp&&sd,p,"internal-error");const t0=Vt.fromJSON(this.name,sd);q("string"==typeof Vp,p,"internal-error"),Gt(St,p.name),Gt(Ai,p.name),q("boolean"==typeof Up,p,"internal-error"),q("boolean"==typeof Hp,p,"internal-error"),Gt(di,p.name),Gt(co,p.name),Gt(Bp,p.name),Gt(Vr,p.name),Gt(wl,p.name),Gt(c_,p.name);const jp=new Qt({uid:Vp,auth:p,email:Ai,emailVerified:Up,displayName:St,isAnonymous:Hp,photoURL:co,phoneNumber:di,tenantId:Bp,stsTokenManager:t0,createdAt:wl,lastLoginAt:c_});return Lh&&Array.isArray(Lh)&&(jp.providerData=Lh.map(Lc=>Object.assign({},Lc))),Vr&&(jp._redirectEventId=Vr),jp}static _fromIdTokenResponse(p,m,w=!1){return(0,a.Z)(function*(){const x=new Vt;x.updateFromServerResponse(m);const R=new Qt({uid:m.localId,auth:p,stsTokenManager:x,isAnonymous:w});return yield dn(R),R})()}}const z=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,w){var x=this;return(0,a.Z)(function*(){x.storage[m]=w})()}_get(m){var w=this;return(0,a.Z)(function*(){const x=w.storage[m];return void 0===x?null:x})()}_remove(m){var w=this;return(0,a.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function G(v,p,m){return`firebase:${v}:${p}:${m}`}class Q{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:x,name:R}=this.auth;this.fullUserKey=G(this.userKey,x.apiKey,R),this.fullPersistenceKey=G("persistence",x.apiKey,R),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Qt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,a.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,a.Z)(function*(){if(!m.length)return new Q(Ct(z),p,w);const x=(yield Promise.all(m.map(function(){var ct=(0,a.Z)(function*(Ft){if(yield Ft._isAvailable())return Ft});return function(Ft){return ct.apply(this,arguments)}}()))).filter(ct=>ct);let R=x[0]||Ct(z);const Y=G(w,p.config.apiKey,p.name);let fe=null;for(const ct of m)try{const Ft=yield ct._get(Y);if(Ft){const St=Qt._fromJSON(p,Ft);ct!==R&&(fe=St),R=ct;break}}catch{}const ze=x.filter(ct=>ct._shouldAllowMigration);return R._shouldAllowMigration&&ze.length?(R=ze[0],fe&&(yield R._set(Y,fe.toJSON())),yield Promise.all(m.map(function(){var ct=(0,a.Z)(function*(Ft){if(Ft!==R)try{yield Ft._remove(Y)}catch{}});return function(Ft){return ct.apply(this,arguments)}}())),new Q(R,p,w)):new Q(R,p,w)})()}}function ce(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(en(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ne(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(He(p))return"Blackberry";if(wt(p))return"Webos";if(Qe(p))return"Safari";if((p.includes("chrome/")||Pt(p))&&!p.includes("edge/"))return"Chrome";if(cn(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ne(v=(0,B.z$)()){return/firefox\//i.test(v)}function Qe(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Pt(v=(0,B.z$)()){return/crios\//i.test(v)}function en(v=(0,B.z$)()){return/iemobile/i.test(v)}function cn(v=(0,B.z$)()){return/android/i.test(v)}function He(v=(0,B.z$)()){return/blackberry/i.test(v)}function wt(v=(0,B.z$)()){return/webos/i.test(v)}function Et(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function wo(v=(0,B.z$)()){return Et(v)||cn(v)||wt(v)||He(v)||/windows phone/i.test(v)||en(v)}function Zs(v,p=[]){let m;switch(v){case"Browser":m=ce((0,B.z$)());break;case"Worker":m=`${ce((0,B.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${re.SDK_VERSION}/${w}`}class Qo{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=R=>new Promise((Y,fe)=>{try{Y(p(R))}catch(ze){fe(ze)}});w.onAbort=m,this.queue.push(w);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,a.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const x of m.queue)yield x(p),x.onAbort&&w.push(x.onAbort)}catch(x){w.reverse();for(const R of w)try{R()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class qt{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eo(this),this.idTokenSubscription=new Eo(this),this.beforeStateQueue=new Qo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=Ct(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var x,R;if(!w._deleted&&(w.persistenceManager=yield Q.create(w,p),!w._deleted)){if(null!==(x=w._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,a.Z)(function*(){var w;const x=yield m.assertedPersistence.getCurrentUser();let R=x,Y=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,ze=R?._redirectEventId,ct=yield m.tryRedirectSignIn(p);(!fe||fe===ze)&&ct?.user&&(R=ct.user,Y=!0)}if(!R)return m.directlySetCurrentUser(null);if(!R._redirectEventId){if(Y)try{yield m.beforeStateQueue.runMiddleware(R)}catch(fe){R=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return R?m.reloadAndSetCurrentUserOrClear(R):m.directlySetCurrentUser(null)}return q(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===R._redirectEventId?m.directlySetCurrentUser(R):m.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(p){var m=this;return(0,a.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,a.Z)(function*(){try{yield dn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ie(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,a.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&q(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,a.Z)(function*(){if(!w._deleted)return p&&q(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,a.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(Ct(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,a.Z)(function*(){const x=yield w.getOrInitRedirectPersistenceManager(m);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&Ct(p)||m._popupRedirectResolver;q(w,m,"argument-error"),m.redirectPersistenceManager=yield Q.create(m,[Ct(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,a.Z)(function*(){var w,x;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,a.Z)(function*(){if(p===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,x){if(this._deleted)return()=>{};const R="function"==typeof m?m:m.next.bind(m),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return q(Y,this,"internal-error"),Y.then(()=>R(this.currentUser)),"function"==typeof m?p.addObserver(m,w,x):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Zs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(w["X-Firebase-Client"]=x),w})()}}function xn(v){return(0,B.m9)(v)}class Eo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function qs(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Ui{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,m){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function ni(v,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:resetPassword",Mt(v,p))})).apply(this,arguments)}function gn(v,p){return _u.apply(this,arguments)}function _u(){return(_u=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function yu(v,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:update",Mt(v,p))})).apply(this,arguments)}function Or(){return(Or=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signInWithPassword",Mt(v,p))})).apply(this,arguments)}function Ks(v,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:sendOobCode",Mt(v,p))})).apply(this,arguments)}function vn(v,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,a.Z)(function*(v,p){return Ks(v,p)})).apply(this,arguments)}function Di(v,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,a.Z)(function*(v,p){return Ks(v,p)})).apply(this,arguments)}function Jo(v,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(v,p){return Ks(v,p)})).apply(this,arguments)}function bu(v,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,a.Z)(function*(v,p){return Ks(v,p)})).apply(this,arguments)}function nh(){return(nh=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signInWithEmailLink",Mt(v,p))})).apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signInWithEmailLink",Mt(v,p))})).apply(this,arguments)}class wu extends Ui{constructor(p,m,w,x=null){super("password",w),this._email=p,this._password=m,this._tenantId=x}static _fromEmailAndPassword(p,m){return new wu(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new wu(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function ja(v,p){return Or.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function sp(v,p){return nh.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return gn(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function op(v,p){return To.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function li(v,p){return ih.apply(this,arguments)}function ih(){return(ih=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signInWithIdp",Mt(v,p))})).apply(this,arguments)}class _s extends Ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new _s(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x}=m,R=(0,ue._T)(m,["providerId","signInMethod"]);if(!w||!x)return null;const Y=new _s(w,x);return Y.idToken=R.idToken||void 0,Y.accessToken=R.accessToken||void 0,Y.secret=R.secret,Y.nonce=R.nonce,Y.pendingToken=R.pendingToken||null,Y}_getIdTokenResponse(p){return li(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,li(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,li(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function Lm(v,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:sendVerificationCode",Mt(v,p))})).apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signInWithPhoneNumber",Mt(v,p))})).apply(this,arguments)}function rh(){return(rh=(0,a.Z)(function*(v,p){const m=yield Fn(v,"POST","/v1/accounts:signInWithPhoneNumber",Mt(v,p));if(m.temporaryProof)throw Zr(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Vm={USER_NOT_FOUND:"user-not-found"};function sh(){return(sh=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signInWithPhoneNumber",Mt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Vm)})).apply(this,arguments)}class Qs extends Ui{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Qs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Qs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Eu(v,p){return Ys.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Bm(v,p){return rh.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Um(v,p){return sh.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:x}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:R}=p;return w||m||x||R?new Qs({verificationId:m,verificationCode:w,phoneNumber:x,temporaryProof:R}):null}}class Zl{constructor(p){var m,w,x,R,Y,fe;const ze=(0,B.zd)((0,B.pd)(p)),ct=null!==(m=ze.apiKey)&&void 0!==m?m:null,Ft=null!==(w=ze.oobCode)&&void 0!==w?w:null,St=function oh(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=ze.mode)&&void 0!==x?x:null);q(ct&&Ft&&St,"argument-error"),this.apiKey=ct,this.operation=St,this.code=Ft,this.continueUrl=null!==(R=ze.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Y=ze.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(fe=ze.tenantId)&&void 0!==fe?fe:null}static parseLink(p){const m=function ah(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||m||p||v}(p);try{return new Zl(m)}catch{return null}}}let ls=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return wu._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const x=Zl.parseLink(w);return q(x,"argument-error"),wu._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ys{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vs extends ys{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class So extends vs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return q("providerId"in m&&"signInMethod"in m,"argument-error"),_s._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return q(p.idToken||p.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return So.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return So.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:x,pendingToken:R,nonce:Y,providerId:fe}=p;if(!w&&!x&&!m&&!R||!fe)return null;try{return new So(fe)._credential({idToken:m,accessToken:w,nonce:Y,pendingToken:R})}catch{return null}}}let $a=(()=>{class v extends vs{constructor(){super("facebook.com")}static credential(m){return _s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ql=(()=>{class v extends vs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return _s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:x}=m;if(!w&&!x)return null;try{return v.credential(w,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Cu=(()=>{class v extends vs{constructor(){super("github.com")}static credential(m){return _s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Nn extends Ui{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return li(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,li(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,li(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:x,pendingToken:R}=m;return w&&x&&R&&w===x?new Nn(w,R):null}static _create(p,m){return new Nn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class kr extends ys{constructor(p){q(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return kr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return kr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Nn.fromJSON(p);return q(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Nn._create(w,m)}catch{return null}}}let yr=(()=>{class v extends vs{constructor(){super("twitter.com")}static credential(m,w){return _s._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:x}=m;if(!w||!x)return null;try{return v.credential(w,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Xo(v,p){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signUp",Mt(v,p))})).apply(this,arguments)}class Hi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,x=!1){return(0,a.Z)(function*(){const R=yield Qt._fromIdTokenResponse(p,w,x),Y=cp(w);return new Hi({user:R,providerId:Y,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const x=cp(w);return new Hi({user:p,providerId:x,_tokenResponse:w,operationType:m})})()}}function cp(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Bn(){return(Bn=(0,a.Z)(function*(v){var p;const m=xn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Hi({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield Xo(m,{returnSecureToken:!0}),x=yield Hi._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Kl extends B.ZR{constructor(p,m,w,x){var R;super(m.code,m.message),this.operationType=w,this.user=x,Object.setPrototypeOf(this,Kl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,x){return new Kl(p,m,w,x)}}function dp(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Kl._fromErrorAndOperation(v,R,p,w):R})}function Rr(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Yl(){return(Yl=(0,a.Z)(function*(v,p){const m=(0,B.m9)(v);yield on(!0,m,p);const{providerUserInfo:w}=yield Ki(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),x=Rr(w||[]);return m.providerData=m.providerData.filter(R=>x.has(R.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Io(v,p){return ws.apply(this,arguments)}function ws(){return(ws=(0,a.Z)(function*(v,p,m=!1){const w=yield ei(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Hi._forOperation(v,"link",w)})).apply(this,arguments)}function on(v,p,m){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,a.Z)(function*(v,p,m){yield dn(p);const x=!1===v?"provider-already-linked":"no-such-provider";q(Rr(p.providerData).has(m)===v,p.auth,x)})).apply(this,arguments)}function Ao(v,p){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,a.Z)(function*(v,p,m=!1){const{auth:w}=v,x="reauthenticate";try{const R=yield ei(v,dp(w,x,p,v),m);q(R.idToken,w,"internal-error");const Y=Dt(R.idToken);q(Y,w,"internal-error");const{sub:fe}=Y;return q(v.uid===fe,w,"user-mismatch"),Hi._forOperation(v,x,R)}catch(R){throw"auth/user-not-found"===R?.code&&Me(w,"user-mismatch"),R}})).apply(this,arguments)}function Wr(v,p){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,a.Z)(function*(v,p,m=!1){const w="signIn",x=yield dp(v,w,p),R=yield Hi._fromIdTokenResponse(v,w,x);return m||(yield v._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Pn(v,p){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(v,p){return Wr(xn(v),p)})).apply(this,arguments)}function ec(v,p){return hp.apply(this,arguments)}function hp(){return(hp=(0,a.Z)(function*(v,p){const m=(0,B.m9)(v);return yield on(!1,m,p.providerId),Io(m,p)})).apply(this,arguments)}function tc(v,p){return nc.apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(v,p){return Ao((0,B.m9)(v),p)})).apply(this,arguments)}function Du(v,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(v,p){return Fn(v,"POST","/v1/accounts:signInWithCustomToken",Mt(v,p))})).apply(this,arguments)}function za(){return(za=(0,a.Z)(function*(v,p){const m=xn(v),w=yield Du(m,{token:p,returnSecureToken:!0}),x=yield Hi._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ne{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?tn._fromServerResponse(p,m):Me(p,"internal-error")}}class tn extends Ne{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new tn(m)}}function ic(v,p,m){var w;q((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),q(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(q(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(q(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Vn(){return(Vn=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v),x={requestType:"PASSWORD_RESET",email:p};m&&ic(w,x,m),yield Di(w,x)})).apply(this,arguments)}function ea(){return(ea=(0,a.Z)(function*(v,p,m){yield ni((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Za(){return(Za=(0,a.Z)(function*(v,p){yield yu((0,B.m9)(v),{oobCode:p})})).apply(this,arguments)}function qa(v,p){return Su.apply(this,arguments)}function Su(){return(Su=(0,a.Z)(function*(v,p){const m=(0,B.m9)(v),w=yield ni(m,{oobCode:p}),x=w.requestType;switch(q(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":q(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":q(w.mfaInfo,m,"internal-error");default:q(w.email,m,"internal-error")}let R=null;return w.mfaInfo&&(R=Ne._fromServerResponse(xn(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:x}})).apply(this,arguments)}function lh(){return(lh=(0,a.Z)(function*(v,p){const{data:m}=yield qa((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function Un(){return(Un=(0,a.Z)(function*(v,p,m){const w=xn(v),x=yield Xo(w,{returnSecureToken:!0,email:p,password:m}),R=yield Hi._fromIdTokenResponse(w,"signIn",x);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v),x={requestType:"EMAIL_SIGNIN",email:p};q(m.handleCodeInApp,w,"argument-error"),m&&ic(w,x,m),yield Jo(w,x)})).apply(this,arguments)}function Ka(){return(Ka=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v),x=ls.credentialWithLink(p,m||me());return q(x._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Pn(w,x)})).apply(this,arguments)}function jm(v,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:createAuthUri",Mt(v,p))})).apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(v,p){const w={identifier:p,continueUri:De()?me():"http://localhost"},{signinMethods:x}=yield jm((0,B.m9)(v),w);return x||[]})).apply(this,arguments)}function Qa(){return(Qa=(0,a.Z)(function*(v,p){const m=(0,B.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&ic(m.auth,x,p);const{email:R}=yield vn(m.auth,x);R!==v.email&&(yield v.reload())})).apply(this,arguments)}function ac(){return(ac=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&ic(w.auth,R,m);const{email:Y}=yield bu(w.auth,R);Y!==v.email&&(yield v.reload())})).apply(this,arguments)}function lc(v,p){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,a.Z)(function*(v,p){return Rt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ru(){return(Ru=(0,a.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,B.m9)(v),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Y=yield ei(w,lc(w.auth,R));w.displayName=Y.displayName||null,w.photoURL=Y.photoUrl||null;const fe=w.providerData.find(({providerId:ze})=>"password"===ze);fe&&(fe.displayName=w.displayName,fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Y)})).apply(this,arguments)}function No(v,p,m){return cc.apply(this,arguments)}function cc(){return(cc=(0,a.Z)(function*(v,p,m){const{auth:w}=v,R={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(R.email=p),m&&(R.password=m);const Y=yield ei(v,gn(w,R));yield v._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class vr{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class wn extends vr{constructor(p,m,w,x){super(p,m,w),this.username=x}}class Pu extends vr{constructor(p,m){super(p,"facebook.com",m)}}class Fu extends wn{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class fp extends vr{constructor(p,m){super(p,"google.com",m)}}class Lu extends wn{constructor(p,m,w){super(p,"twitter.com",m,w)}}function uc(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function ci(v){var p,m;if(!v)return null;const{providerId:w}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},R=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const Y=null===(m=null===(p=Dt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Y)return new vr(R,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!w)return null;switch(w){case"facebook.com":return new Pu(R,x);case"github.com":return new Fu(R,x);case"google.com":return new fp(R,x);case"twitter.com":return new Lu(R,x,v.screenName||null);case"custom":case"anonymous":return new vr(R,null);default:return new vr(R,w,x)}}(m)}class ko{constructor(p,m,w){this.type=p,this.credential=m,this.auth=w}static _fromIdtoken(p,m){return new ko("enroll",p,m)}static _fromMfaPendingCredential(p){return new ko("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ko._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return ko._fromIdtoken(p.multiFactorSession.idToken)}return null}}class hc{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=xn(p),x=m.customData._serverResponse,R=(x.mfaInfo||[]).map(fe=>Ne._fromServerResponse(w,fe));q(x.mfaPendingCredential,w,"internal-error");const Y=ko._fromMfaPendingCredential(x.mfaPendingCredential);return new hc(Y,R,function(){var fe=(0,a.Z)(function*(ze){const ct=yield ze._process(w,Y);delete x.mfaInfo,delete x.mfaPendingCredential;const Ft=Object.assign(Object.assign({},x),{idToken:ct.idToken,refreshToken:ct.refreshToken});switch(m.operationType){case"signIn":const St=yield Hi._fromIdTokenResponse(w,m.operationType,Ft);return yield w._updateCurrentUser(St.user),St;case"reauthenticate":return q(m.user,w,"internal-error"),Hi._forOperation(m.user,m.operationType,Ft);default:Me(w,"internal-error")}});return function(ze){return fe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,a.Z)(function*(){return m.signInResolver(p)})()}}function fc(v,p){return Rt(v,"POST","/v2/accounts/mfaEnrollment:start",Mt(v,p))}class pp{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ne._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new pp(p)}getSession(){var p=this;return(0,a.Z)(function*(){return ko._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var w=this;return(0,a.Z)(function*(){const x=p,R=yield w.getSession(),Y=yield ei(w.user,x._process(w.user.auth,R,m));return yield w.user._updateTokensIfNecessary(Y),w.user.reload()})()}unenroll(p){var m=this;return(0,a.Z)(function*(){const w="string"==typeof p?p:p.uid,x=yield m.user.getIdToken();try{const R=yield ei(m.user,function fh(v,p){return Rt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(v,p))}(m.user.auth,{idToken:x,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Y})=>Y!==w),yield m.user._updateTokensIfNecessary(R),yield m.user.reload()}catch(R){throw R}})()}}const Ro=new WeakMap,Po="__sak";class gc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Po,"1"),this.storage.removeItem(Po),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xa=(()=>{class v extends gc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ja(){const v=(0,B.z$)();return Qe(v)||Et(v)}()&&function Tn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const x=this.storage.getItem(w),R=this.localCache[w];x!==R&&m(w,R,x)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((fe,ze,ct)=>{this.notifyListeners(fe,ct)});const x=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(x);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!w)return}const R=()=>{const fe=this.storage.getItem(x);!w&&this.localCache[x]===fe||this.notifyListeners(x,fe)},Y=this.storage.getItem(x);!function Zn(){return(0,B.w1)()&&10===document.documentMode}()||Y===m.newValue||m.newValue===m.oldValue?R():setTimeout(R,10)}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var x=()=>super._set,R=this;return(0,a.Z)(function*(){yield x().call(R,m,w),R.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,x=this;return(0,a.Z)(function*(){const R=yield w().call(x,m);return x.localCache[m]=JSON.stringify(R),R})()}_remove(m){var w=()=>super._remove,x=this;return(0,a.Z)(function*(){yield w().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),us=(()=>{class v extends gc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let mh=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(R=>R.isListeningto(m));if(w)return w;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,a.Z)(function*(){const x=m,{eventId:R,eventType:Y,data:fe}=x.data,ze=w.handlersMap[Y];if(!ze?.size)return;x.ports[0].postMessage({status:"ack",eventId:R,eventType:Y});const ct=Array.from(ze).map(function(){var St=(0,a.Z)(function*(Ai){return Ai(x.origin,fe)});return function(Ai){return St.apply(this,arguments)}}()),Ft=yield function tl(v){return Promise.all(v.map(function(){var p=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(ct);x.ports[0].postMessage({status:"done",eventId:R,eventType:Y,response:Ft})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function nl(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class Bu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var x=this;return(0,a.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Y,fe;return new Promise((ze,ct)=>{const Ft=nl("",20);R.port1.start();const St=setTimeout(()=>{ct(new Error("unsupported_event"))},w);fe={messageChannel:R,onMessage(Ai){const di=Ai;if(di.data.eventId===Ft)switch(di.data.status){case"ack":clearTimeout(St),Y=setTimeout(()=>{ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),ze(di.data.response);break;default:clearTimeout(St),clearTimeout(Y),ct(new Error("invalid_response"))}}},x.handlers.add(fe),R.port1.addEventListener("message",fe.onMessage),x.target.postMessage({eventType:p,eventId:Ft,data:m},[R.port2])}).finally(()=>{fe&&x.removeMessageHandler(fe)})})()}}function qn(){return window}function mc(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function il(){return(il=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const eo="firebaseLocalStorageDb",to="firebaseLocalStorage",vc="fbase_key";class Lo{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function rl(v,p){return v.transaction([to],p?"readwrite":"readonly").objectStore(to)}function ra(){const v=indexedDB.open(eo,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(to,{keyPath:vc})}catch(x){m(x)}}),v.addEventListener("success",(0,a.Z)(function*(){const w=v.result;w.objectStoreNames.contains(to)?p(w):(w.close(),yield function yh(){const v=indexedDB.deleteDatabase(eo);return new Lo(v).toPromise()}(),p(yield ra()))}))})}function Ds(v,p,m){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,a.Z)(function*(v,p,m){const w=rl(v,!0).put({[vc]:p,value:m});return new Lo(w).toPromise()})).apply(this,arguments)}function sl(){return(sl=(0,a.Z)(function*(v,p){const m=rl(v,!1).get(p),w=yield new Lo(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Bo(v,p){const m=rl(v,!0).delete(p);return new Lo(m).toPromise()}const sa=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield ra()),m.db})()}_withRetries(m){var w=this;return(0,a.Z)(function*(){let x=0;for(;;)try{const R=yield w._openDb();return yield m(R)}catch(R){if(x++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return mc()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=mh._getInstance(function yc(){return mc()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(x,R){return{keyProcessed:(yield m._poll()).includes(R.key)}});return function(x,R){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(x,R){return["keyChanged"]});return function(x,R){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var w,x;if(m.activeServiceWorker=yield function Fo(){return il.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Bu(m.activeServiceWorker);const R=yield m.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(x=R[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function _c(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ra();return yield Ds(m,Po,"1"),yield Bo(m,Po),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(R=>Ds(R,m,w)),x.localCache[m]=w,x.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,a.Z)(function*(){const x=yield w._withRetries(R=>function bc(v,p){return sl.apply(this,arguments)}(R,m));return w.localCache[m]=x,x})()}_remove(m){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(x=>Bo(x,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const w=yield m._withRetries(Y=>{const fe=rl(Y,!1).getAll();return new Lo(fe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const x=[],R=new Set;for(const{fbase_key:Y,value:fe}of w)R.add(Y),JSON.stringify(m.localCache[Y])!==JSON.stringify(fe)&&(m.notifyListeners(Y,fe),x.push(Y));for(const Y of Object.keys(m.localCache))m.localCache[Y]&&!R.has(Y)&&(m.notifyListeners(Y,null),x.push(Y));return x})()}notifyListeners(m,w){this.localCache[m]=w;const x=this.listeners[m];if(x)for(const R of Array.from(x))R(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function oa(v,p){return Rt(v,"POST","/v2/accounts/mfaSignIn:start",Mt(v,p))}function no(){return(no=(0,a.Z)(function*(v){return(yield Rt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function la(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=x=>{const R=be("internal-error");R.customData=x,m(R)},w.type="text/javascript",w.charset="UTF-8",function aa(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Cc(v){return`__${v}${Math.floor(1e6*Math.random())}`}const ol=1e12;class En{constructor(p){this.auth=p,this.counter=ol,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new Gm(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||ol;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||ol))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,a.Z)(function*(){var w;return null===(w=m._widgets.get(p||ol))||void 0===w||w.execute(),""})()}}class Gm{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;q(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Mv(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $m=Cc("rcb"),xv=new _t(3e4,6e4);class gp{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=qn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return q(function vE(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(qn().grecaptcha):new Promise((w,x)=>{const R=qn().setTimeout(()=>{x(be(p,"network-request-failed"))},xv.get());qn()[$m]=()=>{qn().clearTimeout(R),delete qn()[$m];const fe=qn().grecaptcha;if(!fe)return void x(be(p,"internal-error"));const ze=fe.render;fe.render=(ct,Ft)=>{const St=ze(ct,Ft);return this.counter++,St},this.hostLanguage=m,w(fe)},la(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:$m,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(R),x(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=qn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ua{load(p){return(0,a.Z)(function*(){return new En(p)})()}clearedOneInstance(){}}const zm="recaptcha",Zm={theme:"light",type:"image"};class Si{constructor(p,m=Object.assign({},Zm),w){this.parameters=m,this.type=zm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xn(w),this.isInvisible="invisible"===this.parameters.size,q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;q(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ua:new gp,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(R=>{const Y=fe=>{!fe||(p.tokenChangeListeners.delete(Y),R(fe))};p.tokenChangeListeners.add(Y),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=qn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){q(De()&&!mc(),p.auth,"internal-error"),yield function Dc(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function br(v){return no.apply(this,arguments)}(p.auth);q(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class da{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Qs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Uo(){return(Uo=(0,a.Z)(function*(v,p,m){const w=xn(v),x=yield wr(w,p,(0,B.m9)(m));return new da(x,R=>Pn(w,R))})).apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v);yield on(!1,w,"phone");const x=yield wr(w.auth,p,(0,B.m9)(m));return new da(x,R=>ec(w,R))})).apply(this,arguments)}function ji(){return(ji=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v),x=yield wr(w.auth,p,(0,B.m9)(m));return new da(x,R=>tc(w,R))})).apply(this,arguments)}function wr(v,p,m){return ju.apply(this,arguments)}function ju(){return(ju=(0,a.Z)(function*(v,p,m){var w;const x=yield m.verify();try{let R;if(q("string"==typeof x,v,"argument-error"),q(m.type===zm,v,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const Y=R.session;if("phoneNumber"in R)return q("enroll"===Y.type,v,"internal-error"),(yield fc(v,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{q("signin"===Y.type,v,"internal-error");const fe=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return q(fe,v,"missing-multi-factor-info"),(yield oa(v,{mfaPendingCredential:Y.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield Lm(v,{phoneNumber:R.phoneNumber,recaptchaToken:x});return Y}}finally{m._reset()}})).apply(this,arguments)}function vh(){return(vh=(0,a.Z)(function*(v,p){yield Io((0,B.m9)(v),p)})).apply(this,arguments)}let Tc=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=xn(m)}verifyPhoneNumber(m,w){return wr(this.auth,m,(0,B.m9)(w))}static credential(m,w){return Qs._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:x}=m;return w&&x?Qs._fromTokenResponse(w,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ll(v,p){return p?Ct(p):(q(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Sc extends Ui{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return li(p,this._buildIdpRequest())}_linkToIdToken(p,m){return li(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return li(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Fr(v){return Wr(v.auth,new Sc(v),v.bypassAuthState)}function ha(v){const{auth:p,user:m}=v;return q(m,p,"internal-error"),Ao(m,new Sc(v),v.bypassAuthState)}function Lr(v){return cl.apply(this,arguments)}function cl(){return(cl=(0,a.Z)(function*(v){const{auth:p,user:m}=v;return q(m,p,"internal-error"),Io(m,new Sc(v),v.bypassAuthState)})).apply(this,arguments)}class Ho{constructor(p,m,w,x,R=!1){this.auth=p,this.resolver=w,this.user=x,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,a.Z)(function*(w,x){p.pendingPromise={resolve:w,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,x){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:x,postBody:R,tenantId:Y,error:fe,type:ze}=p;if(fe)return void m.reject(fe);const ct={auth:m.auth,requestUri:w,sessionId:x,tenantId:Y||void 0,postBody:R||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ze)(ct))}catch(Ft){m.reject(Ft)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Fr;case"linkViaPopup":case"linkViaRedirect":return Lr;case"reauthViaPopup":case"reauthViaRedirect":return ha;default:Me(this.auth,"internal-error")}}resolve(p){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bh=new _t(2e3,1e4);function ul(){return(ul=(0,a.Z)(function*(v,p,m){const w=xn(v);Ze(v,p,ys);const x=ll(w,m);return new fa(w,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function wh(){return(wh=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ze(w.auth,p,ys);const x=ll(w.auth,m);return new fa(w.auth,"reauthViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ze(w.auth,p,ys);const x=ll(w.auth,m);return new fa(w.auth,"linkViaPopup",p,x,w).executeNotNull()})).apply(this,arguments)}let fa=(()=>{class v extends Ho{constructor(m,w,x,R,Y){super(m,w,R,Y),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const w=yield m.execute();return q(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,a.Z)(function*(){$e(1===m.filter.length,"Popup operations only handle one event");const w=nl();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,x;this.pollId=null!==(x=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,bh.get())};m()}}return v.currentPopupAction=null,v})();const hs=new Map;class Gu extends Ho{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,a.Z)(function*(){let w=hs.get(m.auth._key());if(!w){try{const R=(yield function Ac(v,p){return io.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(R)}catch(x){w=()=>Promise.reject(x)}hs.set(m.auth._key(),w)}return m.bypassAuthState||hs.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const x=yield w.auth._redirectUserForId(p.eventId);if(x)return w.user=x,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function io(){return(io=(0,a.Z)(function*(v,p){const m=Eh(p),w=ro(v);if(!(yield w._isAvailable()))return!1;const x="true"===(yield w._get(m));return yield w._remove(m),x})).apply(this,arguments)}function $u(v,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(v,p){return ro(v)._set(Eh(p),"true")})).apply(this,arguments)}function pa(v,p){hs.set(v._key(),p)}function ro(v){return Ct(v._redirectPersistence)}function Eh(v){return G("pendingRedirect",v.config.apiKey,v.name)}function T(){return(T=(0,a.Z)(function*(v,p,m){const w=xn(v);Ze(v,p,ys),yield w._initializationPromise;const x=ll(w,m);return yield $u(x,w),x._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function U(){return(U=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ze(w.auth,p,ys),yield w.auth._initializationPromise;const x=ll(w.auth,m);yield $u(x,w.auth);const R=yield Ut(w);return x._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function ke(){return(ke=(0,a.Z)(function*(v,p,m){const w=(0,B.m9)(v);Ze(w.auth,p,ys),yield w.auth._initializationPromise;const x=ll(w.auth,m);yield on(!1,w,p.providerId),yield $u(x,w.auth);const R=yield Ut(w);return x._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(v,p){return yield xn(v)._initializationPromise,vt(v,p,!1)})).apply(this,arguments)}function vt(v,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(v,p,m=!1){const w=xn(v),x=ll(w,p),Y=yield new Gu(w,x,m).execute();return Y&&!m&&(delete Y.user._redirectEventId,yield w._persistUserIfCurrent(Y.user),yield w._setRedirectUser(null,p)),Y})).apply(this,arguments)}function Ut(v){return ui.apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(v){const p=nl(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class fl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Gi(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ga(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!ga(p)){const x=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(be(this.auth,x))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mc(p))}saveEventToCache(p){this.cachedEventUids.add(Mc(p)),this.lastProcessedEventTime=Date.now()}}function Mc(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ga({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Xi(v){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,a.Z)(function*(v,p={}){return Rt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Ov=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ch=/^https?/;function Dh(){return(Dh=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Xi(v);for(const m of p)try{if(Qr(m))return}catch{}Me(v,"unauthorized-domain")})).apply(this,arguments)}function Qr(v){const p=me(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const Y=new URL(v);return""===Y.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Y.hostname===w}if(!Ch.test(m))return!1;if(Ov.test(v))return w===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(w)}const Km=new _t(3e4,6e4);function Th(){const v=qn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let xc=null;function vp(v){return xc=xc||function zu(v){return new Promise((p,m)=>{var w,x,R;function Y(){Th(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Th(),m(be(v,"network-request-failed"))},timeout:Km.get()})}if(null!==(x=null===(w=qn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(R=qn().gapi)||void 0===R||!R.load){const fe=Cc("iframefcb");return qn()[fe]=()=>{gapi.load?Y():m(be(v,"network-request-failed"))},la(`https://apis.google.com/js/api.js?onload=${fe}`).catch(ze=>m(ze))}Y()}}).catch(p=>{throw xc=null,p})}(v),xc}const kv=new _t(5e3,15e3),Rv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wE(v){const p=v.config;q(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?$t(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:re.SDK_VERSION},x=Pv.get(v.config.apiHost);x&&(w.eid=x);const R=v._getFrameworks();return R.length&&(w.fw=R.join(",")),`${m}?${(0,B.xO)(w).slice(1)}`}function wp(){return wp=(0,a.Z)(function*(v){const p=yield vp(v),m=qn().gapi;return q(m,v,"internal-error"),p.open({where:document.body,url:wE(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rv,dontclear:!0},w=>new Promise(function(){var x=(0,a.Z)(function*(R,Y){yield w.restyle({setHideOnLeave:!1});const fe=be(v,"network-request-failed"),ze=qn().setTimeout(()=>{Y(fe)},kv.get());function ct(){qn().clearTimeout(ze),R(w)}w.ping(ct).then(ct,()=>{Y(fe)})});return function(R,Y){return x.apply(this,arguments)}}()))}),wp.apply(this,arguments)}const Fv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jm{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pl(v,p,m,w,x,R){q(v.config.authDomain,v,"auth-domain-config-required"),q(v.config.apiKey,v,"invalid-api-key");const Y={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:re.SDK_VERSION,eventId:x};if(p instanceof ys){p.setDefaultLanguage(v.languageCode),Y.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(Y.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ze,ct]of Object.entries(R||{}))Y[ze]=ct}if(p instanceof vs){const ze=p.getScopes().filter(ct=>""!==ct);ze.length>0&&(Y.scopes=ze.join(","))}v.tenantId&&(Y.tid=v.tenantId);const fe=Y;for(const ze of Object.keys(fe))void 0===fe[ze]&&delete fe[ze];return`${function Cp({config:v}){return v.emulator?$t(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(fe).slice(1)}`}const Oc="webStorageSupport";class Dp extends class Ih{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Dp(p)}_finalizeEnroll(p,m,w){return function pc(v,p){return Rt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Ec(v,p){return Rt(v,"POST","/v2/accounts/mfaSignIn:finalize",Mt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kc=(()=>{class v{constructor(){}static assertion(m){return Dp._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var qu="@firebase/auth";class e_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function As(){return window}function ml(){return(ml=(0,a.Z)(function*(v,p,m){var w;const{BuildInfo:x}=As();$e(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Sp(p.sessionId),Y={};return Et()?Y.ibi=x.packageName:cn()?Y.apn=x.packageName:Me(v,"operation-not-supported-in-this-environment"),x.displayName&&(Y.appDisplayName=x.displayName),Y.sessionId=R,pl(v,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,Y)})).apply(this,arguments)}function Wu(){return(Wu=(0,a.Z)(function*(v){const{BuildInfo:p}=As(),m={};Et()?m.iosBundleId=p.packageName:cn()?m.androidPackageName=p.packageName:Me(v,"operation-not-supported-in-this-environment"),yield Xi(v,m)})).apply(this,arguments)}function Ah(){return(Ah=(0,a.Z)(function*(v,p,m){const{cordova:w}=As();let x=()=>{};try{yield new Promise((R,Y)=>{let fe=null;function ze(){var St;R();const Ai=null===(St=w.plugins.browsertab)||void 0===St?void 0:St.close;"function"==typeof Ai&&Ai(),"function"==typeof m?.close&&m.close()}function ct(){fe||(fe=window.setTimeout(()=>{Y(be(v,"redirect-cancelled-by-user"))},2e3))}function Ft(){"visible"===document?.visibilityState&&ct()}p.addPassiveListener(ze),document.addEventListener("resume",ct,!1),cn()&&document.addEventListener("visibilitychange",Ft,!1),x=()=>{p.removePassiveListener(ze),document.removeEventListener("resume",ct,!1),document.removeEventListener("visibilitychange",Ft,!1),fe&&window.clearTimeout(fe)}})}finally{x()}})).apply(this,arguments)}function Sp(v){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,a.Z)(function*(v){const p=Mh(v),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Mh(v){if($e(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),m=new Uint8Array(p);for(let w=0;w<v.length;w++)m[w]=v.charCodeAt(w);return m}(0,B.Pz)("authIdTokenMaxAge"),function Tp(v){(0,re._registerComponent)(new X.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:R,authDomain:Y}=w.options;return((fe,ze)=>{q(R&&!R.includes(":"),"invalid-api-key",{appName:fe.name}),q(!Y?.includes(":"),"argument-error",{appName:fe.name});const ct={apiKey:R,authDomain:Y,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zs(v)},Ft=new qt(fe,ze,ct);return function le(v,p){const m=p?.persistence||[],w=(Array.isArray(m)?m:[m]).map(Ct);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,p?.popupRedirectResolver)}(Ft,m),Ft})(w,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new X.wA("auth-internal",p=>{const m=xn(p.getProvider("auth").getImmediate());return new e_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(qu,"0.21.4",function _a(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,re.registerVersion)(qu,"0.21.4","esm2017")}("Browser");class Ap extends fl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function Gv(v){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(v){const p=yield Ku()._get(ya(v));return p&&(yield Ku()._remove(ya(v))),p})).apply(this,arguments)}function zv(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function Ku(){return Ct(Xa)}function ya(v){return G("authEvent",v.config.apiKey,v.name)}function ao(v){if(!v?.includes("?"))return{};const[p,...m]=v.split("?");return(0,B.zd)(m.join("?"))}function Nh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function Qu(){var v;return(null===(v=self?.location)||void 0===v?void 0:v.protocol)||null}function Ju(v=(0,B.z$)()){return!("file:"!==Qu()&&"ionic:"!==Qu()&&"capacitor:"!==Qu()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function r_(){try{const v=self.localStorage,p=nl();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Qv(v=(0,B.z$)()){return function ed(){return(0,B.w1)()&&11===document?.documentMode}()||function xp(v=(0,B.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,B.hl)()}catch{return Oh()&&(0,B.hl)()}return!1}function Oh(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function kh(){return(function _l(){return"http:"===Qu()||"https:"===Qu()}()||(0,B.ru)()||Ju())&&!function Xu(){return(0,B.b$)()||(0,B.UG)()}()&&r_()&&!Oh()}function lo(){return Ju()&&typeof document<"u"}function yl(){return(yl=(0,a.Z)(function*(){return!!lo()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},va=q,Op="persistence";function kp(v){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,a.Z)(function*(v){yield v._initializationPromise;const p=Rp(),m=G(Op,v.config.apiKey,v.name);p&&p.setItem(m,v._getPersistence())})).apply(this,arguments)}function Rp(){var v;try{return(null===(v=function Np(){return typeof window<"u"?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch{return null}}const Rh=q;class fs{constructor(){this.browserResolver=Ct(class $i{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=vt,this._overrideRedirectResult=pa}_openPopup(p,m,w,x){var R=this;return(0,a.Z)(function*(){var Y;$e(null===(Y=R.eventManagers[p._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const fe=pl(p,m,w,me(),x);return function CE(v,p,m,w=500,x=600){const R=Math.max((window.screen.availHeight-x)/2,0).toString(),Y=Math.max((window.screen.availWidth-w)/2,0).toString();let fe="";const ze=Object.assign(Object.assign({},Fv),{width:w.toString(),height:x.toString(),top:R,left:Y}),ct=(0,B.z$)().toLowerCase();m&&(fe=Pt(ct)?"_blank":m),ne(ct)&&(p=p||"http://localhost",ze.scrollbars="yes");const Ft=Object.entries(ze).reduce((Ai,[di,co])=>`${Ai}${di}=${co},`,"");if(function Vi(v=(0,B.z$)()){var p;return Et(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ct)&&"_self"!==fe)return function Ep(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",fe),new Jm(null);const St=window.open(p||"",fe,Ft);q(St,v,"popup-blocked");try{St.focus()}catch{}return new Jm(St)}(p,fe,nl())})()}_openRedirect(p,m,w,x){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(p),function Kr(v){qn().location.href=v}(pl(p,m,w,me(),x)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:x,promise:R}=this.eventManagers[m];return x?Promise.resolve(x):($e(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,a.Z)(function*(){const w=yield function bp(v){return wp.apply(this,arguments)}(p),x=new fl(p);return w.register("authEvent",R=>(q(R?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:x},m.iframes[p._key()]=w,x})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Oc,{type:Oc},x=>{var R;const Y=null===(R=x?.[0])||void 0===R?void 0:R[Oc];void 0!==Y&&m(!!Y),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yp(v){return Dh.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return wo()||Qe()||Et()}}),this.cordovaResolver=Ct(class xh{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vt,this._overrideRedirectResult=pa}_initialize(p){var m=this;return(0,a.Z)(function*(){const w=p._key();let x=m.eventManagers.get(w);return x||(x=new Ap(p),m.eventManagers.set(w,x),m.attachCallbackListeners(p,x)),x})()}_openPopup(p){Me(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,x){var R=this;return(0,a.Z)(function*(){!function Jr(v){var p,m,w,x,R,Y,fe,ze,ct,Ft;const St=As();q("function"==typeof(null===(p=St?.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q(typeof(null===(m=St?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"==typeof(null===(R=null===(x=null===(w=St?.cordova)||void 0===w?void 0:w.plugins)||void 0===x?void 0:x.browsertab)||void 0===R?void 0:R.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(ze=null===(fe=null===(Y=St?.cordova)||void 0===Y?void 0:Y.plugins)||void 0===fe?void 0:fe.browsertab)||void 0===ze?void 0:ze.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"==typeof(null===(Ft=null===(ct=St?.cordova)||void 0===ct?void 0:ct.InAppBrowser)||void 0===Ft?void 0:Ft.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Y=yield R._initialize(p);yield Y.initialized(),Y.resetRedirect(),function mp(){hs.clear()}(),yield R._originValidation(p);const fe=function Hv(v,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:zv(),postBody:null,tenantId:v.tenantId,error:be(v,"no-auth-event")}}(p,w,x);yield function jv(v,p){return Ku()._set(ya(v),p)}(p,fe);const ze=yield function jo(v,p,m){return ml.apply(this,arguments)}(p,fe,m),ct=yield function n_(v){const{cordova:p}=As();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let x=null;w?p.plugins.browsertab.openUrl(v):x=p.InAppBrowser.open(v,function Rn(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(x)})})}(ze);return function Uv(v,p,m){return Ah.apply(this,arguments)}(p,Y,ct)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Vv(v){return Wu.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:x,BuildInfo:R}=As(),Y=setTimeout((0,a.Z)(function*(){yield Gv(p),m.onEvent(Nh())}),500),fe=function(){var Ft=(0,a.Z)(function*(St){clearTimeout(Y);const Ai=yield Gv(p);let di=null;Ai&&St?.url&&(di=function $v(v,p){var m,w;const x=function Zv(v){const p=ao(v),m=p.link?decodeURIComponent(p.link):void 0,w=ao(m).link,x=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return ao(x).link||x||w||m||v}(p);if(x.includes("/__/auth/callback")){const R=ao(x),Y=R.firebaseError?function Yu(v){try{return JSON.parse(v)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,fe=null===(w=null===(m=Y?.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],ze=fe?be(fe):null;return ze?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:ze,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:x,postBody:null}}return null}(Ai,St.url)),m.onEvent(di||Nh())});return function(Ai){return Ft.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,fe);const ze=x,ct=`${R.packageName.toLowerCase()}://`;As().handleOpenURL=function(){var Ft=(0,a.Z)(function*(St){if(St.toLowerCase().startsWith(ct)&&fe({url:St}),"function"==typeof ze)try{ze(St)}catch(Ai){console.error(Ai)}});return function(St){return Ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=vt,this._overrideRedirectResult=pa}_initialize(p){var m=this;return(0,a.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,x){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,m,w,x)})()}_openRedirect(p,m,w,x){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,m,w,x)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return lo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Rh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const m=yield function s_(){return yl.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function td(v){return v.unwrap()}function l_(v){return Fc(v)}function Fc(v){const{_tokenResponse:p}=v instanceof B.ZR?v.customData:v;if(!p)return null;if(!(v instanceof B.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Tc.credentialFromResult(v);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=ql;break;case"facebook.com":w=$a;break;case"github.com":w=Cu;break;case"twitter.com":w=yr;break;default:const{oauthIdToken:x,oauthAccessToken:R,oauthTokenSecret:Y,pendingToken:fe,nonce:ze}=p;return R||Y||x||fe?fe?m.startsWith("saml.")?Nn._create(m,fe):_s._fromParams({providerId:m,signInMethod:m,pendingToken:fe,idToken:x,accessToken:R}):new So(m).credential({idToken:x,accessToken:R,rawNonce:ze}):null}return v instanceof B.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function Br(v,p){return p.catch(m=>{throw m instanceof B.ZR&&function Pp(v,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new Jv(v,function Hn(v,p){var m;const w=(0,B.m9)(v),x=p;return q(p.customData.operationType,w,"argument-error"),q(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),hc._fromError(w,x)}(v,p));else if(w){const x=Fc(p),R=p;x&&(R.credential=x,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(v,m),m}).then(m=>{const x=m.user;return{operationType:m.operationType,credential:l_(m),additionalUserInfo:uc(m),user:Ms.getOrCreate(x)}})}function Fh(v,p){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,a.Z)(function*(v,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>Br(v,m.confirm(w))}})).apply(this,arguments)}class Jv{constructor(p,m){this.resolver=m,this.auth=function Ph(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Br(td(this.auth),this.resolver.resolveSignIn(p))}}class Ms{constructor(p){this._delegate=p,this.multiFactor=function ia(v){const p=(0,B.m9)(v);return Ro.has(p)||Ro.set(p,pp._fromUser(p)),Ro.get(p)}(p)}static getOrCreate(p){return Ms.USER_MAP.has(p)||Ms.USER_MAP.set(p,new Ms(p)),Ms.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,a.Z)(function*(){return Br(m.auth,ec(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,a.Z)(function*(){return Fh(w.auth,function Ii(v,p,m){return ds.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,a.Z)(function*(){return Br(m.auth,function Wm(v,p,m){return dl.apply(this,arguments)}(m._delegate,p,fs))})()}linkWithRedirect(p){var m=this;return(0,a.Z)(function*(){return yield kp(xn(m.auth)),function J(v,p,m){return function se(v,p,m){return ke.apply(this,arguments)}(v,p,m)}(m._delegate,p,fs)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,a.Z)(function*(){return Br(m.auth,tc(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Fh(this.auth,function Hu(v,p,m){return ji.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Br(this.auth,function qm(v,p,m){return wh.apply(this,arguments)}(this._delegate,p,fs))}reauthenticateWithRedirect(p){var m=this;return(0,a.Z)(function*(){return yield kp(xn(m.auth)),function I(v,p,m){return function O(v,p,m){return U.apply(this,arguments)}(v,p,m)}(m._delegate,p,fs)})()}sendEmailVerification(p){return function xu(v,p){return Qa.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,a.Z)(function*(){return yield function Ji(v,p){return Yl.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function ch(v,p){return No((0,B.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function xo(v,p){return No((0,B.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function al(v,p){return vh.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ku(v,p){return Ru.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Nu(v,p,m){return ac.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ms.USER_MAP=new WeakMap;const vl=q;let nd=(()=>{class v{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=m.options;vl(x,"invalid-api-key",{appName:m.name}),vl(x,"invalid-api-key",{appName:m.name});const R=typeof window<"u"?fs:void 0;this._delegate=w.initialize({options:{persistence:bl(x,m.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ms.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function zl(v,p,m){const w=xn(v);q(w._canInitEmulator,w,"emulator-config-failed"),q(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const x=!!m?.disableWarnings,R=as(p),{host:Y,port:fe}=function ti(v){const p=as(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(w);if(x){const R=x[1];return{host:R,port:qs(w.substr(R.length+1))}}{const[R,Y]=w.split(":");return{host:R,port:qs(Y)}}}(p);w.config.emulator={url:`${R}//${Y}${null===fe?"":`:${fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Y,port:fe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Ws(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,w)}applyActionCode(m){return function Pr(v,p){return Za.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return qa(this._delegate,m)}confirmPasswordReset(m,w){return function sc(v,p,m){return ea.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var x=this;return(0,a.Z)(function*(){return Br(x._delegate,function Wa(v,p,m){return Un.apply(this,arguments)}(x._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function oc(v,p){return Ya.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Cs(v,p){return"EMAIL_SIGNIN"===Zl.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,a.Z)(function*(){vl(kh(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function ot(v,p){return yt.apply(this,arguments)}(m._delegate,fs);return w?Br(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function qv(v,p){xn(v)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,x){const{next:R,error:Y,complete:fe}=id(m,w,x);return this._delegate.onAuthStateChanged(R,Y,fe)}onIdTokenChanged(m,w,x){const{next:R,error:Y,complete:fe}=id(m,w,x);return this._delegate.onIdTokenChanged(R,Y,fe)}sendSignInLinkToEmail(m,w){return function Au(v,p,m){return Mo.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function rc(v,p,m){return Vn.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,a.Z)(function*(){let x;switch(function o_(v,p){va(Object.values(Er).includes(p),v,"invalid-persistence-type"),(0,B.b$)()?va(p!==Er.SESSION,v,"unsupported-persistence-type"):(0,B.UG)()?va(p===Er.NONE,v,"unsupported-persistence-type"):Oh()?va(p===Er.NONE||p===Er.LOCAL&&(0,B.hl)(),v,"unsupported-persistence-type"):va(p===Er.NONE||r_(),v,"unsupported-persistence-type")}(w._delegate,m),m){case Er.SESSION:x=us;break;case Er.LOCAL:x=(yield Ct(sa)._isAvailable())?sa:Xa;break;case Er.NONE:x=z;break;default:return Me("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Br(this._delegate,function up(v){return Bn.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Br(this._delegate,Pn(this._delegate,m))}signInWithCustomToken(m){return Br(this._delegate,function Tu(v,p){return za.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return Br(this._delegate,function cs(v,p,m){return Pn((0,B.m9)(v),ls.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return Br(this._delegate,function Hm(v,p,m){return Ka.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return Fh(this._delegate,function Ss(v,p,m){return Uo.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,a.Z)(function*(){return vl(kh(),w._delegate,"operation-not-supported-in-this-environment"),Br(w._delegate,function Ic(v,p,m){return ul.apply(this,arguments)}(w._delegate,m,fs))})()}signInWithRedirect(m){var w=this;return(0,a.Z)(function*(){return vl(kh(),w._delegate,"operation-not-supported-in-this-environment"),yield kp(w._delegate),function Wn(v,p,m){return function _p(v,p,m){return T.apply(this,arguments)}(v,p,m)}(w._delegate,m,fs)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Iu(v,p){return lh.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Er,v})();function id(v,p,m){let w=v;"function"!=typeof v&&({next:w,error:p,complete:m}=v);const x=w;return{next:Y=>x(Y&&Ms.getOrCreate(Y)),error:p,complete:m}}function bl(v,p){const m=function a_(v,p){const m=Rp();if(!m)return[];const w=G(Op,v,p);switch(m.getItem(w)){case Er.NONE:return[z];case Er.LOCAL:return[sa,us];case Er.SESSION:return[us];default:return[]}}(v,p);if(typeof self<"u"&&!m.includes(sa)&&m.push(sa),typeof window<"u")for(const w of[Xa,us])m.includes(w)||m.push(w);return m.includes(z)||m.push(z),m}class rd{constructor(){this.providerId="phone",this._delegate=new Tc(td(ee.Z.auth()))}static credential(p,m){return Tc.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}rd.PHONE_SIGN_IN_METHOD=Tc.PHONE_SIGN_IN_METHOD,rd.PROVIDER_ID=Tc.PROVIDER_ID;const Xv=q;class DE{constructor(p,m,w=ee.Z.app()){var x;Xv(null===(x=w.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Si(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lp(v){v.INTERNAL.registerComponent(new X.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new nd(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ls,FacebookAuthProvider:$a,GithubAuthProvider:Cu,GoogleAuthProvider:ql,OAuthProvider:So,SAMLAuthProvider:kr,PhoneAuthProvider:rd,PhoneMultiFactorGenerator:kc,RecaptchaVerifier:DE,TwitterAuthProvider:yr,Auth:nd,AuthCredential:Ui,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.3.4")}(ee.Z)},8766:(pt,Ae,L)=>{"use strict";L.d(Ae,{Lj:()=>Me,X3:()=>ft});var a=L(5861);let B,re;const X=new WeakMap,ge=new WeakMap,de=new WeakMap,H=new WeakMap,j=new WeakMap;let Ce={get(q,_e,$e){if(q instanceof IDBTransaction){if("done"===_e)return ge.get(q);if("objectStoreNames"===_e)return q.objectStoreNames||de.get(q);if("store"===_e)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return he(q[_e])},set:(q,_e,$e)=>(q[_e]=$e,!0),has:(q,_e)=>q instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in q};function ve(q){return"function"==typeof q?function it(q){return q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ue(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(q)?function(..._e){return q.apply(et(this),_e),he(X.get(this))}:function(..._e){return he(q.apply(et(this),_e))}:function(_e,...$e){const at=q.call(et(this),_e,...$e);return de.set(at,_e.sort?_e.sort():[_e]),he(at)}}(q):(q instanceof IDBTransaction&&function Oe(q){if(ge.has(q))return;const _e=new Promise(($e,at)=>{const Ct=()=>{q.removeEventListener("complete",nt),q.removeEventListener("error",le),q.removeEventListener("abort",le)},nt=()=>{$e(),Ct()},le=()=>{at(q.error||new DOMException("AbortError","AbortError")),Ct()};q.addEventListener("complete",nt),q.addEventListener("error",le),q.addEventListener("abort",le)});ge.set(q,_e)}(q),((q,_e)=>_e.some($e=>q instanceof $e))(q,function oe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(q,Ce):q)}function he(q){if(q instanceof IDBRequest)return function K(q){const _e=new Promise(($e,at)=>{const Ct=()=>{q.removeEventListener("success",nt),q.removeEventListener("error",le)},nt=()=>{$e(he(q.result)),Ct()},le=()=>{at(q.error),Ct()};q.addEventListener("success",nt),q.addEventListener("error",le)});return _e.then($e=>{$e instanceof IDBCursor&&X.set($e,q)}).catch(()=>{}),j.set(_e,q),_e}(q);if(H.has(q))return H.get(q);const _e=ve(q);return _e!==q&&(H.set(q,_e),j.set(_e,q)),_e}const et=q=>j.get(q);function ft(q,_e,{blocked:$e,upgrade:at,blocking:Ct,terminated:nt}={}){const le=indexedDB.open(q,_e),me=he(le);return at&&le.addEventListener("upgradeneeded",De=>{at(he(le.result),De.oldVersion,De.newVersion,he(le.transaction))}),$e&&le.addEventListener("blocked",()=>$e()),me.then(De=>{nt&&De.addEventListener("close",()=>nt()),Ct&&De.addEventListener("versionchange",()=>Ct())}).catch(()=>{}),me}function Me(q,{blocked:_e}={}){const $e=indexedDB.deleteDatabase(q);return _e&&$e.addEventListener("blocked",()=>_e()),he($e).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Ze=new Map;function qe(q,_e){if(!(q instanceof IDBDatabase)||_e in q||"string"!=typeof _e)return;if(Ze.get(_e))return Ze.get(_e);const $e=_e.replace(/FromIndex$/,""),at=_e!==$e,Ct=Se.includes($e);if(!($e in(at?IDBIndex:IDBObjectStore).prototype)||!Ct&&!be.includes($e))return;const nt=function(){var le=(0,a.Z)(function*(me,...De){const Pe=this.transaction(me,Ct?"readwrite":"readonly");let Le=Pe.store;return at&&(Le=Le.index(De.shift())),(yield Promise.all([Le[$e](...De),Ct&&Pe.done]))[0]});return function(De){return le.apply(this,arguments)}}();return Ze.set(_e,nt),nt}!function Te(q){Ce=q(Ce)}(q=>({...q,get:(_e,$e,at)=>qe(_e,$e)||q.get(_e,$e,at),has:(_e,$e)=>!!qe(_e,$e)||q.has(_e,$e)}))},5861:(pt,Ae,L)=>{"use strict";function a(B,re,oe,ue,X,ge,de){try{var H=B[ge](de),j=H.value}catch(K){return void oe(K)}H.done?re(j):Promise.resolve(j).then(ue,X)}function ee(B){return function(){var re=this,oe=arguments;return new Promise(function(ue,X){var ge=B.apply(re,oe);function de(j){a(ge,ue,X,de,H,"next",j)}function H(j){a(ge,ue,X,de,H,"throw",j)}de(void 0)})}}L.d(Ae,{Z:()=>ee})}},pt=>{pt(pt.s=2195)}]);